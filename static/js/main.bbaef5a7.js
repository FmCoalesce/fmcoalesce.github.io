/*! For license information please see main.bbaef5a7.js.LICENSE.txt */
(function(){var __webpack_modules__={7945:function(e){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="dist/",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r(n(1)),n(6)),o=r(a),s=r(n(7)),l=r(n(8)),c=r(n(9)),u=r(n(10)),d=r(n(11)),h=r(n(14)),f=[],p=!1,v={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},m=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(p=!0),p)return f=(0,d.default)(f,v),(0,u.default)(f,v.once),f},g=function(){f=(0,h.default)(),m()},y=function(){f.forEach((function(e,t){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay")}))},b=function(e){return!0===e||"mobile"===e&&c.default.mobile()||"phone"===e&&c.default.phone()||"tablet"===e&&c.default.tablet()||"function"==typeof e&&!0===e()},_=function(e){v=i(v,e),f=(0,h.default)();var t=document.all&&!window.atob;return b(v.disable)||t?y():(v.disableMutationObserver||l.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),v.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",v.easing),document.querySelector("body").setAttribute("data-aos-duration",v.duration),document.querySelector("body").setAttribute("data-aos-delay",v.delay),"DOMContentLoaded"===v.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?m(!0):"load"===v.startEvent?window.addEventListener(v.startEvent,(function(){m(!0)})):document.addEventListener(v.startEvent,(function(){m(!0)})),window.addEventListener("resize",(0,s.default)(m,v.debounceDelay,!0)),window.addEventListener("orientationchange",(0,s.default)(m,v.debounceDelay,!0)),window.addEventListener("scroll",(0,o.default)((function(){(0,u.default)(f,v.once)}),v.throttleDelay)),v.disableMutationObserver||l.default.ready("[data-aos]",g),f)};e.exports={init:_,refresh:m,refreshHard:g}},function(e,t){},,,,,function(e,t){(function(t){"use strict";function n(e,t,n){function r(t){var n=v,r=m;return v=m=void 0,k=t,y=e.apply(r,n)}function a(e){return k=e,b=setTimeout(u,t),E?r(e):y}function o(e){var n=t-(e-_);return M?w(n,g-(e-k)):n}function l(e){var n=e-_;return void 0===_||n>=t||n<0||M&&e-k>=g}function u(){var e=S();return l(e)?d(e):void(b=setTimeout(u,o(e)))}function d(e){return b=void 0,T&&v?r(e):(v=m=void 0,y)}function h(){void 0!==b&&clearTimeout(b),k=0,v=_=m=b=void 0}function f(){return void 0===b?y:d(S())}function p(){var e=S(),n=l(e);if(v=arguments,m=this,_=e,n){if(void 0===b)return a(_);if(M)return b=setTimeout(u,t),r(_)}return void 0===b&&(b=setTimeout(u,t)),y}var v,m,g,y,b,_,k=0,E=!1,M=!1,T=!0;if("function"!=typeof e)throw new TypeError(c);return t=s(t)||0,i(n)&&(E=!!n.leading,g=(M="maxWait"in n)?x(s(n.maxWait)||0,t):g,T="trailing"in n?!!n.trailing:T),p.cancel=h,p.flush=f,p}function r(e,t,r){var a=!0,o=!0;if("function"!=typeof e)throw new TypeError(c);return i(r)&&(a="leading"in r?!!r.leading:a,o="trailing"in r?!!r.trailing:o),n(e,t,{leading:a,maxWait:t,trailing:o})}function i(e){var t="undefined"==typeof e?"undefined":l(e);return!!e&&("object"==t||"function"==t)}function a(e){return!!e&&"object"==("undefined"==typeof e?"undefined":l(e))}function o(e){return"symbol"==("undefined"==typeof e?"undefined":l(e))||a(e)&&_.call(e)==d}function s(e){if("number"==typeof e)return e;if(o(e))return u;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(h,"");var n=p.test(e);return n||v.test(e)?m(e.slice(2),n?2:8):f.test(e)?u:+e}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c="Expected a function",u=NaN,d="[object Symbol]",h=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,v=/^0o[0-7]+$/i,m=parseInt,g="object"==("undefined"==typeof t?"undefined":l(t))&&t&&t.Object===Object&&t,y="object"==("undefined"==typeof self?"undefined":l(self))&&self&&self.Object===Object&&self,b=g||y||Function("return this")(),_=Object.prototype.toString,x=Math.max,w=Math.min,S=function(){return b.Date.now()};e.exports=r}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";function n(e,t,n){function i(t){var n=v,r=m;return v=m=void 0,k=t,y=e.apply(r,n)}function a(e){return k=e,b=setTimeout(u,t),E?i(e):y}function s(e){var n=t-(e-S);return M?x(n,g-(e-k)):n}function c(e){var n=e-S;return void 0===S||n>=t||n<0||M&&e-k>=g}function u(){var e=w();return c(e)?d(e):void(b=setTimeout(u,s(e)))}function d(e){return b=void 0,T&&v?i(e):(v=m=void 0,y)}function h(){void 0!==b&&clearTimeout(b),k=0,v=S=m=b=void 0}function f(){return void 0===b?y:d(w())}function p(){var e=w(),n=c(e);if(v=arguments,m=this,S=e,n){if(void 0===b)return a(S);if(M)return b=setTimeout(u,t),i(S)}return void 0===b&&(b=setTimeout(u,t)),y}var v,m,g,y,b,S,k=0,E=!1,M=!1,T=!0;if("function"!=typeof e)throw new TypeError(l);return t=o(t)||0,r(n)&&(E=!!n.leading,g=(M="maxWait"in n)?_(o(n.maxWait)||0,t):g,T="trailing"in n?!!n.trailing:T),p.cancel=h,p.flush=f,p}function r(e){var t="undefined"==typeof e?"undefined":s(e);return!!e&&("object"==t||"function"==t)}function i(e){return!!e&&"object"==("undefined"==typeof e?"undefined":s(e))}function a(e){return"symbol"==("undefined"==typeof e?"undefined":s(e))||i(e)&&b.call(e)==u}function o(e){if("number"==typeof e)return e;if(a(e))return c;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(d,"");var n=f.test(e);return n||p.test(e)?v(e.slice(2),n?2:8):h.test(e)?c:+e}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l="Expected a function",c=NaN,u="[object Symbol]",d=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,p=/^0o[0-7]+$/i,v=parseInt,m="object"==("undefined"==typeof t?"undefined":s(t))&&t&&t.Object===Object&&t,g="object"==("undefined"==typeof self?"undefined":s(self))&&self&&self.Object===Object&&self,y=m||g||Function("return this")(),b=Object.prototype.toString,_=Math.max,x=Math.min,w=function(){return y.Date.now()};e.exports=n}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t=void 0,r=void 0;for(t=0;t<e.length;t+=1){if((r=e[t]).dataset&&r.dataset.aos)return!0;if(r.children&&n(r.children))return!0}return!1}function r(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function i(){return!!r()}function a(e,t){var n=window.document,i=new(r())(o);s=t,i.observe(n.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function o(e){e&&e.forEach((function(e){var t=Array.prototype.slice.call(e.addedNodes),r=Array.prototype.slice.call(e.removedNodes);if(n(t.concat(r)))return s()}))}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){};t.default={isSupported:i,ready:a}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,o=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=function(){function e(){n(this,e)}return i(e,[{key:"phone",value:function(){var e=r();return!(!a.test(e)&&!o.test(e.substr(0,4)))}},{key:"mobile",value:function(){var e=r();return!(!s.test(e)&&!l.test(e.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),e}();t.default=new c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){var r=e.node.getAttribute("data-aos-once");t>e.position?e.node.classList.add("aos-animate"):"undefined"!=typeof r&&("false"===r||!n&&"true"!==r)&&e.node.classList.remove("aos-animate")},r=function(e,t){var r=window.pageYOffset,i=window.innerHeight;e.forEach((function(e,a){n(e,i+r,t)}))};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(12)),a=function(e,t){return e.forEach((function(e,n){e.node.classList.add("aos-init"),e.position=(0,i.default)(e.node,t.offset)})),e};t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(13)),a=function(e,t){var n=0,r=0,a=window.innerHeight,o={offset:e.getAttribute("data-aos-offset"),anchor:e.getAttribute("data-aos-anchor"),anchorPlacement:e.getAttribute("data-aos-anchor-placement")};switch(o.offset&&!isNaN(o.offset)&&(r=parseInt(o.offset)),o.anchor&&document.querySelectorAll(o.anchor)&&(e=document.querySelectorAll(o.anchor)[0]),n=(0,i.default)(e).top,o.anchorPlacement){case"top-bottom":break;case"center-bottom":n+=e.offsetHeight/2;break;case"bottom-bottom":n+=e.offsetHeight;break;case"top-center":n+=a/2;break;case"bottom-center":n+=a/2+e.offsetHeight;break;case"center-center":n+=a/2+e.offsetHeight/2;break;case"top-top":n+=a;break;case"bottom-top":n+=e.offsetHeight+a;break;case"center-top":n+=e.offsetHeight/2+a}return o.anchorPlacement||o.offset||isNaN(t)||(r=t),n+r};t.default=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-("BODY"!=e.tagName?e.scrollLeft:0),n+=e.offsetTop-("BODY"!=e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:n,left:t}};t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e=e||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(e,(function(e){return{node:e}}))};t.default=n}])},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var o=u(n);d&&(o=o.concat(d(n)));for(var s=l(t),v=l(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=h(n,g);try{c(t,g,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case a:case s:case o:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case l:return e;default:return t}}case i:return t}}}function w(e){return x(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return w(e)||x(e)===u},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===m},t.isMemo=function(e){return x(e)===v},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===o},t.isSuspense=function(e){return x(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===s||e===o||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===_||e.$$typeof===g)},t.typeOf=x},8309:function(e,t,n){"use strict";e.exports=n(746)},2176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},802:function(e){e.exports=function(){function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,(function(e){return i(t[o][1][e]||e)}),c,c.exports,e,t,n,r)}return n[o].exports}for(var a=void 0,o=0;o<r.length;o++)i(r[o]);return i}return e}()({1:[function(e,t,n){"use strict";t.exports=function(){if("undefined"===typeof window||"undefined"===typeof navigator)return function(){return 0};if(!navigator.userAgent.match(/iphone|ipod|ipad/i))return function(){return window.innerHeight};var e=Math.abs(window.orientation),t={w:0,h:0};return function(){var n=document.createElement("div");n.style.position="fixed",n.style.height="100vh",n.style.width=0,n.style.top=0,document.documentElement.appendChild(n),t.w=90===e?n.offsetHeight:window.innerWidth,t.h=90===e?window.innerWidth:n.offsetHeight,document.documentElement.removeChild(n),n=null}(),function(){return 90!==Math.abs(window.orientation)?t.h:t.w}}()},{}]},{},[1])(1)},1571:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},3881:function(e,t,n){var r="Expected a function",i=NaN,a="[object Symbol]",o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,d="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,h="object"==typeof self&&self&&self.Object===Object&&self,f=d||h||Function("return this")(),p=Object.prototype.toString,v=Math.max,m=Math.min,g=function(){return f.Date.now()};function y(e,t,n){var i,a,o,s,l,c,u=0,d=!1,h=!1,f=!0;if("function"!=typeof e)throw new TypeError(r);function p(t){var n=i,r=a;return i=a=void 0,u=t,s=e.apply(r,n)}function y(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-u>=o}function x(){var e=g();if(y(e))return w(e);l=setTimeout(x,function(e){var n=t-(e-c);return h?m(n,o-(e-u)):n}(e))}function w(e){return l=void 0,f&&i?p(e):(i=a=void 0,s)}function S(){var e=g(),n=y(e);if(i=arguments,a=this,c=e,n){if(void 0===l)return function(e){return u=e,l=setTimeout(x,t),d?p(e):s}(c);if(h)return l=setTimeout(x,t),p(c)}return void 0===l&&(l=setTimeout(x,t)),s}return t=_(t)||0,b(n)&&(d=!!n.leading,o=(h="maxWait"in n)?v(_(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),S.cancel=function(){void 0!==l&&clearTimeout(l),u=0,i=c=a=l=void 0},S.flush=function(){return void 0===l?s:w(g())},S}function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function _(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&p.call(e)==a}(e))return i;if(b(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=l.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):s.test(e)?i:+e}e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError(r);return b(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),y(e,t,{leading:i,maxWait:t,trailing:a})}},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var a,o,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in a=Object(arguments[l]))n.call(a,c)&&(s[c]=a[c]);if(t){o=t(a);for(var u=0;u<o.length;u++)r.call(a,o[u])&&(s[o[u]]=a[o[u]])}}return s}},6151:function(e,t,n){var r=n(1571);e.exports=f,e.exports.parse=a,e.exports.compile=function(e,t){return s(a(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,s="",u=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d=n[0],h=n[1],f=n.index;if(s+=e.slice(o,f),o=f+d.length,h)s+=h[1];else{var p=e[o],v=n[2],m=n[3],g=n[4],y=n[5],b=n[6],_=n[7];s&&(r.push(s),s="");var x=null!=v&&null!=p&&p!==v,w="+"===b||"*"===b,S="?"===b||"*"===b,k=n[2]||u,E=g||y;r.push({name:m||a++,prefix:v||"",delimiter:k,optional:S,repeat:w,partial:x,asterisk:!!_,pattern:E?c(E):_?".*":"[^"+l(k)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var a="",s=t||{},l=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var u=e[c];if("string"!==typeof u){var d,h=s[u.name];if(null==h){if(u.optional){u.partial&&(a+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(h)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(d=l(h[f]),!n[c].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");a+=(0===f?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(h),!n[c].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');a+=u.prefix+d}}else a+=u}return a}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)o+=l(c);else{var h=l(c.prefix),f="(?:"+c.pattern+")";t.push(c),c.repeat&&(f+="(?:"+h+f+")*"),o+=f=c.optional?c.partial?h+"("+f+")?":"(?:"+h+"("+f+"))?":h+"("+f+")"}}var p=l(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",u(new RegExp("^"+o,d(n)),t)}function f(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(f(e[i],t,n).source);return u(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},3661:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(5764).default,_objectSpread=__webpack_require__(2122).default,_get=__webpack_require__(1588).default,_getPrototypeOf=__webpack_require__(3808).default,_defineProperty=__webpack_require__(8416).default,_assertThisInitialized=__webpack_require__(6115).default,_classPrivateMethodInitSpec=__webpack_require__(1860).default,_classPrivateMethodGet=__webpack_require__(4467).default,_classPrivateFieldInitSpec=__webpack_require__(9159).default,_classPrivateFieldSet=__webpack_require__(5661).default,_classPrivateFieldGet=__webpack_require__(468).default,_regeneratorRuntime=__webpack_require__(7061).default,_classStaticPrivateFieldSpecSet=__webpack_require__(2306).default,_classStaticPrivateFieldSpecGet=__webpack_require__(1280).default,_asyncToGenerator=__webpack_require__(7156).default,_toConsumableArray=__webpack_require__(861).default,_slicedToArray=__webpack_require__(7424).default,_createForOfIteratorHelper=__webpack_require__(4704).default,_createClass=__webpack_require__(9728).default,_classCallCheck=__webpack_require__(6690).default,_inherits=__webpack_require__(1655).default,_createSuper=__webpack_require__(6389).default,factory;globalThis,factory=function(){return function(){"use strict";var __webpack_modules__=[,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.UNSUPPORTED_FEATURES=t.TextRenderingMode=t.StreamType=t.RenderingIntentFlag=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FontType=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMode=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.arrayByteLength=g,t.arraysToBytes=function(e){var t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];for(var n=0,r=0;r<t;r++)n+=g(e[r]);for(var i=0,a=new Uint8Array(n),o=0;o<t;o++){var s=e[o];s instanceof Uint8Array||(s="string"===typeof s?m(s):new Uint8Array(s));var l=s.byteLength;a.set(s,i),i+=l}return a},t.assert=function(e,t){e||o(t)},t.bytesToString=function(e){"object"===typeof e&&null!==e&&void 0!==e.length||o("Invalid argument for bytesToString");var t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);for(var r=[],i=0;i<t;i+=n){var a=Math.min(i+n,t),s=e.subarray(i,a);r.push(String.fromCharCode.apply(null,s))}return r.join("")},t.createPromiseCapability=function(){var e=Object.create(null),t=!1;return Object.defineProperty(e,"settled",{get:function(){return t}}),e.promise=new Promise((function(n,r){e.resolve=function(e){t=!0,n(e)},e.reject=function(e){t=!0,r(e)}})),e},t.createValidAbsoluteUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){var r=e.match(/\./g);r&&r.length>=2&&(e="http://".concat(e))}if(n.tryConvertEncoding)try{e=w(e)}catch(a){}}var i=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch(a){}return null},t.escapeString=function(e){return e.replace(/([()\\\n\r])/g,(function(e){return"\n"===e?"\\n":"\r"===e?"\\r":"\\".concat(e)}))},t.getModificationDate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")].join("")},t.getVerbosityLevel=function(){return i},t.info=function(e){i>=r.INFOS&&console.log("Info: ".concat(e))},t.isArrayBuffer=function(e){return"object"===typeof e&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},t.isAscii=function(e){return/^[\x00-\x7F]*$/.test(e)},t.objectFromMap=function(e){var t,n=Object.create(null),r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=_slicedToArray(t.value,2),a=i[0],o=i[1];n[a]=o}}catch(s){r.e(s)}finally{r.f()}return n},t.objectSize=function(e){return Object.keys(e).length},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(i=e)},t.shadow=s,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=m,t.stringToPDFString=function(e){var t;if(e[0]>="\xef"&&("\xfe"===e[0]&&"\xff"===e[1]?t="utf-16be":"\xff"===e[0]&&"\xfe"===e[1]?t="utf-16le":"\xef"===e[0]&&"\xbb"===e[1]&&"\xbf"===e[2]&&(t="utf-8"),t))try{var n=new TextDecoder(t,{fatal:!0}),r=m(e);return n.decode(r)}catch(c){a('stringToPDFString: "'.concat(c,'".'))}for(var i=[],o=0,s=e.length;o<s;o++){var l=x[e.charCodeAt(o)];i.push(l?String.fromCharCode(l):e.charAt(o))}return i.join("")},t.stringToUTF16BEString=function(e){for(var t=["\xfe\xff"],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);t.push(String.fromCharCode(i>>8&255),String.fromCharCode(255&i))}return t.join("")},t.stringToUTF8String=w,t.unreachable=o,t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=a,n(2),t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.LINE_FACTOR=1.35,t.LINE_DESCENT_FACTOR=.35,t.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},t.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},t.AnnotationEditorPrefix="pdfjs_internal_editor_",t.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},t.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},t.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},t.PageActionEventType={O:"PageOpen",C:"PageClose"},t.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},t.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var r={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=r,t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var i=r.WARNINGS;function a(e){i>=r.WARNINGS&&console.log("Warning: ".concat(e))}function o(e){throw new Error(e)}function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}var l=function(){function e(t,n){this.constructor===e&&o("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();t.BaseException=l;var c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,"PasswordException")).code=r,i}return _createClass(n)}(l);t.PasswordException=c;var u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,"UnknownErrorException")).details=r,i}return _createClass(n)}(l);t.UnknownErrorException=u;var d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,"InvalidPDFException")}return _createClass(n)}(l);t.InvalidPDFException=d;var h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,"MissingPDFException")}return _createClass(n)}(l);t.MissingPDFException=h;var f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,"UnexpectedResponseException")).status=r,i}return _createClass(n)}(l);t.UnexpectedResponseException=f;var p=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,"FormatError")}return _createClass(n)}(l);t.FormatError=p;var v=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,"AbortException")}return _createClass(n)}(l);function m(e){"string"!==typeof e&&o("Invalid argument for stringToBytes");for(var t=e.length,n=new Uint8Array(t),r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}function g(e){return void 0!==e.length?e.length:void 0!==e.byteLength?e.byteLength:void o("Invalid argument for arrayByteLength")}t.AbortException=v;var y=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"isLittleEndian",get:function(){return s(this,"isLittleEndian",function(){var e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}},{key:"isEvalSupported",get:function(){return s(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(e){return!1}}())}},{key:"isOffscreenCanvasSupported",get:function(){return s(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}}]),e}();t.FeatureTest=y;var b=_toConsumableArray(Array(256).keys()).map((function(e){return e.toString(16).padStart(2,"0")})),_=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"makeHexColor",value:function(e,t,n){return"#".concat(b[e]).concat(b[t]).concat(b[n])}},{key:"scaleMinMax",value:function(e,t){var n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[1],t[1]=n),t[0]*=e[0],t[1]*=e[0],e[3]<0&&(n=t[2],t[2]=t[3],t[3]=n),t[2]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[2],t[2]=n,n=t[1],t[1]=t[3],t[3]=n,e[1]<0&&(n=t[2],t[2]=t[3],t[3]=n),t[2]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[1],t[1]=n),t[0]*=e[2],t[1]*=e[2]),t[0]+=e[4],t[1]+=e[4],t[2]+=e[5],t[3]+=e[5]}},{key:"transform",value:function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}},{key:"applyTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}},{key:"applyInverseTransform",value:function(e,t){var n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}},{key:"getAxialAlignedBoundingBox",value:function(t,n){var r=e.applyTransform(t,n),i=e.applyTransform(t.slice(2,4),n),a=e.applyTransform([t[0],t[3]],n),o=e.applyTransform([t[2],t[1]],n);return[Math.min(r[0],i[0],a[0],o[0]),Math.min(r[1],i[1],a[1],o[1]),Math.max(r[0],i[0],a[0],o[0]),Math.max(r[1],i[1],a[1],o[1])]}},{key:"inverseTransform",value:function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}},{key:"apply3dTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}},{key:"singularValueDecompose2dScale",value:function(e){var t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(n+a)/2,s=Math.sqrt(Math.pow(n+a,2)-4*(n*a-i*r))/2,l=o+s||1,c=o-s||1;return[Math.sqrt(l),Math.sqrt(c)]}},{key:"normalizeRect",value:function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}},{key:"intersect",value:function(e,t){var n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;var i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>a?null:[n,i,r,a]}},{key:"bezierBoundingBox",value:function(e,t,n,r,i,a,o,s){for(var l,c,u,d,h,f,p,v,m=[],g=[[],[]],y=0;y<2;++y)if(0===y?(c=6*e-12*n+6*i,l=-3*e+9*n-9*i+3*o,u=3*n-3*e):(c=6*t-12*r+6*a,l=-3*t+9*r-9*a+3*s,u=3*r-3*t),Math.abs(l)<1e-12){if(Math.abs(c)<1e-12)continue;0<(d=-u/c)&&d<1&&m.push(d)}else p=c*c-4*u*l,v=Math.sqrt(p),p<0||(0<(h=(-c+v)/(2*l))&&h<1&&m.push(h),0<(f=(-c-v)/(2*l))&&f<1&&m.push(f));for(var b,_=m.length,x=_;_--;)b=1-(d=m[_]),g[0][_]=b*b*b*e+3*b*b*d*n+3*b*d*d*i+d*d*d*o,g[1][_]=b*b*b*t+3*b*b*d*r+3*b*d*d*a+d*d*d*s;return g[0][x]=e,g[1][x]=t,g[0][x+1]=o,g[1][x+1]=s,g[0].length=g[1].length=x+2,[Math.min.apply(Math,_toConsumableArray(g[0])),Math.min.apply(Math,_toConsumableArray(g[1])),Math.max.apply(Math,_toConsumableArray(g[0])),Math.max.apply(Math,_toConsumableArray(g[1]))]}}]),e}();t.Util=_;var x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function w(e){return decodeURIComponent(escape(e))}},function(e,t,n){n(3)},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;var n="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=n},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20),DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){var _w_pdfjs_require__=__w_pdfjs_require__(21),NodeCanvasFactory=_w_pdfjs_require__.NodeCanvasFactory,NodeCMapReaderFactory=_w_pdfjs_require__.NodeCMapReaderFactory,NodeStandardFontDataFactory=_w_pdfjs_require__.NodeStandardFontDataFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory=NodeCanvasFactory,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=NodeCMapReaderFactory,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=NodeStandardFontDataFactory}function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){var t,n=new PDFDocumentLoadingTask;if("string"===typeof e||e instanceof URL)t={url:e};else if((0,_util.isArrayBuffer)(e))t={data:e};else if(e instanceof PDFDataRangeTransport)t={range:e};else{if("object"!==typeof e)throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=e}var r=Object.create(null),i=null,a=null;for(var o in t){var s=t[o];switch(o){case"url":if("undefined"!==typeof window)try{r[o]=new URL(s,window.location).href;continue}catch(u){(0,_util.warn)('Cannot create valid URL: "'.concat(u,'".'))}else if("string"===typeof s||s instanceof URL){r[o]=s.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":i=s;continue;case"worker":a=s;continue;case"data":if(_is_node.isNodeJS&&"undefined"!==typeof Buffer&&s instanceof Buffer)r[o]=new Uint8Array(s);else{if(s instanceof Uint8Array)break;if("string"===typeof s)r[o]=(0,_util.stringToBytes)(s);else if("object"!==typeof s||null===s||isNaN(s.length)){if(!(0,_util.isArrayBuffer)(s))throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.");r[o]=new Uint8Array(s)}else r[o]=new Uint8Array(s)}continue}r[o]=s}if(r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.StandardFontDataFactory=r.StandardFontDataFactory||DefaultStandardFontDataFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,r.enableXfa=!0===r.enableXfa,(!Number.isInteger(r.rangeChunkSize)||r.rangeChunkSize<1)&&(r.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!==typeof r.docBaseUrl||(0,_display_utils.isDataScheme)(r.docBaseUrl))&&(r.docBaseUrl=null),(!Number.isInteger(r.maxImageSize)||r.maxImageSize<-1)&&(r.maxImageSize=-1),"string"!==typeof r.cMapUrl&&(r.cMapUrl=null),"string"!==typeof r.standardFontDataUrl&&(r.standardFontDataUrl=null),"boolean"!==typeof r.useWorkerFetch&&(r.useWorkerFetch=r.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&r.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!==typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!==typeof r.disableFontFace&&(r.disableFontFace=_is_node.isNodeJS),"boolean"!==typeof r.useSystemFonts&&(r.useSystemFonts=!_is_node.isNodeJS&&!r.disableFontFace),"object"===typeof r.ownerDocument&&null!==r.ownerDocument||(r.ownerDocument=globalThis.document),"boolean"!==typeof r.disableRange&&(r.disableRange=!1),"boolean"!==typeof r.disableStream&&(r.disableStream=!1),"boolean"!==typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!a){var l={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};a=l.port?PDFWorker.fromPort(l):new PDFWorker(l),n._worker=a}var c=n.docId;return a.promise.then((function(){if(n.destroyed)throw new Error("Loading aborted");var e=_fetchDocument(a,r,i,c),t=new Promise((function(e){var t;i?t=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,contentDispositionFilename:r.contentDispositionFilename,disableRange:r.disableRange,disableStream:r.disableStream},i):r.data||(t=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),e(t)}));return Promise.all([e,t]).then((function(e){var t=_slicedToArray(e,2),i=t[0],o=t[1];if(n.destroyed)throw new Error("Loading aborted");var s=new _message_handler.MessageHandler(c,i,a.port),l=new WorkerTransport(s,n,o,r);n._transport=l,s.send("Ready",null)}))})).catch(n._capability.reject),n}function _fetchDocument(e,t,n,r){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r,i){var a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.destroyed){e.next=2;break}throw new Error("Worker was destroyed");case 2:return r&&(n.length=r.length,n.initialData=r.initialData,n.progressiveDone=r.progressiveDone,n.contentDispositionFilename=r.contentDispositionFilename),e.next=5,t.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.16.105",source:{data:n.data,url:n.url,password:n.password,disableAutoFetch:n.disableAutoFetch,rangeChunkSize:n.rangeChunkSize,length:n.length},maxImageSize:n.maxImageSize,disableFontFace:n.disableFontFace,docBaseUrl:n.docBaseUrl,ignoreErrors:n.ignoreErrors,isEvalSupported:n.isEvalSupported,fontExtraProperties:n.fontExtraProperties,enableXfa:n.enableXfa,useSystemFonts:n.useSystemFonts,cMapUrl:n.useWorkerFetch?n.cMapUrl:null,standardFontDataUrl:n.useWorkerFetch?n.standardFontDataUrl:null});case 5:if(a=e.sent,n.data&&(n.data=null),!t.destroyed){e.next=9;break}throw new Error("Worker was destroyed");case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var PDFDocumentLoadingTask=function(){function e(){var t,n;_classCallCheck(this,e),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d".concat((_classStaticPrivateFieldSpecSet(e,e,_docId,(t=_classStaticPrivateFieldSpecGet(e,e,_docId),n=t++,t)),n)),this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(e,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.destroyed=!0,e.next=3,null===(t=this._transport)||void 0===t?void 0:t.destroy();case 3:this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),_docId={writable:!0,value:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var PDFDataRangeTransport=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.length=t,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(e,[{key:"addRangeListener",value:function(e){this._rangeListeners.push(e)}},{key:"addProgressListener",value:function(e){this._progressListeners.push(e)}},{key:"addProgressiveReadListener",value:function(e){this._progressiveReadListeners.push(e)}},{key:"addProgressiveDoneListener",value:function(e){this._progressiveDoneListeners.push(e)}},{key:"onDataRange",value:function(e,t){var n,r=_createForOfIteratorHelper(this._rangeListeners);try{for(r.s();!(n=r.n()).done;)(0,n.value)(e,t)}catch(i){r.e(i)}finally{r.f()}}},{key:"onDataProgress",value:function(e,t){var n=this;this._readyCapability.promise.then((function(){var r,i=_createForOfIteratorHelper(n._progressListeners);try{for(i.s();!(r=i.n()).done;)(0,r.value)(e,t)}catch(a){i.e(a)}finally{i.f()}}))}},{key:"onDataProgressiveRead",value:function(e){var t=this;this._readyCapability.promise.then((function(){var n,r=_createForOfIteratorHelper(t._progressiveReadListeners);try{for(r.s();!(n=r.n()).done;)(0,n.value)(e)}catch(i){r.e(i)}finally{r.f()}}))}},{key:"onDataProgressiveDone",value:function(){var e=this;this._readyCapability.promise.then((function(){var t,n=_createForOfIteratorHelper(e._progressiveDoneListeners);try{for(n.s();!(t=n.n()).done;)(0,t.value)()}catch(r){n.e(r)}finally{n.f()}}))}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),e}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._pdfInfo=t,this._transport=n,Object.defineProperty(this,"fingerprint",{get:function(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),e.abrupt("return",r.stats||{streamTypes:{},fontTypes:{}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})}return _createClass(e,[{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function(){return this._pdfInfo.fingerprints}},{key:"stats",get:function(){return this._transport.stats}},{key:"isPureXfa",get:function(){return!!this._transport._htmlForXfa}},{key:"allXfaHtml",get:function(){return this._transport._htmlForXfa}},{key:"getPage",value:function(e){return this._transport.getPage(e)}},{key:"getPageIndex",value:function(e){return this._transport.getPageIndex(e)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(e){return this._transport.getDestination(e)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"cleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"saveDocument",value:function(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),e}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,e),this._pageIndex=t,this._pageInfo=n,this._ownerDocument=i,this._transport=r,this._stats=a?new _display_utils.StatTimer:null,this._pdfBug=a,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}return _createClass(e,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scale,n=e.rotation,r=void 0===n?this.rotate:n,i=e.offsetX,a=void 0===i?0:i,o=e.offsetY,s=void 0===o?0:o,l=e.dontFlip,c=void 0!==l&&l;return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:r,offsetX:a,offsetY:s,dontFlip:c})}},{key:"getAnnotations",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).intent,t=void 0===e?"display":e,n=this._transport.getRenderingIntent(t),r=this._annotationPromises.get(n.cacheKey);return r||(r=this._transport.getAnnotations(this._pageIndex,n.renderingIntent),this._annotationPromises.set(n.cacheKey,r),r=r.then((function(e){var t,n=_createForOfIteratorHelper(e);try{var r=function(){var e=t.value;void 0!==e.titleObj&&Object.defineProperty(e,"title",{get:function(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),e.titleObj.str}}),void 0!==e.contentsObj&&Object.defineProperty(e,"contents",{get:function(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),e.contentsObj.str}})};for(n.s();!(t=n.n()).done;)r()}catch(i){n.e(i)}finally{n.f()}return e}))),r}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(null===(t=this._transport._htmlForXfa)||void 0===t?void 0:t.children[this._pageIndex])||null);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(e){var t,n,r,i=this,a=e.canvasContext,o=e.viewport,s=e.intent,l=void 0===s?"display":s,c=e.annotationMode,u=void 0===c?_util.AnnotationMode.ENABLE:c,d=e.transform,h=void 0===d?null:d,f=e.imageLayer,p=void 0===f?null:f,v=e.canvasFactory,m=void 0===v?null:v,g=e.background,y=void 0===g?null:g,b=e.optionalContentConfigPromise,_=void 0===b?null:b,x=e.annotationCanvasMap,w=void 0===x?null:x,S=e.pageColors,k=void 0===S?null:S,E=e.printAnnotationStorage,M=void 0===E?null:E;void 0!==(null===(t=arguments[0])||void 0===t?void 0:t.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&u===_util.AnnotationMode.ENABLE&&(u=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null===(n=arguments[0])||void 0===n?void 0:n.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&u===_util.AnnotationMode.ENABLE&&(u=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");var T=this._transport.getRenderingIntent(l,u,M);this.pendingCleanup=!1,_||(_=this._transport.getOptionalContentConfig());var P=this._intentStates.get(T.cacheKey);P||(P=Object.create(null),this._intentStates.set(T.cacheKey,P)),P.streamReaderCancelTimeout&&(clearTimeout(P.streamReaderCancelTimeout),P.streamReaderCancelTimeout=null);var A=m||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),C=!!(T.renderingIntent&_util.RenderingIntentFlag.PRINT);P.displayReadyCapability||(P.displayReadyCapability=(0,_util.createPromiseCapability)(),P.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(T));var R=function(e){P.renderTasks.delete(O),(i.cleanupAfterRender||C)&&(i.pendingCleanup=!0),i._tryCleanup(),e?(O.capability.reject(e),i._abortOperatorList({intentState:P,reason:e instanceof Error?e:new Error(e)})):O.capability.resolve(),i._stats&&(i._stats.timeEnd("Rendering"),i._stats.timeEnd("Overall"))},O=new InternalRenderTask({callback:R,params:{canvasContext:a,viewport:o,transform:h,imageLayer:p,background:y},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:w,operatorList:P.operatorList,pageIndex:this._pageIndex,canvasFactory:A,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:k});((r=P).renderTasks||(r.renderTasks=new Set)).add(O);var L=O.task;return Promise.all([P.displayReadyCapability.promise,_]).then((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];i.pendingCleanup?R():(i._stats&&i._stats.time("Rendering"),O.initializeGraphics({transparency:n,optionalContentConfig:r}),O.operatorListChanged())})).catch(R),L}},{key:"getOperatorList",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.intent,i=void 0===r?"display":r,a=n.annotationMode,o=void 0===a?_util.AnnotationMode.ENABLE:a,s=n.printAnnotationStorage,l=void 0===s?null:s,c=this._transport.getRenderingIntent(i,o,l,!0),u=this._intentStates.get(c.cacheKey);return u||(u=Object.create(null),this._intentStates.set(c.cacheKey,u)),u.opListReadCapability||((e=Object.create(null)).operatorListChanged=function(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(e))},u.opListReadCapability=(0,_util.createPromiseCapability)(),((t=u).renderTasks||(t.renderTasks=new Set)).add(e),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(c)),u.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableCombineTextItems,n=void 0!==t&&t,r=e.includeMarkedContent,i=void 0!==r&&r;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==n,includeMarkedContent:!0===i},{highWaterMark:100,size:function(e){return e.items.length}})}},{key:"getTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((function(e){return _xfa_text.XfaText.textContent(e)}));var t=this.streamTextContent(e);return new Promise((function(e,n){var r=t.getReader(),i={items:[],styles:Object.create(null)};!function t(){r.read().then((function(n){var r,a=n.value;n.done?e(i):(Object.assign(i.styles,a.styles),(r=i.items).push.apply(r,_toConsumableArray(a.items)),t())}),n)}()}))}},{key:"getStructTree",value:function(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}},{key:"_destroy",value:function(){this.destroyed=!0;var e,t=[],n=_createForOfIteratorHelper(this._intentStates.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability){var i,a=_createForOfIteratorHelper(r.renderTasks);try{for(a.s();!(i=a.n()).done;){var o=i.value;t.push(o.completed),o.cancel()}}catch(c){a.e(c)}finally{a.f()}}}}catch(c){n.e(c)}finally{n.f()}this.objs.clear();var s,l=_createForOfIteratorHelper(this._bitmaps);try{for(l.s();!(s=l.n()).done;)s.value.close()}catch(c){l.e(c)}finally{l.f()}return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(t)}},{key:"cleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(e)}},{key:"_tryCleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;var t,n=_createForOfIteratorHelper(this._intentStates.values());try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.renderTasks,a=r.operatorList;if(i.size>0||!a.lastChunk)return!1}}catch(l){n.e(l)}finally{n.f()}this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer);var o,s=_createForOfIteratorHelper(this._bitmaps);try{for(s.s();!(o=s.n()).done;)o.value.close()}catch(l){s.e(l)}finally{s.f()}return this._bitmaps.clear(),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(e,t){var n=this._intentStates.get(t);n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(e))}},{key:"_renderPageChunk",value:function(e,t){for(var n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;var i,a=_createForOfIteratorHelper(t.renderTasks);try{for(a.s();!(i=a.n()).done;)i.value.operatorListChanged()}catch(o){a.e(o)}finally{a.f()}e.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(e){var t=this,n=e.renderingIntent,r=e.cacheKey,i=e.annotationStorageMap,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:n,cacheKey:r,annotationStorage:i}).getReader(),o=this._intentStates.get(r);o.streamReader=a,function e(){a.read().then((function(n){var r=n.value;n.done?o.streamReader=null:t._transport.destroyed||(t._renderPageChunk(r,o),e())}),(function(e){if(o.streamReader=null,!t._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;var n,r=_createForOfIteratorHelper(o.renderTasks);try{for(r.s();!(n=r.n()).done;)n.value.operatorListChanged()}catch(i){r.e(i)}finally{r.f()}t._tryCleanup()}if(o.displayReadyCapability)o.displayReadyCapability.reject(e);else{if(!o.opListReadCapability)throw e;o.opListReadCapability.reject(e)}}}))}()}},{key:"_abortOperatorList",value:function(e){var t=this,n=e.intentState,r=e.reason,i=e.force,a=void 0!==i&&i;if(n.streamReader){if(!a){if(n.renderTasks.size>0)return;if(r instanceof _display_utils.RenderingCancelledException)return void(n.streamReaderCancelTimeout=setTimeout((function(){t._abortOperatorList({intentState:n,reason:r,force:!0}),n.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT))}if(n.streamReader.cancel(new _util.AbortException(r.message)).catch((function(){})),n.streamReader=null,!this._transport.destroyed){var o,s=_createForOfIteratorHelper(this._intentStates);try{for(s.s();!(o=s.n()).done;){var l=_slicedToArray(o.value,2),c=l[0];if(l[1]===n){this._intentStates.delete(c);break}}}catch(u){s.e(u)}finally{s.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]),e}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function e(){_classCallCheck(this,e),this._listeners=[],this._deferred=Promise.resolve()}return _createClass(e,[{key:"postMessage",value:function(e,t){var n=this,r={data:structuredClone(e,t)};this._deferred.then((function(){var e,t=_createForOfIteratorHelper(n._listeners);try{for(t.s();!(e=t.n()).done;)e.value.call(n,r)}catch(i){t.e(i)}finally{t.f()}}))}},{key:"addEventListener",value:function(e,t){this._listeners.push(t)}},{key:"removeEventListener",value:function(e,t){var n=this._listeners.indexOf(t);this._listeners.splice(n,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),e}();exports.LoopbackPort=LoopbackPort;var PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"===typeof document){var _document,_document$currentScri,pdfjsFilePath=null===(_document=document)||void 0===_document||null===(_document$currentScri=_document.currentScript)||void 0===_document$currentScri?void 0:_document$currentScri.src;pdfjsFilePath&&(PDFWorkerUtil.fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(e,t){var n;try{if(!(n=new URL(e)).origin||"null"===n.origin)return!1}catch(i){return!1}var r=new URL(t,n);return n.origin===r.origin},PDFWorkerUtil.createCDNWrapper=function(e){var t='importScripts("'.concat(e,'");');return URL.createObjectURL(new Blob([t]))};var PDFWorker=function(){function PDFWorker(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=void 0===t?null:t,r=e.port,i=void 0===r?null:r,a=e.verbosity,o=void 0===a?(0,_util.getVerbosityLevel)():a;if(_classCallCheck(this,PDFWorker),i&&_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).has(i))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=n,this.destroyed=!1,this.verbosity=o,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,i)return _classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).set(i,this),void this._initializeFromPort(i);this._initialize()}return _createClass(PDFWorker,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var e=this;if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){var t=PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));var n=new Worker(t),r=new _message_handler.MessageHandler("main","worker",n),i=function(){n.removeEventListener("error",a),r.destroy(),n.terminate(),e.destroyed?e._readyCapability.reject(new Error("Worker was destroyed")):e._setupFakeWorker()},a=function(){e._webWorker||i()};n.addEventListener("error",a),r.on("test",(function(t){n.removeEventListener("error",a),e.destroyed?i():t?(e._messageHandler=r,e._port=n,e._webWorker=n,e._readyCapability.resolve(),r.send("configure",{verbosity:e.verbosity})):(e._setupFakeWorker(),r.destroy(),n.terminate())})),r.on("ready",(function(t){if(n.removeEventListener("error",a),e.destroyed)i();else try{o()}catch(r){e._setupFakeWorker()}}));var o=function(){var e=new Uint8Array;r.send("test",e,[e.buffer])};return void o()}catch(s){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var e=this;PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then((function(t){if(e.destroyed)e._readyCapability.reject(new Error("Worker was destroyed"));else{var n=new LoopbackPort;e._port=n;var r="fake".concat(PDFWorkerUtil.fakeWorkerId++),i=new _message_handler.MessageHandler(r+"_worker",r,n);t.setup(i,n);var a=new _message_handler.MessageHandler(r,r+"_worker",n);e._messageHandler=a,e._readyCapability.resolve(),a.send("configure",{verbosity:e.verbosity})}})).catch((function(t){e._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))}))}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"fromPort",value:function(e){if(null===e||void 0===e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).has(e.port)?_classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).get(e.port):new PDFWorker(e)}},{key:"workerSrc",get:function(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}},{key:"_mainThreadWorkerMessageHandler",get:function(){try{var e;return(null===(e=globalThis.pdfjsWorker)||void 0===e?void 0:e.WorkerMessageHandler)||null}catch(t){return null}}},{key:"_setupFakeWorkerGlobal",get:function get(){var _this14=this,loader=function(){var _ref15=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(){var mainWorkerMessageHandler,worker;return _regeneratorRuntime().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(mainWorkerMessageHandler=_this14._mainThreadWorkerMessageHandler,!mainWorkerMessageHandler){_context4.next=3;break}return _context4.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context4.next=6;break}return worker=eval("require")(_this14.workerSrc),_context4.abrupt("return",worker.WorkerMessageHandler);case 6:return _context4.next=8,(0,_display_utils.loadScript)(_this14.workerSrc);case 8:return _context4.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context4.stop()}}),_callee4)})));return function(){return _ref15.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}]),PDFWorker}(),_workerPorts={writable:!0,value:new WeakMap};exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap,WorkerTransport=function(){function e(t,n,r,i){_classCallCheck(this,e),_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=t,this.loadingTask=n,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:n.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this._params=i,i.useWorkerFetch||(this.CMapReaderFactory=new i.CMapReaderFactory({baseUrl:i.cMapUrl,isCompressed:i.cMapPacked}),this.StandardFontDataFactory=new i.StandardFontDataFactory({baseUrl:i.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(e,[{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"stats",get:function(){return _classPrivateFieldGet(this,_docStats)}},{key:"getRenderingIntent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_util.AnnotationMode.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=_util.RenderingIntentFlag.DISPLAY,a=null;switch(e){case"any":i=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":i=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(e))}switch(t){case _util.AnnotationMode.DISABLE:i+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:i+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:a=((i+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE)&_util.RenderingIntentFlag.PRINT&&n instanceof _annotation_storage.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(t))}return r&&(i+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:i,cacheKey:"".concat(i,"_").concat(_annotation_storage.AnnotationStorage.getHash(a)),annotationStorageMap:a}}},{key:"destroy",value:function(){var e=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var t,n=[],r=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(i._destroy())}}catch(o){r.e(o)}finally{r.f()}_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var a=this.messageHandler.sendWithPromise("Terminate",null);return n.push(a),Promise.all(n).then((function(){e.commonObjs.clear(),e.fontLoader.clear(),_classPrivateFieldSet(e,_metadataPromise,null),e._getFieldObjectsPromise=null,e._hasJSActionsPromise=null,e._networkStream&&e._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var e=this,t=this.messageHandler,n=this.loadingTask;t.on("GetReader",(function(t,n){(0,_util.assert)(e._networkStream,"GetReader - no `IPDFStream` instance available."),e._fullReader=e._networkStream.getFullReader(),e._fullReader.onProgress=function(t){e._lastProgress={loaded:t.loaded,total:t.total}},n.onPull=function(){e._fullReader.read().then((function(e){var t=e.value;e.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(t),1,[t]))})).catch((function(e){n.error(e)}))},n.onCancel=function(t){e._fullReader.cancel(t),n.ready.catch((function(t){if(!e.destroyed)throw t}))}})),t.on("ReaderHeadersReady",(function(t){var r=(0,_util.createPromiseCapability)(),i=e._fullReader;return i.headersReady.then((function(){var t;i.isStreamingSupported&&i.isRangeSupported||(e._lastProgress&&(null===(t=n.onProgress)||void 0===t||t.call(n,e._lastProgress)),i.onProgress=function(e){var t;null===(t=n.onProgress)||void 0===t||t.call(n,{loaded:e.loaded,total:e.total})});r.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})}),r.reject),r.promise})),t.on("GetRangeReader",(function(t,n){(0,_util.assert)(e._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var r=e._networkStream.getRangeReader(t.begin,t.end);r?(n.onPull=function(){r.read().then((function(e){var t=e.value;e.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetRangeReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(t),1,[t]))})).catch((function(e){n.error(e)}))},n.onCancel=function(t){r.cancel(t),n.ready.catch((function(t){if(!e.destroyed)throw t}))}):n.close()})),t.on("GetDoc",(function(t){var r=t.pdfInfo;e._numPages=r.numPages,e._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new PDFDocumentProxy(r,e))})),t.on("DocException",(function(e){var t;switch(e.name){case"PasswordException":t=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":t=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":t=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":t=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":t=new _util.UnknownErrorException(e.message,e.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}n._capability.reject(t)})),t.on("PasswordRequest",(function(t){if(e._passwordCapability=(0,_util.createPromiseCapability)(),n.onPassword)try{n.onPassword((function(t){t instanceof Error?e._passwordCapability.reject(t):e._passwordCapability.resolve({password:t})}),t.code)}catch(r){e._passwordCapability.reject(r)}else e._passwordCapability.reject(new _util.PasswordException(t.message,t.code));return e._passwordCapability.promise})),t.on("DataLoaded",(function(t){var r;null===(r=n.onProgress)||void 0===r||r.call(n,{loaded:t.length,total:t.length}),e.downloadInfoCapability.resolve(t)})),t.on("StartRenderPage",(function(t){e.destroyed||_classPrivateFieldGet(e,_pageCache).get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)})),t.on("commonobj",(function(n){var r,i=_slicedToArray(n,3),a=i[0],o=i[1],s=i[2];if(!e.destroyed&&!e.commonObjs.has(a))switch(o){case"Font":var l=e._params;if("error"in s){var c=s.error;(0,_util.warn)("Error during font loading: ".concat(c)),e.commonObjs.resolve(a,c);break}var u=null;l.pdfBug&&null!==(r=globalThis.FontInspector)&&void 0!==r&&r.enabled&&(u={registerFont:function(e,t){globalThis.FontInspector.fontAdded(e,t)}});var d=new _font_loader.FontFaceObject(s,{isEvalSupported:l.isEvalSupported,disableFontFace:l.disableFontFace,ignoreErrors:l.ignoreErrors,onUnsupportedFeature:e._onUnsupportedFeature.bind(e),fontRegistry:u});e.fontLoader.bind(d).catch((function(e){return t.sendWithPromise("FontFallback",{id:a})})).finally((function(){!l.fontExtraProperties&&d.data&&(d.data=null),e.commonObjs.resolve(a,d)}));break;case"FontPath":case"Image":e.commonObjs.resolve(a,s);break;default:throw new Error("Got unknown common object type ".concat(o))}})),t.on("obj",(function(t){var n=_slicedToArray(t,4),r=n[0],i=n[1],a=n[2],o=n[3];if(!e.destroyed){var s=_classPrivateFieldGet(e,_pageCache).get(i);if(!s.objs.has(r))switch(a){case"Image":if(s.objs.resolve(r,o),o){var l;if(o.bitmap){var c=o.bitmap;l=o.width*o.height*4,s._bitmaps.add(c)}else{var u;l=(null===(u=o.data)||void 0===u?void 0:u.length)||0}l>8e6&&(s.cleanupAfterRender=!0)}break;case"Pattern":s.objs.resolve(r,o);break;default:throw new Error("Got unknown object type ".concat(a))}}})),t.on("DocProgress",(function(t){var r;e.destroyed||null===(r=n.onProgress)||void 0===r||r.call(n,{loaded:t.loaded,total:t.total})})),t.on("DocStats",(function(t){e.destroyed||_classPrivateFieldSet(e,_docStats,Object.freeze({streamTypes:Object.freeze(t.streamTypes),fontTypes:Object.freeze(t.fontTypes)}))})),t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),t.on("FetchBuiltInCMap",(function(t){return e.destroyed?Promise.reject(new Error("Worker was destroyed.")):e.CMapReaderFactory?e.CMapReaderFactory.fetch(t):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))})),t.on("FetchStandardFontData",(function(t){return e.destroyed?Promise.reject(new Error("Worker was destroyed.")):e.StandardFontDataFactory?e.StandardFontDataFactory.fetch(t):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))}))}},{key:"_onUnsupportedFeature",value:function(e){var t,n,r=e.featureId;this.destroyed||null===(t=(n=this.loadingTask).onUnsupportedFeature)||void 0===t||t.call(n,r)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(e){var t=this;if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));var n=e-1,r=_classPrivateFieldGet(this,_pagePromises).get(n);if(r)return r;var i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then((function(e){if(t.destroyed)throw new Error("Transport destroyed");var r=new PDFPageProxy(n,e,t,t._params.ownerDocument,t._params.pdfBug);return _classPrivateFieldGet(t,_pageCache).set(n,r),r}));return _classPrivateFieldGet(this,_pagePromises).set(n,i),i}},{key:"getPageIndex",value:function(e){return"object"!==typeof e||null===e||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}},{key:"getAnnotations",value:function(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}},{key:"saveDocument",value:function(){var e,t,n=this;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!==(e=null===(t=this._fullReader)||void 0===t?void 0:t.filename)&&void 0!==e?e:null}).finally((function(){n.annotationStorage.resetModified()}))}},{key:"getFieldObjects",value:function(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}},{key:"getStructTree",value:function(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((function(e){return new _optional_content_config.OptionalContentConfig(e)}))}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var e=this;return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then((function(t){var n,r,i,a;return{info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:null!==(n=null===(r=e._fullReader)||void 0===r?void 0:r.filename)&&void 0!==n?n:null,contentLength:null!==(i=null===(a=e._fullReader)||void 0===a?void 0:a.contentLength)&&void 0!==i?i:null}})))}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"startCleanup",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]&&a[0],e.next=3,this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(!this.destroyed){e.next=5;break}return e.abrupt("return");case 5:n=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values()),e.prev=6,n.s();case 8:if((r=n.n()).done){e.next=15;break}if((i=r.value).cleanup()){e.next=13;break}throw new Error("startCleanup: Page ".concat(i.pageNumber," is currently rendering."));case 13:e.next=8;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:this.commonObjs.clear(),t||this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null;case 28:case"end":return e.stop()}}),e,this,[[6,17,20,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadingParams",get:function(){var e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,enableXfa:e.enableXfa})}}]),e}(),_objs=new WeakMap,_ensureObj=new WeakSet,PDFObjects=function(){function e(){_classCallCheck(this,e),_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){var n=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,e);return n.capability.promise.then((function(){return t(n.data)})),null}var r=_classPrivateFieldGet(this,_objs)[e];if(null===r||void 0===r||!r.capability.settled)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return r.data}},{key:"has",value:function(e){var t=_classPrivateFieldGet(this,_objs)[e];return(null===t||void 0===t?void 0:t.capability.settled)||!1}},{key:"resolve",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,e);n.data=t,n.capability.resolve()}},{key:"clear",value:function(){_classPrivateFieldSet(this,_objs,Object.create(null))}}]),e}();function _ensureObj2(e){var t=_classPrivateFieldGet(this,_objs)[e];return t||(_classPrivateFieldGet(this,_objs)[e]={capability:(0,_util.createPromiseCapability)(),data:null})}var _internalRenderTask=new WeakMap,RenderTask=function(){function e(t){_classCallCheck(this,e),_classPrivateFieldInitSpec(this,_internalRenderTask,{writable:!0,value:null}),_classPrivateFieldSet(this,_internalRenderTask,t),this.onContinue=null}return _createClass(e,[{key:"promise",get:function(){return _classPrivateFieldGet(this,_internalRenderTask).capability.promise}},{key:"cancel",value:function(){_classPrivateFieldGet(this,_internalRenderTask).cancel()}},{key:"separateAnnots",get:function(){var e=_classPrivateFieldGet(this,_internalRenderTask).operatorList.separateAnnots;if(!e)return!1;var t=_classPrivateFieldGet(this,_internalRenderTask).annotationCanvasMap;return e.form||e.canvas&&(null===t||void 0===t?void 0:t.size)>0}}]),e}();exports.RenderTask=RenderTask;var InternalRenderTask=function(){function e(t){var n=t.callback,r=t.params,i=t.objs,a=t.commonObjs,o=t.annotationCanvasMap,s=t.operatorList,l=t.pageIndex,c=t.canvasFactory,u=t.useRequestAnimationFrame,d=void 0!==u&&u,h=t.pdfBug,f=void 0!==h&&h,p=t.pageColors,v=void 0===p?null:p;_classCallCheck(this,e),this.callback=n,this.params=r,this.objs=i,this.commonObjs=a,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=l,this.canvasFactory=c,this._pdfBug=f,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===d&&"undefined"!==typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}return _createClass(e,[{key:"completed",get:function(){return this.capability.promise.catch((function(){}))}},{key:"initializeGraphics",value:function(t){var n,r=t.transparency,i=void 0!==r&&r,a=t.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(_classStaticPrivateFieldSpecGet(e,e,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(e,e,_canvasInUse).add(this._canvas)}this._pdfBug&&null!==(n=globalThis.StepperManager)&&void 0!==n&&n.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var o=this.params,s=o.canvasContext,l=o.viewport,c=o.transform,u=o.imageLayer,d=o.background;this.gfx=new _canvas.CanvasGraphics(s,this.commonObjs,this.objs,this.canvasFactory,u,a,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:c,viewport:l,transparency:i,background:d}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(e,e,_canvasInUse).delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var e=this;this._useRequestAnimationFrame?window.requestAnimationFrame((function(){e._nextBound().catch(e._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.cancelled){t.next=2;break}return t.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(e,e,_canvasInUse).delete(this._canvas),this.callback()));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),e}(),_canvasInUse={writable:!0,value:new WeakSet},version="2.16.105";exports.version=version;var build="172ccdbe5";exports.build=build},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var r=n(1),i=n(6),a=n(10),o=new WeakSet,s=function(){function e(){_classCallCheck(this,e),_classPrivateMethodInitSpec(this,o),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}return _createClass(e,[{key:"getValue",value:function(e,t){var n=this._storage.get(e);return void 0===n?t:Object.assign(t,n)}},{key:"getRawValue",value:function(e){return this._storage.get(e)}},{key:"remove",value:function(e){if(this._storage.delete(e),0===this._storage.size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){var t,n=_createForOfIteratorHelper(this._storage.values());try{for(n.s();!(t=n.n()).done;)if(t.value instanceof i.AnnotationEditor)return}catch(r){n.e(r)}finally{n.f()}this.onAnnotationEditor(null)}}},{key:"setValue",value:function(e,t){var n=this._storage.get(e),r=!1;if(void 0!==n)for(var a=0,s=Object.entries(t);a<s.length;a++){var c=_slicedToArray(s[a],2),u=c[0],d=c[1];n[u]!==d&&(r=!0,n[u]=d)}else r=!0,this._storage.set(e,t);r&&_classPrivateMethodGet(this,o,l).call(this),t instanceof i.AnnotationEditor&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}},{key:"has",value:function(e){return this._storage.has(e)}},{key:"getAll",value:function(){return this._storage.size>0?(0,r.objectFromMap)(this._storage):null}},{key:"size",get:function(){return this._storage.size}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,"function"===typeof this.onResetModified&&this.onResetModified())}},{key:"print",get:function(){return new u(this)}},{key:"serializable",get:function(){if(0===this._storage.size)return null;var e,t=new Map,n=_createForOfIteratorHelper(this._storage);try{for(n.s();!(e=n.n()).done;){var r=_slicedToArray(e.value,2),a=r[0],o=r[1],s=o instanceof i.AnnotationEditor?o.serialize():o;s&&t.set(a,s)}}catch(l){n.e(l)}finally{n.f()}return t}}],[{key:"getHash",value:function(e){if(!e)return"";var t,n=new a.MurmurHash3_64,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=_slicedToArray(t.value,2),o=i[0],s=i[1];n.update("".concat(o,":").concat(JSON.stringify(s)))}}catch(l){r.e(l)}finally{r.f()}return n.hexdigest()}}]),e}();function l(){this._modified||(this._modified=!0,"function"===typeof this.onSetModified&&this.onSetModified())}t.AnnotationStorage=s;var c=new WeakMap,u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),r=t.call(this),_classPrivateFieldInitSpec(_assertThisInitialized(r),c,{writable:!0,value:null}),_classPrivateFieldSet(_assertThisInitialized(r),c,structuredClone(e.serializable)),r}return _createClass(n,[{key:"print",get:function(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}},{key:"serializable",get:function(){return _classPrivateFieldGet(this,c)}}]),n}(s);t.PrintAnnotationStorage=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var r=n(7),i=n(1),a=new WeakMap,o=new WeakMap,s=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=function(){function e(t){_classCallCheck(this,e),_classPrivateFieldInitSpec(this,a,{writable:!0,value:this.focusin.bind(this)}),_classPrivateFieldInitSpec(this,o,{writable:!0,value:this.focusout.bind(this)}),_classPrivateFieldInitSpec(this,s,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,l,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,c,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:e._zIndex++}),this.constructor===e&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null;var n=_slicedToArray(this.parent.viewportBaseDimensions,2),r=n[0],d=n[1];this.x=t.x/r,this.y=t.y/d,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}return _createClass(e,[{key:"setInBackground",value:function(){this.div.style.zIndex=0}},{key:"setInForeground",value:function(){this.div.style.zIndex=_classPrivateFieldGet(this,u)}},{key:"focusin",value:function(e){_classPrivateFieldGet(this,s)?_classPrivateFieldSet(this,s,!1):this.parent.setSelected(this)}},{key:"focusout",value:function(e){if(this.isAttachedToDOM){var t=e.relatedTarget;null!==t&&void 0!==t&&t.closest("#".concat(this.id))||(e.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}}},{key:"commitOrRemove",value:function(){this.isEmpty()?this.remove():this.commit()}},{key:"commit",value:function(){this.parent.addToAnnotationStorage(this)}},{key:"dragstart",value:function(e){var t=this.parent.div.getBoundingClientRect();this.startX=e.clientX-t.x,this.startY=e.clientY-t.y,e.dataTransfer.setData("text/plain",this.id),e.dataTransfer.effectAllowed="move"}},{key:"setAt",value:function(e,t,n,r){var i=_slicedToArray(this.parent.viewportBaseDimensions,2),a=i[0],o=i[1],s=this.screenToPageTranslation(n,r),l=_slicedToArray(s,2);n=l[0],r=l[1],this.x=(e+n)/a,this.y=(t+r)/o,this.div.style.left="".concat(100*this.x,"%"),this.div.style.top="".concat(100*this.y,"%")}},{key:"translate",value:function(e,t){var n=_slicedToArray(this.parent.viewportBaseDimensions,2),r=n[0],i=n[1],a=this.screenToPageTranslation(e,t),o=_slicedToArray(a,2);e=o[0],t=o[1],this.x+=e/r,this.y+=t/i,this.div.style.left="".concat(100*this.x,"%"),this.div.style.top="".concat(100*this.y,"%")}},{key:"screenToPageTranslation",value:function(e,t){switch(this.parent.viewport.rotation){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}},{key:"setDims",value:function(e,t){var n=_slicedToArray(this.parent.viewportBaseDimensions,2),r=n[0],i=n[1];this.div.style.width="".concat(100*e/r,"%"),this.div.style.height="".concat(100*t/i,"%")}},{key:"getInitialTranslation",value:function(){return[0,0]}},{key:"render",value:function(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",_classPrivateFieldGet(this,a)),this.div.addEventListener("focusout",_classPrivateFieldGet(this,o));var e=this.getInitialTranslation(),t=_slicedToArray(e,2),n=t[0],i=t[1];return this.translate(n,i),(0,r.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}},{key:"pointerdown",value:function(e){var t=r.KeyboardManager.platform.isMac;0!==e.button||e.ctrlKey&&t?e.preventDefault():(e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this),_classPrivateFieldSet(this,s,!0))}},{key:"getRect",value:function(e,t){var n=_slicedToArray(this.parent.viewportBaseDimensions,2),r=n[0],i=n[1],a=_slicedToArray(this.parent.pageDimensions,2),o=a[0],s=a[1],l=o*e/r,c=s*t/i,u=this.x*o,d=this.y*s,h=this.width*o,f=this.height*s;switch(this.rotation){case 0:return[u+l,s-d-c-f,u+l+h,s-d-c];case 90:return[u+c,s-d+l,u+c+f,s-d+l+h];case 180:return[u-l-h,s-d+c,u-l,s-d+c+f];case 270:return[u-c-f,s-d-l-h,u-c,s-d-l];default:throw new Error("Invalid rotation")}}},{key:"getRectInCurrentCoords",value:function(e,t){var n=_slicedToArray(e,4),r=n[0],i=n[1],a=n[2],o=n[3],s=a-r,l=o-i;switch(this.rotation){case 0:return[r,t-o,s,l];case 90:return[r,t-i,l,s];case 180:return[a,t-i,s,l];case 270:return[a,t-o,l,s];default:throw new Error("Invalid rotation")}}},{key:"onceAdded",value:function(){}},{key:"isEmpty",value:function(){return!1}},{key:"enableEditMode",value:function(){_classPrivateFieldSet(this,c,!0)}},{key:"disableEditMode",value:function(){_classPrivateFieldSet(this,c,!1)}},{key:"isInEditMode",value:function(){return _classPrivateFieldGet(this,c)}},{key:"shouldGetKeyboardEvents",value:function(){return!1}},{key:"needsToBeRebuilt",value:function(){return this.div&&!this.isAttachedToDOM}},{key:"rebuild",value:function(){var e;null===(e=this.div)||void 0===e||e.addEventListener("focusin",_classPrivateFieldGet(this,a))}},{key:"serialize",value:function(){(0,i.unreachable)("An editor must be serializable")}},{key:"remove",value:function(){this.div.removeEventListener("focusin",_classPrivateFieldGet(this,a)),this.div.removeEventListener("focusout",_classPrivateFieldGet(this,o)),this.isEmpty()||this.commit(),this.parent.remove(this)}},{key:"select",value:function(){var e;null===(e=this.div)||void 0===e||e.classList.add("selectedEditor")}},{key:"unselect",value:function(){var e;null===(e=this.div)||void 0===e||e.classList.remove("selectedEditor")}},{key:"updateParams",value:function(e,t){}},{key:"disableEditing",value:function(){}},{key:"enableEditing",value:function(){}},{key:"propertiesToUpdate",get:function(){return{}}},{key:"contentDiv",get:function(){return this.div}},{key:"isEditing",get:function(){return _classPrivateFieldGet(this,l)},set:function(e){_classPrivateFieldSet(this,l,e),e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}],[{key:"_defaultLineColor",get:function(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}},{key:"deserialize",value:function(e,t){var n=new this.prototype.constructor({parent:t,id:t.getNextId()});n.rotation=e.rotation;var r=_slicedToArray(t.pageDimensions,2),i=r[0],a=r[1],o=n.getRectInCurrentCoords(e.rect,a),s=_slicedToArray(o,4),l=s[0],c=s[1],u=s[2],d=s[3];return n.x=l/i,n.y=c/a,n.width=u/i,n.height=d/a,n}}]),e}();_defineProperty(d,"_colorManager",new r.ColorManager),_defineProperty(d,"_zIndex",1),t.AnnotationEditor=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=function(e,t,n){var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;t.addEventListener(a,e[a].bind(e))}}catch(o){i.e(o)}finally{i.f()}},t.opacityToHex=function(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")};var r=n(1),i=n(8),a=new WeakMap,o=function(){function e(){_classCallCheck(this,e),_classPrivateFieldInitSpec(this,a,{writable:!0,value:0})}return _createClass(e,[{key:"getId",value:function(){var e,t;return"".concat(r.AnnotationEditorPrefix).concat((_classPrivateFieldSet(this,a,(e=_classPrivateFieldGet(this,a),t=e++,e)),t))}}]),e}(),s=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;_classCallCheck(this,e),_classPrivateFieldInitSpec(this,s,{writable:!0,value:[]}),_classPrivateFieldInitSpec(this,l,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,c,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:-1}),_classPrivateFieldSet(this,c,t)}return _createClass(e,[{key:"add",value:function(e){var t=e.cmd,n=e.undo,r=e.mustExec,i=e.type,a=void 0===i?NaN:i,o=e.overwriteIfSameType,d=void 0!==o&&o,h=e.keepUndo,f=void 0!==h&&h;if(r&&t(),!_classPrivateFieldGet(this,l)){var p={cmd:t,undo:n,type:a};if(-1===_classPrivateFieldGet(this,u))return _classPrivateFieldGet(this,s).length>0&&(_classPrivateFieldGet(this,s).length=0),_classPrivateFieldSet(this,u,0),void _classPrivateFieldGet(this,s).push(p);if(d&&_classPrivateFieldGet(this,s)[_classPrivateFieldGet(this,u)].type===a)return f&&(p.undo=_classPrivateFieldGet(this,s)[_classPrivateFieldGet(this,u)].undo),void(_classPrivateFieldGet(this,s)[_classPrivateFieldGet(this,u)]=p);var v=_classPrivateFieldGet(this,u)+1;v===_classPrivateFieldGet(this,c)?_classPrivateFieldGet(this,s).splice(0,1):(_classPrivateFieldSet(this,u,v),v<_classPrivateFieldGet(this,s).length&&_classPrivateFieldGet(this,s).splice(v)),_classPrivateFieldGet(this,s).push(p)}}},{key:"undo",value:function(){-1!==_classPrivateFieldGet(this,u)&&(_classPrivateFieldSet(this,l,!0),_classPrivateFieldGet(this,s)[_classPrivateFieldGet(this,u)].undo(),_classPrivateFieldSet(this,l,!1),_classPrivateFieldSet(this,u,_classPrivateFieldGet(this,u)-1))}},{key:"redo",value:function(){_classPrivateFieldGet(this,u)<_classPrivateFieldGet(this,s).length-1&&(_classPrivateFieldSet(this,u,_classPrivateFieldGet(this,u)+1),_classPrivateFieldSet(this,l,!0),_classPrivateFieldGet(this,s)[_classPrivateFieldGet(this,u)].cmd(),_classPrivateFieldSet(this,l,!1))}},{key:"hasSomethingToUndo",value:function(){return-1!==_classPrivateFieldGet(this,u)}},{key:"hasSomethingToRedo",value:function(){return _classPrivateFieldGet(this,u)<_classPrivateFieldGet(this,s).length-1}},{key:"destroy",value:function(){_classPrivateFieldSet(this,s,null)}}]),e}();t.CommandManager=d;var h=new WeakSet,f=function(){function e(t){_classCallCheck(this,e),_classPrivateMethodInitSpec(this,h),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;var n,r=e.platform.isMac,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var a,o=_slicedToArray(n.value,2),s=o[0],l=o[1],c=_createForOfIteratorHelper(s);try{for(c.s();!(a=c.n()).done;){var u=a.value,d=u.startsWith("mac+");r&&d?(this.callbacks.set(u.slice(4),l),this.allKeys.add(u.split("+").at(-1))):r||d||(this.callbacks.set(u,l),this.allKeys.add(u.split("+").at(-1)))}}catch(f){c.e(f)}finally{c.f()}}}catch(f){i.e(f)}finally{i.f()}}return _createClass(e,[{key:"exec",value:function(e,t){if(this.allKeys.has(t.key)){var n=this.callbacks.get(_classPrivateMethodGet(this,h,p).call(this,t));n&&(n.bind(e)(),t.stopPropagation(),t.preventDefault())}}}],[{key:"platform",get:function(){var e="undefined"!==typeof navigator?navigator.platform:"";return(0,r.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}]),e}();function p(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);var t=this.buffer.join("+");return this.buffer.length=0,t}t.KeyboardManager=f;var v=new WeakMap,m=function(){function e(){_classCallCheck(this,e),_classPrivateFieldInitSpec(this,v,{writable:!0,value:null})}return _createClass(e,[{key:"copy",value:function(e){e&&(Array.isArray(e)?_classPrivateFieldSet(this,v,e.map((function(e){return e.serialize()}))):_classPrivateFieldSet(this,v,[e.serialize()]),_classPrivateFieldSet(this,v,_classPrivateFieldGet(this,v).filter((function(e){return!!e}))),0===_classPrivateFieldGet(this,v).length&&_classPrivateFieldSet(this,v,null))}},{key:"paste",value:function(){return _classPrivateFieldGet(this,v)}},{key:"isEmpty",value:function(){return null===_classPrivateFieldGet(this,v)}},{key:"destroy",value:function(){_classPrivateFieldSet(this,v,null)}}]),e}(),g=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"_colors",get:function(){var e=new Map([["CanvasText",null],["Canvas",null]]);return(0,i.getColorValues)(e),(0,r.shadow)(this,"_colors",e)}},{key:"convert",value:function(t){var n=(0,i.getRGB)(t);if(!window.matchMedia("(forced-colors: active)").matches)return n;var r,a=_createForOfIteratorHelper(this._colors);try{for(a.s();!(r=a.n()).done;){var o=_slicedToArray(r.value,2),s=o[0];if(o[1].every((function(e,t){return e===n[t]})))return e._colorsMapping.get(s)}}catch(l){a.e(l)}finally{a.f()}return n}},{key:"getHexCode",value:function(e){var t,n=this._colors.get(e);return n?(t=r.Util).makeHexColor.apply(t,_toConsumableArray(n)):e}}]),e}();_defineProperty(g,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),t.ColorManager=g;var y=new WeakMap,b=new WeakMap,_=new WeakMap,x=new WeakMap,w=new WeakMap,S=new WeakMap,k=new WeakMap,E=new WeakMap,M=new WeakMap,T=new WeakMap,P=new WeakMap,A=new WeakMap,C=new WeakMap,R=new WeakMap,O=new WeakMap,L=new WeakMap,F=new WeakMap,I=new WeakSet,N=new WeakSet,D=new WeakSet,j=new WeakSet,z=new WeakSet,H=new WeakSet,B=new WeakSet,U=new WeakSet,G=new WeakSet,W=function(){function e(t,n){_classCallCheck(this,e),_classPrivateMethodInitSpec(this,G),_classPrivateMethodInitSpec(this,U),_classPrivateMethodInitSpec(this,B),_classPrivateMethodInitSpec(this,H),_classPrivateMethodInitSpec(this,z),_classPrivateMethodInitSpec(this,j),_classPrivateMethodInitSpec(this,D),_classPrivateMethodInitSpec(this,N),_classPrivateMethodInitSpec(this,I),_classPrivateFieldInitSpec(this,y,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,b,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,x,{writable:!0,value:new m}),_classPrivateFieldInitSpec(this,w,{writable:!0,value:new d}),_classPrivateFieldInitSpec(this,S,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,k,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,E,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,M,{writable:!0,value:new o}),_classPrivateFieldInitSpec(this,T,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,P,{writable:!0,value:r.AnnotationEditorType.NONE}),_classPrivateFieldInitSpec(this,A,{writable:!0,value:new Set}),_classPrivateFieldInitSpec(this,C,{writable:!0,value:this.keydown.bind(this)}),_classPrivateFieldInitSpec(this,R,{writable:!0,value:this.onEditingAction.bind(this)}),_classPrivateFieldInitSpec(this,O,{writable:!0,value:this.onPageChanging.bind(this)}),_classPrivateFieldInitSpec(this,L,{writable:!0,value:{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}}),_classPrivateFieldInitSpec(this,F,{writable:!0,value:null}),_classPrivateFieldSet(this,F,t),_classPrivateFieldSet(this,E,n),_classPrivateFieldGet(this,E)._on("editingaction",_classPrivateFieldGet(this,R)),_classPrivateFieldGet(this,E)._on("pagechanging",_classPrivateFieldGet(this,O))}return _createClass(e,[{key:"destroy",value:function(){_classPrivateMethodGet(this,N,q).call(this),_classPrivateFieldGet(this,E)._off("editingaction",_classPrivateFieldGet(this,R)),_classPrivateFieldGet(this,E)._off("pagechanging",_classPrivateFieldGet(this,O));var e,t=_createForOfIteratorHelper(_classPrivateFieldGet(this,_).values());try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(n){t.e(n)}finally{t.f()}_classPrivateFieldGet(this,_).clear(),_classPrivateFieldGet(this,b).clear(),_classPrivateFieldSet(this,y,null),_classPrivateFieldGet(this,A).clear(),_classPrivateFieldGet(this,x).destroy(),_classPrivateFieldGet(this,w).destroy()}},{key:"onPageChanging",value:function(e){var t=e.pageNumber;_classPrivateFieldSet(this,S,t-1)}},{key:"focusMainContainer",value:function(){_classPrivateFieldGet(this,F).focus()}},{key:"keydown",value:function(t){var n;null!==(n=this.getActive())&&void 0!==n&&n.shouldGetKeyboardEvents()||e._keyboardManager.exec(this,t)}},{key:"onEditingAction",value:function(e){["undo","redo","cut","copy","paste","delete","selectAll"].includes(e.name)&&this[e.name]()}},{key:"setEditingState",value:function(e){e?(_classPrivateMethodGet(this,I,V).call(this),_classPrivateMethodGet(this,D,X).call(this,{isEditing:_classPrivateFieldGet(this,P)!==r.AnnotationEditorType.NONE,isEmpty:_classPrivateMethodGet(this,U,Q).call(this),hasSomethingToUndo:_classPrivateFieldGet(this,w).hasSomethingToUndo(),hasSomethingToRedo:_classPrivateFieldGet(this,w).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:_classPrivateFieldGet(this,x).isEmpty()})):(_classPrivateMethodGet(this,N,q).call(this),_classPrivateMethodGet(this,D,X).call(this,{isEditing:!1}))}},{key:"registerEditorTypes",value:function(e){_classPrivateFieldSet(this,k,e);var t,n=_createForOfIteratorHelper(_classPrivateFieldGet(this,k));try{for(n.s();!(t=n.n()).done;){var r=t.value;_classPrivateMethodGet(this,j,Y).call(this,r.defaultPropertiesToUpdate)}}catch(i){n.e(i)}finally{n.f()}}},{key:"getId",value:function(){return _classPrivateFieldGet(this,M).getId()}},{key:"addLayer",value:function(e){_classPrivateFieldGet(this,_).set(e.pageIndex,e),_classPrivateFieldGet(this,T)?e.enable():e.disable()}},{key:"removeLayer",value:function(e){_classPrivateFieldGet(this,_).delete(e.pageIndex)}},{key:"updateMode",value:function(e){if(_classPrivateFieldSet(this,P,e),e===r.AnnotationEditorType.NONE)this.setEditingState(!1),_classPrivateMethodGet(this,H,J).call(this);else{this.setEditingState(!0),_classPrivateMethodGet(this,z,K).call(this);var t,n=_createForOfIteratorHelper(_classPrivateFieldGet(this,_).values());try{for(n.s();!(t=n.n()).done;)t.value.updateMode(e)}catch(i){n.e(i)}finally{n.f()}}}},{key:"updateToolbar",value:function(e){e!==_classPrivateFieldGet(this,P)&&_classPrivateFieldGet(this,E).dispatch("switchannotationeditormode",{source:this,mode:e})}},{key:"updateParams",value:function(e,t){var n,r=_createForOfIteratorHelper(_classPrivateFieldGet(this,A));try{for(r.s();!(n=r.n()).done;)n.value.updateParams(e,t)}catch(o){r.e(o)}finally{r.f()}var i,a=_createForOfIteratorHelper(_classPrivateFieldGet(this,k));try{for(a.s();!(i=a.n()).done;)i.value.updateDefaultParams(e,t)}catch(o){a.e(o)}finally{a.f()}}},{key:"getEditors",value:function(e){var t,n=[],r=_createForOfIteratorHelper(_classPrivateFieldGet(this,b).values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.pageIndex===e&&n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"getEditor",value:function(e){return _classPrivateFieldGet(this,b).get(e)}},{key:"addEditor",value:function(e){_classPrivateFieldGet(this,b).set(e.id,e)}},{key:"removeEditor",value:function(e){_classPrivateFieldGet(this,b).delete(e.id),this.unselect(e)}},{key:"setActiveEditor",value:function(e){_classPrivateFieldGet(this,y)!==e&&(_classPrivateFieldSet(this,y,e),e&&_classPrivateMethodGet(this,j,Y).call(this,e.propertiesToUpdate))}},{key:"toggleSelected",value:function(e){if(_classPrivateFieldGet(this,A).has(e))return _classPrivateFieldGet(this,A).delete(e),e.unselect(),void _classPrivateMethodGet(this,D,X).call(this,{hasSelectedEditor:this.hasSelection});_classPrivateFieldGet(this,A).add(e),e.select(),_classPrivateMethodGet(this,j,Y).call(this,e.propertiesToUpdate),_classPrivateMethodGet(this,D,X).call(this,{hasSelectedEditor:!0})}},{key:"setSelected",value:function(e){var t,n=_createForOfIteratorHelper(_classPrivateFieldGet(this,A));try{for(n.s();!(t=n.n()).done;){var r=t.value;r!==e&&r.unselect()}}catch(i){n.e(i)}finally{n.f()}_classPrivateFieldGet(this,A).clear(),_classPrivateFieldGet(this,A).add(e),e.select(),_classPrivateMethodGet(this,j,Y).call(this,e.propertiesToUpdate),_classPrivateMethodGet(this,D,X).call(this,{hasSelectedEditor:!0})}},{key:"isSelected",value:function(e){return _classPrivateFieldGet(this,A).has(e)}},{key:"unselect",value:function(e){e.unselect(),_classPrivateFieldGet(this,A).delete(e),_classPrivateMethodGet(this,D,X).call(this,{hasSelectedEditor:this.hasSelection})}},{key:"hasSelection",get:function(){return 0!==_classPrivateFieldGet(this,A).size}},{key:"undo",value:function(){_classPrivateFieldGet(this,w).undo(),_classPrivateMethodGet(this,D,X).call(this,{hasSomethingToUndo:_classPrivateFieldGet(this,w).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_classPrivateMethodGet(this,U,Q).call(this)})}},{key:"redo",value:function(){_classPrivateFieldGet(this,w).redo(),_classPrivateMethodGet(this,D,X).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_classPrivateFieldGet(this,w).hasSomethingToRedo(),isEmpty:_classPrivateMethodGet(this,U,Q).call(this)})}},{key:"addCommands",value:function(e){_classPrivateFieldGet(this,w).add(e),_classPrivateMethodGet(this,D,X).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_classPrivateMethodGet(this,U,Q).call(this)})}},{key:"delete",value:function(){var e=this;if(_classPrivateFieldGet(this,y)&&_classPrivateFieldGet(this,y).commitOrRemove(),this.hasSelection){var t=_toConsumableArray(_classPrivateFieldGet(this,A));this.addCommands({cmd:function(){var e,n=_createForOfIteratorHelper(t);try{for(n.s();!(e=n.n()).done;)e.value.remove()}catch(r){n.e(r)}finally{n.f()}},undo:function(){var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;_classPrivateMethodGet(e,B,Z).call(e,i)}}catch(a){r.e(a)}finally{r.f()}},mustExec:!0})}}},{key:"copy",value:function(){if(_classPrivateFieldGet(this,y)&&_classPrivateFieldGet(this,y).commitOrRemove(),this.hasSelection){var e,t=[],n=_createForOfIteratorHelper(_classPrivateFieldGet(this,A));try{for(n.s();!(e=n.n()).done;){var r=e.value;r.isEmpty()||t.push(r)}}catch(i){n.e(i)}finally{n.f()}if(0===t.length)return;_classPrivateFieldGet(this,x).copy(t),_classPrivateMethodGet(this,D,X).call(this,{hasEmptyClipboard:!1})}}},{key:"cut",value:function(){this.copy(),this.delete()}},{key:"paste",value:function(){var e=this;if(!_classPrivateFieldGet(this,x).isEmpty()){this.unselectAll();var t=_classPrivateFieldGet(this,_).get(_classPrivateFieldGet(this,S)),n=_classPrivateFieldGet(this,x).paste().map((function(e){return t.deserialize(e)}));this.addCommands({cmd:function(){var t,r=_createForOfIteratorHelper(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;_classPrivateMethodGet(e,B,Z).call(e,i)}}catch(a){r.e(a)}finally{r.f()}_classPrivateMethodGet(e,G,$).call(e,n)},undo:function(){var e,t=_createForOfIteratorHelper(n);try{for(t.s();!(e=t.n()).done;)e.value.remove()}catch(r){t.e(r)}finally{t.f()}},mustExec:!0})}}},{key:"selectAll",value:function(){var e,t=_createForOfIteratorHelper(_classPrivateFieldGet(this,A));try{for(t.s();!(e=t.n()).done;)e.value.commit()}catch(n){t.e(n)}finally{t.f()}_classPrivateMethodGet(this,G,$).call(this,_classPrivateFieldGet(this,b).values())}},{key:"unselectAll",value:function(){if(_classPrivateFieldGet(this,y))_classPrivateFieldGet(this,y).commitOrRemove();else if(0!==_classPrivateMethodGet(this,G,$).size){var e,t=_createForOfIteratorHelper(_classPrivateFieldGet(this,A));try{for(t.s();!(e=t.n()).done;)e.value.unselect()}catch(n){t.e(n)}finally{t.f()}_classPrivateFieldGet(this,A).clear(),_classPrivateMethodGet(this,D,X).call(this,{hasSelectedEditor:!1})}}},{key:"isActive",value:function(e){return _classPrivateFieldGet(this,y)===e}},{key:"getActive",value:function(){return _classPrivateFieldGet(this,y)}},{key:"getMode",value:function(){return _classPrivateFieldGet(this,P)}}]),e}();function V(){_classPrivateFieldGet(this,F).addEventListener("keydown",_classPrivateFieldGet(this,C))}function q(){_classPrivateFieldGet(this,F).removeEventListener("keydown",_classPrivateFieldGet(this,C))}function X(e){var t=this;Object.entries(e).some((function(e){var n=_slicedToArray(e,2),r=n[0],i=n[1];return _classPrivateFieldGet(t,L)[r]!==i}))&&_classPrivateFieldGet(this,E).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_classPrivateFieldGet(this,L),e)})}function Y(e){_classPrivateFieldGet(this,E).dispatch("annotationeditorparamschanged",{source:this,details:e})}function K(){if(!_classPrivateFieldGet(this,T)){_classPrivateFieldSet(this,T,!0);var e,t=_createForOfIteratorHelper(_classPrivateFieldGet(this,_).values());try{for(t.s();!(e=t.n()).done;)e.value.enable()}catch(n){t.e(n)}finally{t.f()}}}function J(){if(this.unselectAll(),_classPrivateFieldGet(this,T)){_classPrivateFieldSet(this,T,!1);var e,t=_createForOfIteratorHelper(_classPrivateFieldGet(this,_).values());try{for(t.s();!(e=t.n()).done;)e.value.disable()}catch(n){t.e(n)}finally{t.f()}}}function Z(e){var t=_classPrivateFieldGet(this,_).get(e.pageIndex);t?t.addOrRebuild(e):this.addEditor(e)}function Q(){if(0===_classPrivateFieldGet(this,b).size)return!0;if(1===_classPrivateFieldGet(this,b).size){var e,t=_createForOfIteratorHelper(_classPrivateFieldGet(this,b).values());try{for(t.s();!(e=t.n()).done;)return e.value.isEmpty()}catch(n){t.e(n)}finally{t.f()}}return!1}function $(e){_classPrivateFieldGet(this,A).clear();var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.isEmpty()||(_classPrivateFieldGet(this,A).add(r),r.select())}}catch(i){n.e(i)}finally{n.f()}_classPrivateMethodGet(this,D,X).call(this,{hasSelectedEditor:!0})}_defineProperty(W,"_keyboardManager",new f([[["ctrl+a","mac+meta+a"],W.prototype.selectAll],[["ctrl+c","mac+meta+c"],W.prototype.copy],[["ctrl+v","mac+meta+v"],W.prototype.paste],[["ctrl+x","mac+meta+x"],W.prototype.cut],[["ctrl+z","mac+meta+z"],W.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],W.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],W.prototype.delete],[["Escape","mac+Escape"],W.prototype.unselectAll]])),t.AnnotationEditorUIManager=W},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=t.AnnotationPrefix=void 0,t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.getColorValues=function(e){var t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);var n,r=_createForOfIteratorHelper(e.keys());try{for(r.s();!(n=r.n()).done;){var i=n.value;t.style.color=i;var a=window.getComputedStyle(t).color;e.set(i,b(a))}}catch(o){r.e(o)}finally{r.f()}t.remove()},t.getCurrentTransform=function(e){var t=e.getTransform(),n=t.a,r=t.b,i=t.c,a=t.d,o=t.e,s=t.f;return[n,r,i,a,o,s]},t.getCurrentTransformInverse=function(e){var t=e.getTransform().invertSelf(),n=t.a,r=t.b,i=t.c,a=t.d,o=t.e,s=t.f;return[n,r,i,a,o,s]},t.getFilenameFromUrl=function(e){var t=e.indexOf("#"),n=e.indexOf("?"),r=Math.min(t>0?t:e.length,n>0?n:e.length);return e.substring(e.lastIndexOf("/",r)+1,r)},t.getPdfFilenameFromUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(p(e))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;var n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e),a=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(a&&(a=a[0]).includes("%"))try{a=n.exec(decodeURIComponent(a))[0]}catch(o){}return a||t},t.getRGB=b,t.getXfaPageViewport=function(e,t){var n=t.scale,r=void 0===n?1:n,i=t.rotation,a=void 0===i?0:i,o=e.attributes.style,s=o.width,l=o.height,c=[0,0,parseInt(s),parseInt(l)];return new h({viewBox:c,scale:r,rotation:a})},t.isDataScheme=p,t.isPdfFile=function(e){return"string"===typeof e&&/\.pdf$/i.test(e)},t.isValidFetchUrl=g,t.loadScript=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(n,r){var i=document.createElement("script");i.src=e,i.onload=function(e){t&&i.remove(),n(e)},i.onerror=function(){r(new Error("Cannot load script at: ".concat(i.src)))},(document.head||document.documentElement).append(i)}))};var r=n(9),i=n(1);t.AnnotationPrefix="pdfjs_internal_id_";var a=_createClass((function e(){_classCallCheck(this,e)}));_defineProperty(a,"CSS",96),_defineProperty(a,"PDF",72),_defineProperty(a,"PDF_TO_CSS_UNITS",a.CSS/a.PDF),t.PixelsPerInch=a;var o=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ownerDocument,i=void 0===r?globalThis.document:r;return _classCallCheck(this,n),(e=t.call(this))._document=i,e}return _createClass(n,[{key:"_createCanvas",value:function(e,t){var n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}]),n}(r.BaseCanvasFactory);function s(e){return l.apply(this,arguments)}function l(){return l=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,a=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],!g(t,document.baseURI)){e.next=21;break}return e.next=4,fetch(t);case 4:if((r=e.sent).ok){e.next=7;break}throw new Error(r.statusText);case 7:if(!n){e.next=15;break}return e.t1=Uint8Array,e.next=11,r.arrayBuffer();case 11:e.t2=e.sent,e.t0=new e.t1(e.t2),e.next=20;break;case 15:return e.t3=i.stringToBytes,e.next=18,r.text();case 18:e.t4=e.sent,e.t0=(0,e.t3)(e.t4);case 20:return e.abrupt("return",e.t0);case 21:return e.abrupt("return",new Promise((function(e,r){var a=new XMLHttpRequest;a.open("GET",t,!0),n&&(a.responseType="arraybuffer"),a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE){var t;if((200===a.status||0===a.status)&&(n&&a.response?t=new Uint8Array(a.response):!n&&a.responseText&&(t=(0,i.stringToBytes)(a.responseText)),t))return void e(t);r(new Error(a.statusText))}},a.send(null)})));case 22:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}t.DOMCanvasFactory=o;var c=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_fetchData",value:function(e,t){return s(e,this.isCompressed).then((function(e){return{cMapData:e,compressionType:t}}))}}]),n}(r.BaseCMapReaderFactory);t.DOMCMapReaderFactory=c;var u=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_fetchData",value:function(e){return s(e,!0)}}]),n}(r.BaseStandardFontDataFactory);t.DOMStandardFontDataFactory=u;var d=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_createSVG",value:function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}}]),n}(r.BaseSVGFactory);t.DOMSVGFactory=d;var h=function(){function e(t){var n=t.viewBox,r=t.scale,i=t.rotation,a=t.offsetX,o=void 0===a?0:a,s=t.offsetY,l=void 0===s?0:s,c=t.dontFlip,u=void 0!==c&&c;_classCallCheck(this,e),this.viewBox=n,this.scale=r,this.rotation=i,this.offsetX=o,this.offsetY=l;var d,h,f,p,v,m,g,y,b=(n[2]+n[0])/2,_=(n[3]+n[1])/2;switch((i%=360)<0&&(i+=360),i){case 180:d=-1,h=0,f=0,p=1;break;case 90:d=0,h=1,f=1,p=0;break;case 270:d=0,h=-1,f=-1,p=0;break;case 0:d=1,h=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(f=-f,p=-p),0===d?(v=Math.abs(_-n[1])*r+o,m=Math.abs(b-n[0])*r+l,g=Math.abs(n[3]-n[1])*r,y=Math.abs(n[2]-n[0])*r):(v=Math.abs(b-n[0])*r+o,m=Math.abs(_-n[1])*r+l,g=Math.abs(n[2]-n[0])*r,y=Math.abs(n[3]-n[1])*r),this.transform=[d*r,h*r,f*r,p*r,v-d*r*b-f*r*_,m-h*r*b-p*r*_],this.width=g,this.height=y}return _createClass(e,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.scale,r=void 0===n?this.scale:n,i=t.rotation,a=void 0===i?this.rotation:i,o=t.offsetX,s=void 0===o?this.offsetX:o,l=t.offsetY,c=void 0===l?this.offsetY:l,u=t.dontFlip,d=void 0!==u&&u;return new e({viewBox:this.viewBox.slice(),scale:r,rotation:a,offsetX:s,offsetY:c,dontFlip:d})}},{key:"convertToViewportPoint",value:function(e,t){return i.Util.applyTransform([e,t],this.transform)}},{key:"convertToViewportRectangle",value:function(e){var t=i.Util.applyTransform([e[0],e[1]],this.transform),n=i.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}},{key:"convertToPdfPoint",value:function(e,t){return i.Util.applyInverseTransform([e,t],this.transform)}}]),e}();t.PageViewport=h;var f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,"RenderingCancelledException")).type=r,i}return _createClass(n)}(i.BaseException);function p(e){for(var t=e.length,n=0;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}t.RenderingCancelledException=f;var v,m=function(){function e(){_classCallCheck(this,e),this.started=Object.create(null),this.times=[]}return _createClass(e,[{key:"time",value:function(e){e in this.started&&(0,i.warn)("Timer is already running for ".concat(e)),this.started[e]=Date.now()}},{key:"timeEnd",value:function(e){e in this.started||(0,i.warn)("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}},{key:"toString",value:function(){var e,t=[],n=0,r=_createForOfIteratorHelper(this.times);try{for(r.s();!(e=r.n()).done;){var i=e.value.name;i.length>n&&(n=i.length)}}catch(c){r.e(c)}finally{r.f()}var a,o=_createForOfIteratorHelper(this.times);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=s.end-s.start;t.push("".concat(s.name.padEnd(n)," ").concat(l,"ms\n"))}}catch(c){o.e(c)}finally{o.f()}return t.join("")}}]),e}();function g(e,t){try{var n=(t?new URL(e,t):new URL(e)).protocol;return"http:"===n||"https:"===n}catch(r){return!1}}t.StatTimer=m;var y=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"toDateObject",value:function(e){if(!e||"string"!==typeof e)return null;v||(v=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var t=v.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;var i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;var a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;var o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;var s=parseInt(t[6],10);s=s>=0&&s<=59?s:0;var l=t[7]||"Z",c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;var u=parseInt(t[9],10)||0;return u=u>=0&&u<=59?u:0,"-"===l?(a+=c,o+=u):"+"===l&&(a-=c,o-=u),new Date(Date.UTC(n,r,i,a,o,s))}}]),e}();function b(e){if(e.startsWith("#")){var t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((function(e){return parseInt(e)})):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((function(e){return parseInt(e)})).slice(0,3):((0,i.warn)('Not a valid color format: "'.concat(e,'"')),[0,0,0])}t.PDFDateString=y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var r=n(1),i=function(){function e(){_classCallCheck(this,e),this.constructor===e&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}return _createClass(e,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");var n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d")}}},{key:"reset",value:function(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}},{key:"destroy",value:function(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}},{key:"_createCanvas",value:function(e,t){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}]),e}();t.BaseCanvasFactory=i;var a=function(){function e(t){var n=t.baseUrl,i=void 0===n?null:n,a=t.isCompressed,o=void 0!==a&&a;_classCallCheck(this,e),this.constructor===e&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=i,this.isCompressed=o}return _createClass(e,[{key:"fetch",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,i,a,o=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,this.baseUrl){e.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(n){e.next=5;break}throw new Error("CMap name must be specified.");case 5:return i=this.baseUrl+n+(this.isCompressed?".bcmap":""),a=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE,e.abrupt("return",this._fetchData(i,a).catch((function(e){throw new Error("Unable to load ".concat(o.isCompressed?"binary ":"","CMap at: ").concat(i))})));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchData",value:function(e,t){(0,r.unreachable)("Abstract method `_fetchData` called.")}}]),e}();t.BaseCMapReaderFactory=a;var o=function(){function e(t){var n=t.baseUrl,i=void 0===n?null:n;_classCallCheck(this,e),this.constructor===e&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=i}return _createClass(e,[{key:"fetch",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.filename,this.baseUrl){e.next=3;break}throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');case 3:if(n){e.next=5;break}throw new Error("Font filename must be specified.");case 5:return r="".concat(this.baseUrl).concat(n),e.abrupt("return",this._fetchData(r).catch((function(e){throw new Error("Unable to load font data at: ".concat(r))})));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchData",value:function(e){(0,r.unreachable)("Abstract method `_fetchData` called.")}}]),e}();t.BaseStandardFontDataFactory=o;var s=function(){function e(){_classCallCheck(this,e),this.constructor===e&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}return _createClass(e,[{key:"create",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");var r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width","".concat(e,"px")),r.setAttribute("height","".concat(t,"px"))),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox","0 0 ".concat(e," ").concat(t)),r}},{key:"createElement",value:function(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}},{key:"_createSVG",value:function(e){(0,r.unreachable)("Abstract method `_createSVG` called.")}}]),e}();t.BaseSVGFactory=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var r=n(1),i=3285377520,a=4294901760,o=65535,s=function(){function e(t){_classCallCheck(this,e),this.h1=t?4294967295&t:i,this.h2=t?4294967295&t:i}return _createClass(e,[{key:"update",value:function(e){var t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(var i=0,s=e.length;i<s;i++){var l=e.charCodeAt(i);l<=255?t[n++]=l:(t[n++]=l>>>8,t[n++]=255&l)}}else{if(!(0,r.isArrayBuffer)(e))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");n=(t=e.slice()).byteLength}for(var c=n>>2,u=n-4*c,d=new Uint32Array(t.buffer,0,c),h=0,f=0,p=this.h1,v=this.h2,m=3432918353,g=461845907,y=11601,b=13715,_=0;_<c;_++)1&_?p=5*(p=(p^=h=(h=(h=(h=d[_])*m&a|h*y&o)<<15|h>>>17)*g&a|h*b&o)<<13|p>>>19)+3864292196:v=5*(v=(v^=f=(f=(f=(f=d[_])*m&a|f*y&o)<<15|f>>>17)*g&a|f*b&o)<<13|v>>>19)+3864292196;switch(h=0,u){case 3:h^=t[4*c+2]<<16;case 2:h^=t[4*c+1]<<8;case 1:h=(h=(h=(h^=t[4*c])*m&a|h*y&o)<<15|h>>>17)*g&a|h*b&o,1&c?p^=h:v^=h}this.h1=p,this.h2=v}},{key:"hexdigest",value:function(){var e=this.h1,t=this.h2;e=3981806797*(e^=t>>>1)&a|36045*e&o,e=444984403*(e^=(t=4283543511*t&a|(2950163797*(t<<16|e>>>16)&a)>>>16)>>>1)&a|60499*e&o;var n=((e^=(t=3301882366*t&a|(3120437893*(t<<16|e>>>16)&a)>>>16)>>>1)>>>0).toString(16),r=(t>>>0).toString(16);return n.padStart(8,"0")+r.padStart(8,"0")}}]),e}();t.MurmurHash3_64=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var r,i=n(1),a=function(){function e(t){var n=t.docId,r=t.onUnsupportedFeature,a=t.ownerDocument,o=void 0===a?globalThis.document:a;t.styleElement,_classCallCheck(this,e),this.constructor===e&&(0,i.unreachable)("Cannot initialize BaseFontLoader."),this.docId=n,this._onUnsupportedFeature=r,this._document=o,this.nativeFontFaces=[],this.styleElement=null}return _createClass(e,[{key:"addNativeFontFace",value:function(e){this.nativeFontFaces.push(e),this._document.fonts.add(e)}},{key:"insertRule",value:function(e){var t=this.styleElement;t||((t=this.styleElement=this._document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].append(t));var n=t.sheet;n.insertRule(e,n.cssRules.length)}},{key:"clear",value:function(){var e,t=_createForOfIteratorHelper(this.nativeFontFaces);try{for(t.s();!(e=t.n()).done;){var n=e.value;this._document.fonts.delete(n)}}catch(r){t.e(r)}finally{t.f()}this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,a=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.attached&&!t.missingFile){e.next=2;break}return e.abrupt("return");case 2:if(t.attached=!0,!this.isFontLoadingAPISupported){e.next=19;break}if(!(n=t.createNativeFontFace())){e.next=18;break}return this.addNativeFontFace(n),e.prev=7,e.next=10,n.loaded;case 10:e.next=18;break;case 12:throw e.prev=12,e.t0=e.catch(7),this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,i.warn)("Failed to load font '".concat(n.family,"': '").concat(e.t0,"'.")),t.disableFontFace=!0,e.t0;case 18:return e.abrupt("return");case 19:if(!(r=t.createFontFaceRule())){e.next=26;break}if(this.insertRule(r),!this.isSyncFontLoadingSupported){e.next=24;break}return e.abrupt("return");case 24:return e.next=26,new Promise((function(e){var n=a._queueLoadingCallback(e);a._prepareFontLoadEvent([r],[t],n)}));case 26:case"end":return e.stop()}}),e,this,[[7,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_queueLoadingCallback",value:function(e){(0,i.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var e,t=!(null===(e=this._document)||void 0===e||!e.fonts);return(0,i.shadow)(this,"isFontLoadingAPISupported",t)}},{key:"isSyncFontLoadingSupported",get:function(){(0,i.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,i.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(e,t,n){(0,i.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),e}();t.FontLoader=r,t.FontLoader=r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).loadingContext={requests:[],nextRequestId:0},r.loadTestFontId=0,r}return _createClass(n,[{key:"isSyncFontLoadingSupported",get:function(){var e=!1;if("undefined"===typeof navigator)e=!0;else{var t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null===t||void 0===t?void 0:t[1])>=14&&(e=!0)}return(0,i.shadow)(this,"isSyncFontLoadingSupported",e)}},{key:"_queueLoadingCallback",value:function(e){var t=this.loadingContext,n={id:"pdfjs-font-loading-".concat(t.nextRequestId++),done:!1,complete:function(){for((0,i.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.requests.length>0&&t.requests[0].done;){var e=t.requests.shift();setTimeout(e.callback,0)}},callback:e};return t.requests.push(n),n}},{key:"_loadTestFont",get:function(){return(0,i.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}},{key:"_prepareFontLoadEvent",value:function(e,t,n){function r(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function a(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}var o,s,l=this._document.createElement("canvas");l.width=1,l.height=1;var c=l.getContext("2d"),u=0,d="lt".concat(Date.now()).concat(this.loadTestFontId++),h=this._loadTestFont,f=1482184792,p=r(h=a(h,976,d.length,d),16);for(o=0,s=d.length-3;o<s;o+=4)p=p-f+r(d,o)|0;o<d.length&&(p=p-f+r(d+"XXX",o)|0),h=a(h,16,4,(0,i.string32)(p));var v="url(data:font/opentype;base64,".concat(btoa(h),");"),m='@font-face {font-family:"'.concat(d,'";src:').concat(v,"}");this.insertRule(m);var g,y=[],b=_createForOfIteratorHelper(t);try{for(b.s();!(g=b.n()).done;){var _=g.value;y.push(_.loadedName)}}catch(M){b.e(M)}finally{b.f()}y.push(d);var x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(var w=0,S=y;w<S.length;w++){var k=S[w],E=this._document.createElement("span");E.textContent="Hi",E.style.fontFamily=k,x.append(E)}this._document.body.append(x),function e(t,n){if(++u>30)return(0,i.warn)("Load test font never loaded."),void n();c.font="30px "+t,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(d,(function(){x.remove(),n.complete()}))}}]),n}(a);var o=function(){function e(t,n){var r=n.isEvalSupported,i=void 0===r||r,a=n.disableFontFace,o=void 0!==a&&a,s=n.ignoreErrors,l=void 0!==s&&s,c=n.onUnsupportedFeature,u=n.fontRegistry,d=void 0===u?null:u;for(var h in _classCallCheck(this,e),this.compiledGlyphs=Object.create(null),t)this[h]=t[h];this.isEvalSupported=!1!==i,this.disableFontFace=!0===o,this.ignoreErrors=!0===l,this._onUnsupportedFeature=c,this.fontRegistry=d}return _createClass(e,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var e;if(this.cssFontInfo){var t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var e,t=(0,i.bytesToString)(this.data),n="url(data:".concat(this.mimetype,";base64,").concat(btoa(t),");");if(this.cssFontInfo){var r="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(r+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),e='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(r,"src:").concat(n,"}")}else e='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(n,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,n),e}},{key:"getPathGenerator",value:function(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];var n;try{n=e.get(this.loadedName+"_path_"+t)}catch(c){if(!this.ignoreErrors)throw c;return this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,i.warn)('getPathGenerator - ignoring character: "'.concat(c,'".')),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){var r,a=[],o=_createForOfIteratorHelper(n);try{for(o.s();!(r=o.n()).done;){var s=r.value,l=void 0!==s.args?s.args.join(","):"";a.push("c.",s.cmd,"(",l,");\n")}}catch(u){o.e(u)}finally{o.f()}return this.compiledGlyphs[t]=new Function("c","size",a.join(""))}return this.compiledGlyphs[t]=function(e,t){var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;"scale"===a.cmd&&(a.args=[t,-t]),e[a.cmd].apply(e,a.args)}}catch(u){i.e(u)}finally{i.f()}}}}]),e}();t.FontFaceObject=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var r=n(8),i=n(1),a=n(13),o=n(14),s=n(3),l=4096,c=s.isNodeJS&&"undefined"===typeof Path2D?-1:1e3,u=16,d=function(){function e(t){_classCallCheck(this,e),this.canvasFactory=t,this.cache=Object.create(null)}return _createClass(e,[{key:"getCanvas",value:function(e,t,n){var r;return void 0!==this.cache[e]?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}},{key:"delete",value:function(e){delete this.cache[e]}},{key:"clear",value:function(){for(var e in this.cache){var t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}]),e}();function h(e,t,n,i,a,o,s,l,c,u){var d=(0,r.getCurrentTransform)(e),h=_slicedToArray(d,6),f=h[0],p=h[1],v=h[2],m=h[3],g=h[4],y=h[5];if(0===p&&0===v){var b=s*f+g,_=Math.round(b),x=l*m+y,w=Math.round(x),S=(s+c)*f+g,k=Math.abs(Math.round(S)-_)||1,E=(l+u)*m+y,M=Math.abs(Math.round(E)-w)||1;return e.setTransform(Math.sign(f),0,0,Math.sign(m),_,w),e.drawImage(t,n,i,a,o,0,0,k,M),e.setTransform(f,p,v,m,g,y),[k,M]}if(0===f&&0===m){var T=l*v+g,P=Math.round(T),A=s*p+y,C=Math.round(A),R=(l+u)*v+g,O=Math.abs(Math.round(R)-P)||1,L=(s+c)*p+y,F=Math.abs(Math.round(L)-C)||1;return e.setTransform(0,Math.sign(p),Math.sign(v),0,P,C),e.drawImage(t,n,i,a,o,0,0,F,O),e.setTransform(f,p,v,m,g,y),[F,O]}return e.drawImage(t,n,i,a,o,s,l,c,u),[Math.hypot(f,p)*c,Math.hypot(v,m)*u]}var f=function(){function e(t,n){_classCallCheck(this,e),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,t,n])}return _createClass(e,[{key:"clone",value:function(){var e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}},{key:"setCurrentPoint",value:function(e,t){this.x=e,this.y=t}},{key:"updatePathMinMax",value:function(e,t,n){var r=i.Util.applyTransform([t,n],e),a=_slicedToArray(r,2);t=a[0],n=a[1],this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}},{key:"updateRectMinMax",value:function(e,t){var n=i.Util.applyTransform(t,e),r=i.Util.applyTransform(t.slice(2),e);this.minX=Math.min(this.minX,n[0],r[0]),this.minY=Math.min(this.minY,n[1],r[1]),this.maxX=Math.max(this.maxX,n[0],r[0]),this.maxY=Math.max(this.maxY,n[1],r[1])}},{key:"updateScalingPathMinMax",value:function(e,t){i.Util.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.maxX=Math.max(this.maxX,t[1]),this.minY=Math.min(this.minY,t[2]),this.maxY=Math.max(this.maxY,t[3])}},{key:"updateCurvePathMinMax",value:function(e,t,n,r,a,o,s,l,c,u){var d=i.Util.bezierBoundingBox(t,n,r,a,o,s,l,c);if(u)return u[0]=Math.min(u[0],d[0],d[2]),u[1]=Math.max(u[1],d[0],d[2]),u[2]=Math.min(u[2],d[1],d[3]),void(u[3]=Math.max(u[3],d[1],d[3]));this.updateRectMinMax(e,d)}},{key:"getPathBoundingBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.PathType.FILL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[this.minX,this.minY,this.maxX,this.maxY];if(e===a.PathType.STROKE){t||(0,i.unreachable)("Stroke bounding box must include transform.");var r=i.Util.singularValueDecompose2dScale(t),o=r[0]*this.lineWidth/2,s=r[1]*this.lineWidth/2;n[0]-=o,n[1]-=s,n[2]+=o,n[3]+=s}return n}},{key:"updateClipFromPath",value:function(){var e=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}},{key:"isEmptyClip",value:function(){return this.minX===1/0}},{key:"startNewPathAndClipBox",value:function(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}},{key:"getClippedPathBoundingBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.PathType.FILL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.Util.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}]),e}();function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!==typeof ImageData&&t instanceof ImageData)e.putImageData(t,0,0);else{var r,a,o,s,l,c,d,h,f,p=t.height,v=t.width,m=p%u,g=(p-m)/u,y=0===m?g:g+1,b=e.createImageData(v,u),_=0,x=t.data,w=b.data;if(n)switch(n.length){case 1:c=n[0],d=n[0],h=n[0],f=n[0];break;case 4:c=n[0],d=n[1],h=n[2],f=n[3]}if(t.kind===i.ImageKind.GRAYSCALE_1BPP){var S=x.byteLength,k=new Uint32Array(w.buffer,0,w.byteLength>>2),E=k.length,M=v+7>>3,T=4294967295,P=i.FeatureTest.isLittleEndian?4278190080:255;if(f&&255===f[0]&&0===f[255]){var A=[P,T];T=A[0],P=A[1]}for(a=0;a<y;a++){for(s=a<g?u:m,r=0,o=0;o<s;o++){for(var C=S-_,R=0,O=C>M?v:8*C-7,L=-8&O,F=0,I=0;R<L;R+=8)I=x[_++],k[r++]=128&I?T:P,k[r++]=64&I?T:P,k[r++]=32&I?T:P,k[r++]=16&I?T:P,k[r++]=8&I?T:P,k[r++]=4&I?T:P,k[r++]=2&I?T:P,k[r++]=1&I?T:P;for(;R<O;R++)0===F&&(I=x[_++],F=128),k[r++]=I&F?T:P,F>>=1}for(;r<E;)k[r++]=0;e.putImageData(b,0,a*u)}}else if(t.kind===i.ImageKind.RGBA_32BPP){var N=!!(c||d||h);for(o=0,l=v*u*4,a=0;a<g;a++){if(w.set(x.subarray(_,_+l)),_+=l,N)for(var D=0;D<l;D+=4)c&&(w[D+0]=c[w[D+0]]),d&&(w[D+1]=d[w[D+1]]),h&&(w[D+2]=h[w[D+2]]);e.putImageData(b,0,o),o+=u}if(a<y){if(l=v*m*4,w.set(x.subarray(_,_+l)),N)for(var j=0;j<l;j+=4)c&&(w[j+0]=c[w[j+0]]),d&&(w[j+1]=d[w[j+1]]),h&&(w[j+2]=h[w[j+2]]);e.putImageData(b,0,o)}}else{if(t.kind!==i.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));var z=!!(c||d||h);for(l=v*(s=u),a=0;a<y;a++){for(a>=g&&(l=v*(s=m)),r=0,o=l;o--;)w[r++]=x[_++],w[r++]=x[_++],w[r++]=x[_++],w[r++]=255;if(z)for(var H=0;H<r;H+=4)c&&(w[H+0]=c[w[H+0]]),d&&(w[H+1]=d[w[H+1]]),h&&(w[H+2]=h[w[H+2]]);e.putImageData(b,0,a*u)}}}}function v(e,t){if(t.bitmap)e.drawImage(t.bitmap,0,0);else for(var n=t.height,r=t.width,i=n%u,a=(n-i)/u,s=0===i?a:a+1,l=e.createImageData(r,u),c=0,d=t.data,h=l.data,f=0;f<s;f++){var p=f<a?u:i;c=(0,o.applyMaskImageData)({src:d,srcPos:c,dest:h,width:r,height:p}).srcPos,e.putImageData(l,0,f*u)}}function m(e,t){for(var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],r=0,i=n.length;r<i;r++){var a=n[r];void 0!==e[a]&&(t[a]=e[a])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function g(e,t){e.strokeStyle=e.fillStyle=t||"#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function y(e,t,n,r){for(var i=e.length,a=3;a<i;a+=4){var o=e[a];if(0===o)e[a-3]=t,e[a-2]=n,e[a-1]=r;else if(o<255){var s=255-o;e[a-3]=e[a-3]*o+t*s>>8,e[a-2]=e[a-2]*o+n*s>>8,e[a-1]=e[a-1]*o+r*s>>8}}}function b(e,t,n){for(var r=e.length,i=3;i<r;i+=4){var a=n?n[e[i]]:e[i];t[i]=t[i]*a*.00392156862745098|0}}function _(e,t,n){for(var r=e.length,i=3;i<r;i+=4){var a=77*e[i-3]+152*e[i-2]+28*e[i-1];t[i]=n?t[i]*n[a>>8]>>8:t[i]*a>>16}}function x(e,t,n,r){var i=r[0],a=r[1],o=r[2]-i,s=r[3]-a;0!==o&&0!==s&&(function(e,t,n,r,i,a,o,s,l,c,u){var d,h=!!a,f=h?a[0]:0,p=h?a[1]:0,v=h?a[2]:0;d="Luminosity"===i?_:b;for(var m=Math.min(r,Math.ceil(1048576/n)),g=0;g<r;g+=m){var x=Math.min(m,r-g),w=e.getImageData(s-c,g+(l-u),n,x),S=t.getImageData(s,g+l,n,x);h&&y(w.data,f,p,v),d(w.data,S.data,o),t.putImageData(S,s,g+l)}}(t.context,n,o,s,t.subtype,t.backdrop,t.transferMap,i,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}function w(e,t){var n=i.Util.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);var a=Math.fround((globalThis.devicePixelRatio||1)*r.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==t?t:n[0]<=a||n[1]<=a}var S=["butt","round","square"],k=["miter","round","bevel"],E={},M={},T=new WeakSet,P=function(){function e(t,n,r,i,a,o,s,l){_classCallCheck(this,e),_classPrivateMethodInitSpec(this,T),this.ctx=t,this.current=new f(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.imageLayer=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=o,this.cachedCanvases=new d(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=s,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(null===l||void 0===l?void 0:l.background)||null,this.foregroundColor=(null===l||void 0===l?void 0:l.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}return _createClass(e,[{key:"getObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}},{key:"beginDrawing",value:function(e){var t,n,i=e.transform,a=e.viewport,o=e.transparency,s=void 0!==o&&o,l=e.background,c=void 0===l?null:l,u=this.ctx.canvas.width,d=this.ctx.canvas.height,h=c||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;var f=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;var p,v,m=this.backgroundColor=this.ctx.fillStyle;if(this.ctx.fillStyle=h,p="string"===typeof(v=this.ctx.fillStyle)&&/^#[0-9A-Fa-f]{6}$/.test(v),"#000000"===f&&"#ffffff"===m||f===m||!p)this.foregroundColor=this.backgroundColor=null;else{var y=(0,r.getRGB)(v),b=_slicedToArray(y,3),_=b[0],x=b[1],w=b[2],S=function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)},k=Math.round(.2126*S(_)+.7152*S(x)+.0722*S(w));this.selectColor=function(e,t,n){var r=.2126*S(e)+.7152*S(t)+.0722*S(n);return Math.round(r)===k?m:f}}}if(this.ctx.fillStyle=this.backgroundColor||h,this.ctx.fillRect(0,0,u,d),this.ctx.restore(),s){var E,M=this.cachedCanvases.getCanvas("transparent",u,d);this.compositeCtx=this.ctx,this.transparentCanvas=M.canvas,this.ctx=M.context,this.ctx.save(),(E=this.ctx).transform.apply(E,_toConsumableArray((0,r.getCurrentTransform)(this.compositeCtx)))}this.ctx.save(),g(this.ctx,this.foregroundColor),i&&((n=this.ctx).transform.apply(n,_toConsumableArray(i)),this.outputScaleX=i[0],this.outputScaleY=i[0]),(t=this.ctx).transform.apply(t,_toConsumableArray(a.transform)),this.viewportScale=a.scale,this.baseTransform=(0,r.getCurrentTransform)(this.ctx),this.imageLayer&&((0,r.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}},{key:"executeOperatorList",value:function(e,t,n,r){var a=e.argsArray,o=e.fnArray,s=t||0,l=a.length;if(l===s)return s;for(var c,u=l-s>10&&"function"===typeof n,d=u?Date.now()+15:0,h=0,f=this.commonObjs,p=this.objs;;){if(void 0!==r&&s===r.nextBreakPoint)return r.breakIt(s,n),s;if((c=o[s])!==i.OPS.dependency)this[c].apply(this,a[s]);else{var v,m=_createForOfIteratorHelper(a[s]);try{for(m.s();!(v=m.n()).done;){var g=v.value,y=g.startsWith("g_")?f:p;if(!y.has(g))return y.get(g,n),s}}catch(b){m.e(b)}finally{m.f()}}if(++s===l)return s;if(u&&++h>10){if(Date.now()>d)return n(),s;h=0}}}},{key:"endDrawing",value:function(){_classPrivateMethodGet(this,T,A).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();var e,t=_createForOfIteratorHelper(this._cachedBitmapsMap.values());try{for(t.s();!(e=t.n()).done;){var n,r=e.value,i=_createForOfIteratorHelper(r.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement&&(a.width=a.height=0)}}catch(o){i.e(o)}finally{i.f()}r.clear()}}catch(o){t.e(o)}finally{t.f()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}},{key:"_scaleImage",value:function(e,t){for(var n,r,i=e.width,a=e.height,o=Math.max(Math.hypot(t[0],t[1]),1),s=Math.max(Math.hypot(t[2],t[3]),1),l=i,c=a,u="prescale1";o>2&&l>1||s>2&&c>1;){var d=l,h=c;o>2&&l>1&&(o/=l/(d=Math.ceil(l/2))),s>2&&c>1&&(s/=c/(h=Math.ceil(c/2))),(r=(n=this.cachedCanvases.getCanvas(u,d,h)).context).clearRect(0,0,d,h),r.drawImage(e,0,0,l,c,0,0,d,h),e=n.canvas,l=d,c=h,u="prescale1"===u?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}},{key:"_createMaskCanvas",value:function(e){var t,n,o,s,l=this.ctx,c=e.width,u=e.height,d=this.current.fillColor,f=this.current.patternFill,p=(0,r.getCurrentTransform)(l);if((e.bitmap||e.data)&&e.count>1){var m=e.bitmap||e.data.buffer,g=p.slice(0,4);n=JSON.stringify(f?g:[g,d]),(t=this._cachedBitmapsMap.get(m))||(t=new Map,this._cachedBitmapsMap.set(m,t));var y=t.get(n);if(y&&!f)return{canvas:y,offsetX:Math.round(Math.min(p[0],p[2])+p[4]),offsetY:Math.round(Math.min(p[1],p[3])+p[5])};o=y}o||v((s=this.cachedCanvases.getCanvas("maskCanvas",c,u)).context,e);var b=i.Util.transform(p,[1/c,0,0,-1/u,0,0]);b=i.Util.transform(b,[1,0,0,1,0,-u]);var _=i.Util.applyTransform([0,0],b),x=i.Util.applyTransform([c,u],b),S=i.Util.normalizeRect([_[0],_[1],x[0],x[1]]),k=Math.round(S[2]-S[0])||1,E=Math.round(S[3]-S[1])||1,M=this.cachedCanvases.getCanvas("fillCanvas",k,E),T=M.context,P=Math.min(_[0],x[0]),A=Math.min(_[1],x[1]);T.translate(-P,-A),T.transform.apply(T,_toConsumableArray(b)),o||(o=(o=this._scaleImage(s.canvas,(0,r.getCurrentTransformInverse)(T))).img,t&&f&&t.set(n,o)),T.imageSmoothingEnabled=w((0,r.getCurrentTransform)(T),e.interpolate),h(T,o,0,0,o.width,o.height,0,0,c,u),T.globalCompositeOperation="source-in";var C=i.Util.transform((0,r.getCurrentTransformInverse)(T),[1,0,0,1,-P,-A]);return T.fillStyle=f?d.getPattern(l,this,C,a.PathType.FILL):d,T.fillRect(0,0,c,u),t&&!f&&(this.cachedCanvases.delete("fillCanvas"),t.set(n,M.canvas)),{canvas:M.canvas,offsetX:Math.round(P),offsetY:Math.round(A)}}},{key:"setLineWidth",value:function(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=e,this.ctx.lineWidth=e}},{key:"setLineCap",value:function(e){this.ctx.lineCap=S[e]}},{key:"setLineJoin",value:function(e){this.ctx.lineJoin=k[e]}},{key:"setMiterLimit",value:function(e){this.ctx.miterLimit=e}},{key:"setDash",value:function(e,t){var n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}},{key:"setRenderingIntent",value:function(e){}},{key:"setFlatness",value:function(e){}},{key:"setGState",value:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t],i=r[0],a=r[1];switch(i){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=r[1];break;case"ca":this.current.fillAlpha=r[1],this.ctx.globalAlpha=r[1];break;case"BM":this.ctx.globalCompositeOperation=a;break;case"SMask":this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=a}}}},{key:"inSMaskMode",get:function(){return!!this.suspendedCtx}},{key:"checkSMaskState",value:function(){var e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}},{key:"beginSMaskMode",value:function(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");var e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;var a=this.ctx;a.setTransform.apply(a,_toConsumableArray((0,r.getCurrentTransform)(this.suspendedCtx))),m(this.suspendedCtx,a),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=function(){e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,r,i,a,o){t.transform(e,n,r,i,a,o),this.__originalTransform(e,n,r,i,a,o)},e.setTransform=function(e,n,r,i,a,o){t.setTransform(e,n,r,i,a,o),this.__originalSetTransform(e,n,r,i,a,o)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,r,i,a,o){t.bezierCurveTo(e,n,r,i,a,o),this.__originalBezierCurveTo(e,n,r,i,a,o)},e.rect=function(e,n,r,i){t.rect(e,n,r,i),this.__originalRect(e,n,r,i)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}},{key:"endSMaskMode",value:function(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),m(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}},{key:"compose",value:function(e){if(this.current.activeSMask){e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];var t=this.current.activeSMask;x(this.suspendedCtx,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}}},{key:"save",value:function(){this.inSMaskMode?(m(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone()}},{key:"restore",value:function(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),m(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}},{key:"transform",value:function(e,t,n,r,i,a){this.ctx.transform(e,t,n,r,i,a),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(e,t,n){for(var a,o,s=this.ctx,l=this.current,c=l.x,u=l.y,d=(0,r.getCurrentTransform)(s),h=0===d[0]&&0===d[3]||0===d[1]&&0===d[2],f=h?n.slice(0):null,p=0,v=0,m=e.length;p<m;p++)switch(0|e[p]){case i.OPS.rectangle:c=t[v++],u=t[v++];var g=t[v++],y=t[v++],b=c+g,_=u+y;s.moveTo(c,u),0===g||0===y?s.lineTo(b,_):(s.lineTo(b,u),s.lineTo(b,_),s.lineTo(c,_)),h||l.updateRectMinMax(d,[c,u,b,_]),s.closePath();break;case i.OPS.moveTo:c=t[v++],u=t[v++],s.moveTo(c,u),h||l.updatePathMinMax(d,c,u);break;case i.OPS.lineTo:c=t[v++],u=t[v++],s.lineTo(c,u),h||l.updatePathMinMax(d,c,u);break;case i.OPS.curveTo:a=c,o=u,c=t[v+4],u=t[v+5],s.bezierCurveTo(t[v],t[v+1],t[v+2],t[v+3],c,u),l.updateCurvePathMinMax(d,a,o,t[v],t[v+1],t[v+2],t[v+3],c,u,f),v+=6;break;case i.OPS.curveTo2:a=c,o=u,s.bezierCurveTo(c,u,t[v],t[v+1],t[v+2],t[v+3]),l.updateCurvePathMinMax(d,a,o,c,u,t[v],t[v+1],t[v+2],t[v+3],f),c=t[v+2],u=t[v+3],v+=4;break;case i.OPS.curveTo3:a=c,o=u,c=t[v+2],u=t[v+3],s.bezierCurveTo(t[v],t[v+1],c,u,c,u),l.updateCurvePathMinMax(d,a,o,t[v],t[v+1],c,u,c,u,f),v+=4;break;case i.OPS.closePath:s.closePath()}h&&l.updateScalingPathMinMax(d,f),l.setCurrentPoint(c,u)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(e){e="undefined"===typeof e||e;var t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&null!==n&&void 0!==n&&n.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,(0,r.getCurrentTransformInverse)(t),a.PathType.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(e){e="undefined"===typeof e||e;var t=this.ctx,n=this.current.fillColor,i=!1;this.current.patternFill&&(t.save(),t.fillStyle=n.getPattern(t,this,(0,r.getCurrentTransformInverse)(t),a.PathType.FILL),i=!0);var o=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==o&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),i&&t.restore(),e&&this.consumePath(o)}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=E}},{key:"eoClip",value:function(){this.pendingClip=M}},{key:"beginText",value:function(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.setTransform.apply(t,_toConsumableArray(i.transform)),t.translate(i.x,i.y),i.addToPath(t,i.fontSize)}}catch(a){r.e(a)}finally{r.f()}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}},{key:"setCharSpacing",value:function(e){this.current.charSpacing=e}},{key:"setWordSpacing",value:function(e){this.current.wordSpacing=e}},{key:"setHScale",value:function(e){this.current.textHScale=e/100}},{key:"setLeading",value:function(e){this.current.leading=-e}},{key:"setFont",value:function(e,t){var n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error("Can't find font for ".concat(e));if(r.fontMatrix=n.fontMatrix||i.FONT_IDENTITY_MATRIX,0!==r.fontMatrix[0]&&0!==r.fontMatrix[3]||(0,i.warn)("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=t,!n.isType3Font){var a=n.loadedName||"sans-serif",o="normal";n.black?o="900":n.bold&&(o="bold");var s=n.italic?"italic":"normal",l='"'.concat(a,'", ').concat(n.fallbackName),c=t;t<16?c=16:t>100&&(c=100),this.current.fontSizeScale=t/c,this.ctx.font="".concat(s," ").concat(o," ").concat(c,"px ").concat(l)}}},{key:"setTextRenderingMode",value:function(e){this.current.textRenderingMode=e}},{key:"setTextRise",value:function(e){this.current.textRise=e}},{key:"moveText",value:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}},{key:"setLeadingMoveText",value:function(e,t){this.setLeading(-t),this.moveText(e,t)}},{key:"setTextMatrix",value:function(e,t,n,r,i,a){this.current.textMatrix=[e,t,n,r,i,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(e,t,n,a){var o,s=this.ctx,l=this.current,c=l.font,u=l.textRenderingMode,d=l.fontSize/l.fontSizeScale,h=u&i.TextRenderingMode.FILL_STROKE_MASK,f=!!(u&i.TextRenderingMode.ADD_TO_PATH_FLAG),p=l.patternFill&&!c.missingFile;(c.disableFontFace||f||p)&&(o=c.getPathGenerator(this.commonObjs,e)),c.disableFontFace||p?(s.save(),s.translate(t,n),s.beginPath(),o(s,d),a&&s.setTransform.apply(s,_toConsumableArray(a)),h!==i.TextRenderingMode.FILL&&h!==i.TextRenderingMode.FILL_STROKE||s.fill(),h!==i.TextRenderingMode.STROKE&&h!==i.TextRenderingMode.FILL_STROKE||s.stroke(),s.restore()):(h!==i.TextRenderingMode.FILL&&h!==i.TextRenderingMode.FILL_STROKE||s.fillText(e,t,n),h!==i.TextRenderingMode.STROKE&&h!==i.TextRenderingMode.FILL_STROKE||s.strokeText(e,t,n)),f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,r.getCurrentTransform)(s),x:t,y:n,fontSize:d,addToPath:o})}},{key:"isFontSubpixelAAEnabled",get:function(){var e=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,n=!1,r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",n)}},{key:"showText",value:function(e){var t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);var o=t.fontSize;if(0!==o){var s,l=this.ctx,c=t.fontSizeScale,u=t.charSpacing,d=t.wordSpacing,h=t.fontDirection,f=t.textHScale*h,p=e.length,v=n.vertical,m=v?1:-1,g=n.defaultVMetrics,y=o*t.fontMatrix[0],b=t.textRenderingMode===i.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;if(l.save(),l.transform.apply(l,_toConsumableArray(t.textMatrix)),l.translate(t.x,t.y+t.textRise),h>0?l.scale(f,-1):l.scale(f,1),t.patternFill){l.save();var _=t.fillColor.getPattern(l,this,(0,r.getCurrentTransformInverse)(l),a.PathType.FILL);s=(0,r.getCurrentTransform)(l),l.restore(),l.fillStyle=_}var x=t.lineWidth,w=t.textMatrixScale;if(0===w||0===x){var S=t.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;S!==i.TextRenderingMode.STROKE&&S!==i.TextRenderingMode.FILL_STROKE||(x=this.getSinglePixelWidth())}else x/=w;1!==c&&(l.scale(c,c),x/=c),l.lineWidth=x;var k,E=0;for(k=0;k<p;++k){var M=e[k];if("number"!==typeof M){var T=!1,P=(M.isSpace?d:0)+u,A=M.fontChar,C=M.accent,R=void 0,O=void 0,L=M.width;if(v){var F=M.vmetric||g,I=-(M.vmetric?F[1]:.5*L)*y,N=F[2]*y;L=F?-F[0]:L,R=I/c,O=(E+N)/c}else R=E/c,O=0;if(n.remeasure&&L>0){var D=1e3*l.measureText(A).width/o*c;if(L<D&&this.isFontSubpixelAAEnabled){var j=L/D;T=!0,l.save(),l.scale(j,1),R/=j}else L!==D&&(R+=(L-D)/2e3*o/c)}if(this.contentVisible&&(M.isInFont||n.missingFile))if(b&&!C)l.fillText(A,R,O);else if(this.paintChar(A,R,O,s),C){var z=R+o*C.offset.x/c,H=O-o*C.offset.y/c;this.paintChar(C.fontChar,z,H,s)}E+=v?L*y-P*h:L*y+P*h,T&&l.restore()}else E+=m*M*o/1e3}v?t.y-=E:t.x+=E*f,l.restore(),this.compose()}}},{key:"showType3Text",value:function(e){var t,n,r,a,o=this.ctx,s=this.current,l=s.font,c=s.fontSize,u=s.fontDirection,d=l.vertical?1:-1,h=s.charSpacing,f=s.wordSpacing,p=s.textHScale*u,v=s.fontMatrix||i.FONT_IDENTITY_MATRIX,m=e.length;if(s.textRenderingMode!==i.TextRenderingMode.INVISIBLE&&0!==c){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,o.save(),o.transform.apply(o,_toConsumableArray(s.textMatrix)),o.translate(s.x,s.y),o.scale(p,u),t=0;t<m;++t)if("number"!==typeof(n=e[t])){var g=(n.isSpace?f:0)+h,y=l.charProcOperatorList[n.operatorListId];y?(this.contentVisible&&(this.processingType3=n,this.save(),o.scale(c,c),o.transform.apply(o,_toConsumableArray(v)),this.executeOperatorList(y),this.restore()),r=i.Util.applyTransform([n.width,0],v)[0]*c+g,o.translate(r,0),s.x+=r*p):(0,i.warn)('Type3 character "'.concat(n.operatorListId,'" is not available.'))}else a=d*n*c/1e3,this.ctx.translate(a,0),s.x+=a*p;o.restore(),this.processingType3=null}}},{key:"setCharWidth",value:function(e,t){}},{key:"setCharWidthAndBounds",value:function(e,t,n,r,i,a){this.ctx.rect(n,r,i-n,a-r),this.ctx.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(t){var n,i=this;if("TilingPattern"===t[0]){var o=t[1],s=this.baseTransform||(0,r.getCurrentTransform)(this.ctx),l={createCanvasGraphics:function(t){return new e(t,i.commonObjs,i.objs,i.canvasFactory)}};n=new a.TilingPattern(t,o,this.ctx,l,s)}else n=this._getPattern(t[1],t[2]);return n}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(e,t,n){var r,a=(null===(r=this.selectColor)||void 0===r?void 0:r.call(this,e,t,n))||i.Util.makeHexColor(e,t,n);this.ctx.strokeStyle=a,this.current.strokeColor=a}},{key:"setFillRGBColor",value:function(e,t,n){var r,a=(null===(r=this.selectColor)||void 0===r?void 0:r.call(this,e,t,n))||i.Util.makeHexColor(e,t,n);this.ctx.fillStyle=a,this.current.fillColor=a,this.current.patternFill=!1}},{key:"_getPattern",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=(0,a.getShadingPattern)(this.objs.get(e)),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}},{key:"shadingFill",value:function(e){if(this.contentVisible){var t=this.ctx;this.save();var n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,(0,r.getCurrentTransformInverse)(t),a.PathType.SHADING);var o=(0,r.getCurrentTransformInverse)(t);if(o){var s=t.canvas,l=s.width,c=s.height,u=i.Util.applyTransform([0,0],o),d=i.Util.applyTransform([0,c],o),h=i.Util.applyTransform([l,0],o),f=i.Util.applyTransform([l,c],o),p=Math.min(u[0],d[0],h[0],f[0]),v=Math.min(u[1],d[1],h[1],f[1]),m=Math.max(u[0],d[0],h[0],f[0]),g=Math.max(u[1],d[1],h[1],f[1]);this.ctx.fillRect(p,v,m-p,g-v)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}}},{key:"beginInlineImage",value:function(){(0,i.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){(0,i.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform.apply(this,_toConsumableArray(e)),this.baseTransform=(0,r.getCurrentTransform)(this.ctx),t)){var n=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],n,i),this.current.updateRectMinMax((0,r.getCurrentTransform)(this.ctx),t),this.clip(),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}},{key:"beginGroup",value:function(e){if(this.contentVisible){this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);var t=this.ctx;e.isolated||(0,i.info)("TODO: Support non-isolated groups."),e.knockout&&(0,i.warn)("Knockout groups not supported.");var n=(0,r.getCurrentTransform)(t);if(e.matrix&&t.transform.apply(t,_toConsumableArray(e.matrix)),!e.bbox)throw new Error("Bounding box is required.");var a=i.Util.getAxialAlignedBoundingBox(e.bbox,(0,r.getCurrentTransform)(t)),o=[0,0,t.canvas.width,t.canvas.height];a=i.Util.intersect(a,o)||[0,0,0,0];var s=Math.floor(a[0]),c=Math.floor(a[1]),u=Math.max(Math.ceil(a[2])-s,1),d=Math.max(Math.ceil(a[3])-c,1),h=1,f=1;u>l&&(h=u/l,u=l),d>l&&(f=d/l,d=l),this.current.startNewPathAndClipBox([0,0,u,d]);var p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);var v=this.cachedCanvases.getCanvas(p,u,d),g=v.context;g.scale(1/h,1/f),g.translate(-s,-c),g.transform.apply(g,_toConsumableArray(n)),e.smask?this.smaskStack.push({canvas:v.canvas,context:g,offsetX:s,offsetY:c,scaleX:h,scaleY:f,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(s,c),t.scale(h,f),t.save()),m(t,g),this.ctx=g,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}}},{key:"endGroup",value:function(e){if(this.contentVisible){this.groupLevel--;var t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{var a;this.ctx.restore();var o=(0,r.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),(a=this.ctx).setTransform.apply(a,_toConsumableArray(o));var s=i.Util.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],o);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}}},{key:"beginAnnotation",value:function(e,t,n,a,o){var s;if(_classPrivateMethodGet(this,T,A).call(this),g(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&(s=this.ctx).setTransform.apply(s,_toConsumableArray(this.baseTransform)),Array.isArray(t)&&4===t.length){var l=t[2]-t[0],c=t[3]-t[1];if(o&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=l,t[3]=c;var u=i.Util.singularValueDecompose2dScale((0,r.getCurrentTransform)(this.ctx)),d=_slicedToArray(u,2),h=d[0],p=d[1],v=this.viewportScale,m=Math.ceil(l*this.outputScaleX*v),y=Math.ceil(c*this.outputScaleY*v);this.annotationCanvas=this.canvasFactory.create(m,y);var b=this.annotationCanvas,_=b.canvas,x=b.context;this.annotationCanvasMap.set(e,_),this.annotationCanvas.savedCtx=this.ctx,this.ctx=x,this.ctx.setTransform(h,0,0,-p,0,c*p),g(this.ctx,this.foregroundColor)}else g(this.ctx,this.foregroundColor),this.ctx.rect(t[0],t[1],l,c),this.ctx.clip(),this.endPath()}this.current=new f(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,_toConsumableArray(n)),this.transform.apply(this,_toConsumableArray(a))}},{key:"endAnnotation",value:function(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}},{key:"paintImageMaskXObject",value:function(e){if(this.contentVisible){var t=e.count;(e=this.getObject(e.data,e)).count=t;var n=this.ctx,r=this.processingType3;if(r&&(void 0===r.compiled&&(r.compiled=function(e){var t=e.width,n=e.height;if(t>c||n>c)return null;var r,i,a,o,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=t+1,u=new Uint8Array(l*(n+1)),d=t+7&-8,h=new Uint8Array(d*n),f=0,p=_createForOfIteratorHelper(e.data);try{for(p.s();!(o=p.n()).done;)for(var v=o.value,m=128;m>0;)h[f++]=v&m?0:255,m>>=1}catch(T){p.e(T)}finally{p.f()}var g=0;for(0!==h[f=0]&&(u[0]=1,++g),i=1;i<t;i++)h[f]!==h[f+1]&&(u[i]=h[f]?2:1,++g),f++;for(0!==h[f]&&(u[i]=2,++g),r=1;r<n;r++){a=r*l,h[(f=r*d)-d]!==h[f]&&(u[a]=h[f]?1:8,++g);var y=(h[f]?4:0)+(h[f-d]?8:0);for(i=1;i<t;i++)s[y=(y>>2)+(h[f+1]?4:0)+(h[f-d+1]?8:0)]&&(u[a+i]=s[y],++g),f++;if(h[f-d]!==h[f]&&(u[a+i]=h[f]?2:4,++g),g>1e3)return null}for(a=r*l,0!==h[f=d*(n-1)]&&(u[a]=8,++g),i=1;i<t;i++)h[f]!==h[f+1]&&(u[a+i]=h[f]?4:8,++g),f++;if(0!==h[f]&&(u[a+i]=4,++g),g>1e3)return null;var b=new Int32Array([0,l,-1,0,-l,0,0,0,1]),_=new Path2D;for(r=0;g&&r<=n;r++){for(var x=r*l,w=x+t;x<w&&!u[x];)x++;if(x!==w){_.moveTo(x%l,r);var S=x,k=u[x];do{var E=b[k];do{x+=E}while(!u[x]);var M=u[x];5!==M&&10!==M?(k=M,u[x]=0):(k=M&51*k>>4,u[x]&=k>>2|k<<2),_.lineTo(x%l,x/l|0),u[x]||--g}while(S!==x);--r}}return h=null,u=null,function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.fill(_),e.beginPath(),e.restore()}}(e)),r.compiled))r.compiled(n);else{var i=this._createMaskCanvas(e),a=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,i.offsetX,i.offsetY),n.restore(),this.compose()}}}},{key:"paintImageMaskXObjectRepeat",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){e=this.getObject(e.data,e);var l=this.ctx;l.save();var c=(0,r.getCurrentTransform)(l);l.transform(t,n,a,o,0,0);var u=this._createMaskCanvas(e);l.setTransform(1,0,0,1,0,0);for(var d=0,h=s.length;d<h;d+=2){var f=i.Util.transform(c,[t,n,a,o,s[d],s[d+1]]),p=i.Util.applyTransform([0,0],f),v=_slicedToArray(p,2),m=v[0],g=v[1];l.drawImage(u.canvas,m,g)}l.restore(),this.compose()}}},{key:"paintImageMaskXObjectGroup",value:function(e){if(this.contentVisible){var t,n=this.ctx,i=this.current.fillColor,o=this.current.patternFill,s=_createForOfIteratorHelper(e);try{for(s.s();!(t=s.n()).done;){var l=t.value,c=l.data,u=l.width,d=l.height,f=l.transform,p=this.cachedCanvases.getCanvas("maskCanvas",u,d),m=p.context;m.save(),v(m,this.getObject(c,l)),m.globalCompositeOperation="source-in",m.fillStyle=o?i.getPattern(m,this,(0,r.getCurrentTransformInverse)(n),a.PathType.FILL):i,m.fillRect(0,0,u,d),m.restore(),n.save(),n.transform.apply(n,_toConsumableArray(f)),n.scale(1,-1),h(n,p.canvas,0,0,u,d,0,-1,1,1),n.restore()}}catch(g){s.e(g)}finally{s.f()}this.compose()}}},{key:"paintImageXObject",value:function(e){if(this.contentVisible){var t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,i.warn)("Dependent image isn't ready yet")}}},{key:"paintImageXObjectRepeat",value:function(e,t,n,r){if(this.contentVisible){var a=this.getObject(e);if(a){for(var o=a.width,s=a.height,l=[],c=0,u=r.length;c<u;c+=2)l.push({transform:[t,0,0,n,r[c],r[c+1]],x:0,y:0,w:o,h:s});this.paintInlineImageXObjectGroup(a,l)}else(0,i.warn)("Dependent image isn't ready yet")}}},{key:"paintInlineImageXObject",value:function(e){if(this.contentVisible){var t,n=e.width,a=e.height,o=this.ctx;if(this.save(),o.scale(1/n,-1/a),"function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)t=e;else{var s=this.cachedCanvases.getCanvas("inlineImage",n,a);p(s.context,e,this.current.transferMaps),t=s.canvas}var l=this._scaleImage(t,(0,r.getCurrentTransformInverse)(o));o.imageSmoothingEnabled=w((0,r.getCurrentTransform)(o),e.interpolate);var c=h(o,l.img,0,0,l.paintWidth,l.paintHeight,0,-a,n,a),u=_slicedToArray(c,2),d=u[0],f=u[1];if(this.imageLayer){var v=i.Util.applyTransform([0,-a],(0,r.getCurrentTransform)(this.ctx)),m=_slicedToArray(v,2),g=m[0],y=m[1];this.imageLayer.appendImage({imgData:e,left:g,top:y,width:d,height:f})}this.compose(),this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function(e,t){if(this.contentVisible){var n=this.ctx,a=e.width,o=e.height,s=this.cachedCanvases.getCanvas("inlineImage",a,o);p(s.context,e,this.current.transferMaps);var l,c=_createForOfIteratorHelper(t);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(n.save(),n.transform.apply(n,_toConsumableArray(u.transform)),n.scale(1,-1),h(n,s.canvas,u.x,u.y,u.w,u.h,0,-1,1,1),this.imageLayer){var d=i.Util.applyTransform([u.x,u.y],(0,r.getCurrentTransform)(this.ctx)),f=_slicedToArray(d,2),v=f[0],m=f[1];this.imageLayer.appendImage({imgData:e,left:v,top:m,width:a,height:o})}n.restore()}}catch(g){c.e(g)}finally{c.f()}this.compose()}}},{key:"paintSolidColorImageMask",value:function(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}},{key:"markPoint",value:function(e){}},{key:"markPointProps",value:function(e,t){}},{key:"beginMarkedContent",value:function(e){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(e){var t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);var n=this.ctx;this.pendingClip&&(t||(this.pendingClip===M?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(!this._cachedGetSinglePixelWidth){var e=(0,r.getCurrentTransform)(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{var t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}},{key:"getScaleForStroking",value:function(){if(!this._cachedScaleForStroking){var e,t,n=this.current.lineWidth,i=(0,r.getCurrentTransform)(this.ctx);if(0===i[1]&&0===i[2]){var a=Math.abs(i[0]),o=Math.abs(i[3]);if(0===n)e=1/a,t=1/o;else{var s=a*n,l=o*n;e=s<1?1/s:1,t=l<1?1/l:1}}else{var c=Math.abs(i[0]*i[3]-i[2]*i[1]),u=Math.hypot(i[0],i[1]),d=Math.hypot(i[2],i[3]);if(0===n)e=d/c,t=u/c;else{var h=n*c;e=d>h?d/h:1,t=u>h?u/h:1}}this._cachedScaleForStroking=[e,t]}return this._cachedScaleForStroking}},{key:"rescaleAndStroke",value:function(e){var t=this.ctx,n=this.current.lineWidth,i=this.getScaleForStroking(),a=_slicedToArray(i,2),o=a[0],s=a[1];if(t.lineWidth=n||1,1!==o||1!==s){var l,c,u;e&&(l=(0,r.getCurrentTransform)(t),c=t.getLineDash().slice(),u=t.lineDashOffset),t.scale(o,s);var d=Math.max(o,s);t.setLineDash(t.getLineDash().map((function(e){return e/d}))),t.lineDashOffset/=d,t.stroke(),e&&(t.setTransform.apply(t,_toConsumableArray(l)),t.setLineDash(c),t.lineDashOffset=u)}else t.stroke()}},{key:"isContentVisible",value:function(){for(var e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}]),e}();function A(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}for(var C in t.CanvasGraphics=P,i.OPS)void 0!==P.prototype[C]&&(P.prototype[i.OPS[C]]=P.prototype[C])},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=function(e){switch(e[0]){case"RadialAxial":return new c(e);case"Mesh":return new h(e);case"Dummy":return new f}throw new Error("Unknown IR type: ".concat(e[0]))};var r=n(1),i=n(8),a=n(3),o={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function s(e,t){if(t&&!a.isNodeJS){var n=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,r),e.clip(i)}}t.PathType=o;var l=function(){function e(){_classCallCheck(this,e),this.constructor===e&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}return _createClass(e,[{key:"getPattern",value:function(){(0,r.unreachable)("Abstract method `getPattern` called.")}}]),e}(),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._type=e[1],r._bbox=e[2],r._colorStops=e[3],r._p0=e[4],r._p1=e[5],r._r0=e[6],r._r1=e[7],r.matrix=null,r}return _createClass(n,[{key:"_createGradient",value:function(e){var t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var n,r=_createForOfIteratorHelper(this._colorStops);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.addColorStop(i[0],i[1])}}catch(a){r.e(a)}finally{r.f()}return t}},{key:"getPattern",value:function(e,t,n,a){var l;if(a===o.STROKE||a===o.FILL){var c=t.current.getClippedPathBoundingBox(a,(0,i.getCurrentTransform)(e))||[0,0,0,0],u=Math.ceil(c[2]-c[0])||1,d=Math.ceil(c[3]-c[1])||1,h=t.cachedCanvases.getCanvas("pattern",u,d,!0),f=h.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-c[0],-c[1]),n=r.Util.transform(n,[1,0,0,1,c[0],c[1]]),f.transform.apply(f,_toConsumableArray(t.baseTransform)),this.matrix&&f.transform.apply(f,_toConsumableArray(this.matrix)),s(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),l=e.createPattern(h.canvas,"no-repeat");var p=new DOMMatrix(n);try{l.setTransform(p)}catch(v){(0,r.warn)('RadialAxialShadingPattern.getPattern: "'.concat(null===v||void 0===v?void 0:v.message,'".'))}}else s(e,this._bbox),l=this._createGradient(e);return l}}]),n}(l);function u(e,t,n,r,i,a,o,s){var l,c=t.coords,u=t.colors,d=e.data,h=4*e.width;c[n+1]>c[r+1]&&(l=n,n=r,r=l,l=a,a=o,o=l),c[r+1]>c[i+1]&&(l=r,r=i,i=l,l=o,o=s,s=l),c[n+1]>c[r+1]&&(l=n,n=r,r=l,l=a,a=o,o=l);var f=(c[n]+t.offsetX)*t.scaleX,p=(c[n+1]+t.offsetY)*t.scaleY,v=(c[r]+t.offsetX)*t.scaleX,m=(c[r+1]+t.offsetY)*t.scaleY,g=(c[i]+t.offsetX)*t.scaleX,y=(c[i+1]+t.offsetY)*t.scaleY;if(!(p>=y))for(var b,_,x,w,S,k,E,M,T=u[a],P=u[a+1],A=u[a+2],C=u[o],R=u[o+1],O=u[o+2],L=u[s],F=u[s+1],I=u[s+2],N=Math.round(p),D=Math.round(y),j=N;j<=D;j++){if(j<m){var z=void 0;b=f-(f-v)*(z=j<p?0:(p-j)/(p-m)),_=T-(T-C)*z,x=P-(P-R)*z,w=A-(A-O)*z}else{var H=void 0;b=v-(v-g)*(H=j>y?1:m===y?0:(m-j)/(m-y)),_=C-(C-L)*H,x=R-(R-F)*H,w=O-(O-I)*H}var B=void 0;S=f-(f-g)*(B=j<p?0:j>y?1:(p-j)/(p-y)),k=T-(T-L)*B,E=P-(P-F)*B,M=A-(A-I)*B;for(var U=Math.round(Math.min(b,S)),G=Math.round(Math.max(b,S)),W=h*j+4*U,V=U;V<=G;V++)(B=(b-V)/(b-S))<0?B=0:B>1&&(B=1),d[W++]=_-(_-k)*B|0,d[W++]=x-(x-E)*B|0,d[W++]=w-(w-M)*B|0,d[W++]=255}}function d(e,t,n){var r,i,a=t.coords,o=t.colors;switch(t.type){case"lattice":var s=t.verticesPerRow,l=Math.floor(a.length/s)-1,c=s-1;for(r=0;r<l;r++)for(var d=r*s,h=0;h<c;h++,d++)u(e,n,a[d],a[d+1],a[d+s],o[d],o[d+1],o[d+s]),u(e,n,a[d+s+1],a[d+1],a[d+s],o[d+s+1],o[d+1],o[d+s]);break;case"triangles":for(r=0,i=a.length;r<i;r+=3)u(e,n,a[r],a[r+1],a[r+2],o[r],o[r+1],o[r+2]);break;default:throw new Error("illegal figure")}}var h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._coords=e[2],r._colors=e[3],r._figures=e[4],r._bounds=e[5],r._bbox=e[7],r._background=e[8],r.matrix=null,r}return _createClass(n,[{key:"_createMeshCanvas",value:function(e,t,n){var r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-r,o=Math.ceil(this._bounds[3])-i,s=Math.min(Math.ceil(Math.abs(a*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(o*e[1]*1.1)),3e3),c=a/s,u=o/l,h={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/c,scaleY:1/u},f=s+4,p=l+4,v=n.getCanvas("mesh",f,p,!1),m=v.context,g=m.createImageData(s,l);if(t)for(var y=g.data,b=0,_=y.length;b<_;b+=4)y[b]=t[0],y[b+1]=t[1],y[b+2]=t[2],y[b+3]=255;var x,w=_createForOfIteratorHelper(this._figures);try{for(w.s();!(x=w.n()).done;)d(g,x.value,h)}catch(S){w.e(S)}finally{w.f()}return m.putImageData(g,2,2),{canvas:v.canvas,offsetX:r-2*c,offsetY:i-2*u,scaleX:c,scaleY:u}}},{key:"getPattern",value:function(e,t,n,a){var l;if(s(e,this._bbox),a===o.SHADING)l=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(e));else if(l=r.Util.singularValueDecompose2dScale(t.baseTransform),this.matrix){var c=r.Util.singularValueDecompose2dScale(this.matrix);l=[l[0]*c[0],l[1]*c[1]]}var u=this._createMeshCanvas(l,a===o.SHADING?null:this._background,t.cachedCanvases);return a!==o.SHADING&&(e.setTransform.apply(e,_toConsumableArray(t.baseTransform)),this.matrix&&e.transform.apply(e,_toConsumableArray(this.matrix))),e.translate(u.offsetX,u.offsetY),e.scale(u.scaleX,u.scaleY),e.createPattern(u.canvas,"no-repeat")}}]),n}(l),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getPattern",value:function(){return"hotpink"}}]),n}(l),p=1,v=2,m=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.operatorList=t[2],this.matrix=t[3]||[1,0,0,1,0,0],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=n,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=a}return _createClass(e,[{key:"createPatternCanvas",value:function(e){var t=this.operatorList,n=this.bbox,a=this.xstep,o=this.ystep,s=this.paintType,l=this.tilingType,c=this.color,u=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+l);var d=n[0],h=n[1],f=n[2],p=n[3],v=r.Util.singularValueDecompose2dScale(this.matrix),m=r.Util.singularValueDecompose2dScale(this.baseTransform),g=[v[0]*m[0],v[1]*m[1]],y=this.getSizeAndScale(a,this.ctx.canvas.width,g[0]),b=this.getSizeAndScale(o,this.ctx.canvas.height,g[1]),_=e.cachedCanvases.getCanvas("pattern",y.size,b.size,!0),x=_.context,w=u.createCanvasGraphics(x);w.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(w,s,c);var S=d,k=h,E=f,M=p;return d<0&&(S=0,E+=Math.abs(d)),h<0&&(k=0,M+=Math.abs(h)),x.translate(-y.scale*S,-b.scale*k),w.transform(y.scale,0,0,b.scale,0,0),x.save(),this.clipBbox(w,S,k,E,M),w.baseTransform=(0,i.getCurrentTransform)(w.ctx),w.executeOperatorList(t),w.endDrawing(),{canvas:_.canvas,scaleX:y.scale,scaleY:b.scale,offsetX:S,offsetY:k}}},{key:"getSizeAndScale",value:function(t,n,r){t=Math.abs(t);var i=Math.max(e.MAX_PATTERN_SIZE,n),a=Math.ceil(t*r);return a>=i?a=i:r=a/t,{scale:r,size:a}}},{key:"clipBbox",value:function(e,t,n,r,a){var o=r-t,s=a-n;e.ctx.rect(t,n,o,s),e.current.updateRectMinMax((0,i.getCurrentTransform)(e.ctx),[t,n,r,a]),e.clip(),e.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function(e,t,n){var i=e.ctx,a=e.current;switch(t){case p:var o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,a.fillColor=o.fillStyle,a.strokeColor=o.strokeStyle;break;case v:var s=r.Util.makeHexColor(n[0],n[1],n[2]);i.fillStyle=s,i.strokeStyle=s,a.fillColor=s,a.strokeColor=s;break;default:throw new r.FormatError("Unsupported paint type: ".concat(t))}}},{key:"getPattern",value:function(e,t,n,i){var a=n;i!==o.SHADING&&(a=r.Util.transform(a,t.baseTransform),this.matrix&&(a=r.Util.transform(a,this.matrix)));var s=this.createPatternCanvas(t),l=new DOMMatrix(a);l=(l=l.translate(s.offsetX,s.offsetY)).scale(1/s.scaleX,1/s.scaleY);var c=e.createPattern(s.canvas,"repeat");try{c.setTransform(l)}catch(u){(0,r.warn)('TilingPattern.getPattern: "'.concat(null===u||void 0===u?void 0:u.message,'".'))}return c}}],[{key:"MAX_PATTERN_SIZE",get:function(){return(0,r.shadow)(this,"MAX_PATTERN_SIZE",3e3)}}]),e}();t.TilingPattern=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.applyMaskImageData=function(e){var t=e.src,n=e.srcPos,i=void 0===n?0:n,a=e.dest,o=e.destPos,s=void 0===o?0:o,l=e.width,c=e.height,u=e.inverseDecode,d=void 0!==u&&u,h=r.FeatureTest.isLittleEndian?4278190080:255,f=_slicedToArray(d?[0,h]:[h,0],2),p=f[0],v=f[1],m=l>>3,g=7&l,y=t.length;a=new Uint32Array(a.buffer);for(var b=0;b<c;b++){for(var _=i+m;i<_;i++){var x=i<y?t[i]:255;a[s++]=128&x?v:p,a[s++]=64&x?v:p,a[s++]=32&x?v:p,a[s++]=16&x?v:p,a[s++]=8&x?v:p,a[s++]=4&x?v:p,a[s++]=2&x?v:p,a[s++]=1&x?v:p}if(0!==g)for(var w=i<y?t[i++]:255,S=0;S<g;S++)a[s++]=w&1<<7-S?v:p}return{srcPos:i,destPos:s}};var r=n(1)},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;var n=Object.create(null);t.GlobalWorkerOptions=n,n.workerPort=void 0===n.workerPort?null:n.workerPort,n.workerSrc=void 0===n.workerSrc?"":n.workerSrc},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var r=n(1),i={UNKNOWN:0,DATA:1,ERROR:2},a={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function o(e){switch(e instanceof Error||"object"===typeof e&&null!==e||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new r.AbortException(e.message);case"MissingPDFException":return new r.MissingPDFException(e.message);case"PasswordException":return new r.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new r.UnknownErrorException(e.message,e.details);default:return new r.UnknownErrorException(e.message,e.toString())}}var s=function(){function e(t,n,r){var a=this;_classCallCheck(this,e),this.sourceName=t,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===a.sourceName)if(t.stream)a._processStreamMessage(t);else if(t.callback){var n=t.callbackId,s=a.callbackCapabilities[n];if(!s)throw new Error("Cannot resolve callback ".concat(n));if(delete a.callbackCapabilities[n],t.callback===i.DATA)s.resolve(t.data);else{if(t.callback!==i.ERROR)throw new Error("Unexpected callback case");s.reject(o(t.reason))}}else{var l=a.actionHandler[t.action];if(!l)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){var c=a.sourceName,u=t.sourceName;new Promise((function(e){e(l(t.data))})).then((function(e){r.postMessage({sourceName:c,targetName:u,callback:i.DATA,callbackId:t.callbackId,data:e})}),(function(e){r.postMessage({sourceName:c,targetName:u,callback:i.ERROR,callbackId:t.callbackId,reason:o(e)})}))}else t.streamId?a._createStreamSink(t):l(t.data)}},r.addEventListener("message",this._onComObjOnMessage)}return _createClass(e,[{key:"on",value:function(e,t){var n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'.concat(e,'"'));n[e]=t}},{key:"send",value:function(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}},{key:"sendWithPromise",value:function(e,t,n){var i=this.callbackId++,a=(0,r.createPromiseCapability)();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(o){a.reject(o)}return a.promise}},{key:"sendWithStream",value:function(e,t,n,i){var s=this,l=this.streamId++,c=this.sourceName,u=this.targetName,d=this.comObj;return new ReadableStream({start:function(n){var a=(0,r.createPromiseCapability)();return s.streamControllers[l]={controller:n,startCall:a,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:c,targetName:u,action:e,streamId:l,data:t,desiredSize:n.desiredSize},i),a.promise},pull:function(e){var t=(0,r.createPromiseCapability)();return s.streamControllers[l].pullCall=t,d.postMessage({sourceName:c,targetName:u,stream:a.PULL,streamId:l,desiredSize:e.desiredSize}),t.promise},cancel:function(e){(0,r.assert)(e instanceof Error,"cancel must have a valid reason");var t=(0,r.createPromiseCapability)();return s.streamControllers[l].cancelCall=t,s.streamControllers[l].isClosed=!0,d.postMessage({sourceName:c,targetName:u,stream:a.CANCEL,streamId:l,reason:o(e)}),t.promise}},n)}},{key:"_createStreamSink",value:function(e){var t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,l=this,c=this.actionHandler[e.action],u={enqueue:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,l=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var c=this.desiredSize;this.desiredSize-=o,c>0&&this.desiredSize<=0&&(this.sinkCapability=(0,r.createPromiseCapability)(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:a.ENQUEUE,streamId:t,chunk:e},l)}},close:function(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:a.CLOSE,streamId:t}),delete l.streamSinks[t])},error:function(e){(0,r.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:a.ERROR,streamId:t,reason:o(e)}))},sinkCapability:(0,r.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[t]=u,new Promise((function(t){t(c(e.data,u))})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:a.START_COMPLETE,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:i,stream:a.START_COMPLETE,streamId:t,reason:o(e)})}))}},{key:"_processStreamMessage",value:function(e){var t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,l=this.streamControllers[t],c=this.streamSinks[t];switch(e.stream){case a.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(o(e.reason));break;case a.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(o(e.reason));break;case a.PULL:if(!c){s.postMessage({sourceName:n,targetName:i,stream:a.PULL_COMPLETE,streamId:t,success:!0});break}c.desiredSize<=0&&e.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=e.desiredSize,new Promise((function(e){e(c.onPull&&c.onPull())})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:a.PULL_COMPLETE,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:i,stream:a.PULL_COMPLETE,streamId:t,reason:o(e)})}));break;case a.ENQUEUE:if((0,r.assert)(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case a.CLOSE:if((0,r.assert)(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this._deleteStreamController(l,t);break;case a.ERROR:(0,r.assert)(l,"error should have stream controller"),l.controller.error(o(e.reason)),this._deleteStreamController(l,t);break;case a.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(o(e.reason)),this._deleteStreamController(l,t);break;case a.CANCEL:if(!c)break;new Promise((function(t){t(c.onCancel&&c.onCancel(o(e.reason)))})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:a.CANCEL_COMPLETE,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:i,stream:a.CANCEL_COMPLETE,streamId:t,reason:o(e)})})),c.sinkCapability.reject(o(e.reason)),c.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([t.startCall&&t.startCall.promise,t.pullCall&&t.pullCall.promise,t.cancelCall&&t.cancelCall.promise]);case 2:delete this.streamControllers[n];case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),e}();t.MessageHandler=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(1),i=new WeakMap,a=new WeakMap,o=function(){function e(t){var n=t.parsedData,r=t.rawData;_classCallCheck(this,e),_classPrivateFieldInitSpec(this,i,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,a,{writable:!0,value:void 0}),_classPrivateFieldSet(this,i,n),_classPrivateFieldSet(this,a,r)}return _createClass(e,[{key:"getRaw",value:function(){return _classPrivateFieldGet(this,a)}},{key:"get",value:function(e){var t;return null!==(t=_classPrivateFieldGet(this,i).get(e))&&void 0!==t?t:null}},{key:"getAll",value:function(){return(0,r.objectFromMap)(_classPrivateFieldGet(this,i))}},{key:"has",value:function(e){return _classPrivateFieldGet(this,i).has(e)}}]),e}();t.Metadata=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var r=n(1),i=Symbol("INTERNAL"),a=new WeakMap,o=function(){function e(t,n){_classCallCheck(this,e),_classPrivateFieldInitSpec(this,a,{writable:!0,value:!0}),this.name=t,this.intent=n}return _createClass(e,[{key:"visible",get:function(){return _classPrivateFieldGet(this,a)}},{key:"_setVisible",value:function(e,t){e!==i&&(0,r.unreachable)("Internal method `_setVisible` called."),_classPrivateFieldSet(this,a,t)}}]),e}(),s=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakSet,h=function(){function e(t){if(_classCallCheck(this,e),_classPrivateMethodInitSpec(this,d),_classPrivateFieldInitSpec(this,s,{writable:!0,value:!0}),_classPrivateFieldInitSpec(this,l,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,c,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:null}),this.name=null,this.creator=null,null!==t){this.name=t.name,this.creator=t.creator,_classPrivateFieldSet(this,u,t.order);var n,r=_createForOfIteratorHelper(t.groups);try{for(r.s();!(n=r.n()).done;){var a=n.value;_classPrivateFieldGet(this,l).set(a.id,new o(a.name,a.intent))}}catch(E){r.e(E)}finally{r.f()}if("OFF"===t.baseState){var h,f=_createForOfIteratorHelper(_classPrivateFieldGet(this,l).values());try{for(f.s();!(h=f.n()).done;)h.value._setVisible(i,!1)}catch(E){f.e(E)}finally{f.f()}}var p,v=_createForOfIteratorHelper(t.on);try{for(v.s();!(p=v.n()).done;){var m=p.value;_classPrivateFieldGet(this,l).get(m)._setVisible(i,!0)}}catch(E){v.e(E)}finally{v.f()}var g,y=_createForOfIteratorHelper(t.off);try{for(y.s();!(g=y.n()).done;){var b=g.value;_classPrivateFieldGet(this,l).get(b)._setVisible(i,!1)}}catch(E){y.e(E)}finally{y.f()}_classPrivateFieldSet(this,c,new Map);var _,x=_createForOfIteratorHelper(_classPrivateFieldGet(this,l));try{for(x.s();!(_=x.n()).done;){var w=_slicedToArray(_.value,2),S=w[0],k=w[1];_classPrivateFieldGet(this,c).set(S,k.visible)}}catch(E){x.e(E)}finally{x.f()}}}return _createClass(e,[{key:"isVisible",value:function(e){if(0===_classPrivateFieldGet(this,l).size)return!0;if(!e)return(0,r.warn)("Optional content group not defined."),!0;if("OCG"===e.type)return _classPrivateFieldGet(this,l).has(e.id)?_classPrivateFieldGet(this,l).get(e.id).visible:((0,r.warn)("Optional content group not found: ".concat(e.id)),!0);if("OCMD"===e.type){if(e.expression)return _classPrivateMethodGet(this,d,f).call(this,e.expression);if(!e.policy||"AnyOn"===e.policy){var t,n=_createForOfIteratorHelper(e.ids);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(!_classPrivateFieldGet(this,l).has(i))return(0,r.warn)("Optional content group not found: ".concat(i)),!0;if(_classPrivateFieldGet(this,l).get(i).visible)return!0}}catch(g){n.e(g)}finally{n.f()}return!1}if("AllOn"===e.policy){var a,o=_createForOfIteratorHelper(e.ids);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(!_classPrivateFieldGet(this,l).has(s))return(0,r.warn)("Optional content group not found: ".concat(s)),!0;if(!_classPrivateFieldGet(this,l).get(s).visible)return!1}}catch(g){o.e(g)}finally{o.f()}return!0}if("AnyOff"===e.policy){var c,u=_createForOfIteratorHelper(e.ids);try{for(u.s();!(c=u.n()).done;){var h=c.value;if(!_classPrivateFieldGet(this,l).has(h))return(0,r.warn)("Optional content group not found: ".concat(h)),!0;if(!_classPrivateFieldGet(this,l).get(h).visible)return!0}}catch(g){u.e(g)}finally{u.f()}return!1}if("AllOff"===e.policy){var p,v=_createForOfIteratorHelper(e.ids);try{for(v.s();!(p=v.n()).done;){var m=p.value;if(!_classPrivateFieldGet(this,l).has(m))return(0,r.warn)("Optional content group not found: ".concat(m)),!0;if(_classPrivateFieldGet(this,l).get(m).visible)return!1}}catch(g){v.e(g)}finally{v.f()}return!0}return(0,r.warn)("Unknown optional content policy ".concat(e.policy,".")),!0}return(0,r.warn)("Unknown group type ".concat(e.type,".")),!0}},{key:"setVisibility",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];_classPrivateFieldGet(this,l).has(e)?(_classPrivateFieldGet(this,l).get(e)._setVisible(i,!!t),_classPrivateFieldSet(this,s,null)):(0,r.warn)("Optional content group not found: ".concat(e))}},{key:"hasInitialVisibility",get:function(){if(null!==_classPrivateFieldGet(this,s))return _classPrivateFieldGet(this,s);var e,t=_createForOfIteratorHelper(_classPrivateFieldGet(this,l));try{for(t.s();!(e=t.n()).done;){var n=_slicedToArray(e.value,2),r=n[0],i=n[1],a=_classPrivateFieldGet(this,c).get(r);if(i.visible!==a)return _classPrivateFieldSet(this,s,!1)}}catch(o){t.e(o)}finally{t.f()}return _classPrivateFieldSet(this,s,!0)}},{key:"getOrder",value:function(){return _classPrivateFieldGet(this,l).size?_classPrivateFieldGet(this,u)?_classPrivateFieldGet(this,u).slice():_toConsumableArray(_classPrivateFieldGet(this,l).keys()):null}},{key:"getGroups",value:function(){return _classPrivateFieldGet(this,l).size>0?(0,r.objectFromMap)(_classPrivateFieldGet(this,l)):null}},{key:"getGroup",value:function(e){return _classPrivateFieldGet(this,l).get(e)||null}}]),e}();function f(e){var t=e.length;if(t<2)return!0;for(var n=e[0],i=1;i<t;i++){var a=e[i],o=void 0;if(Array.isArray(a))o=_classPrivateMethodGet(this,d,f).call(this,a);else{if(!_classPrivateFieldGet(this,l).has(a))return(0,r.warn)("Optional content group not found: ".concat(a)),!0;o=_classPrivateFieldGet(this,l).get(a).visible}switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return"And"===n}t.OptionalContentConfig=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var r=n(1),i=n(8),a=function(){function e(t,n){var i=this;_classCallCheck(this,e),(0,r.assert)(n,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1,this._contentDispositionFilename=t.contentDispositionFilename||null;var a=t.initialData;if((null===a||void 0===a?void 0:a.length)>0){var o=new Uint8Array(a).buffer;this._queuedChunks.push(o)}this._pdfDataRangeTransport=n,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((function(e,t){i._onReceiveData({begin:e,chunk:t})})),this._pdfDataRangeTransport.addProgressListener((function(e,t){i._onProgress({loaded:e,total:t})})),this._pdfDataRangeTransport.addProgressiveReadListener((function(e){i._onReceiveData({chunk:e})})),this._pdfDataRangeTransport.addProgressiveDoneListener((function(){i._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}return _createClass(e,[{key:"_onReceiveData",value:function(e){var t=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(t):this._queuedChunks.push(t);else{var n=this._rangeReaders.some((function(n){return n._begin===e.begin&&(n._enqueue(t),!0)}));(0,r.assert)(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"_onProgress",value:function(e){if(void 0===e.total){var t=this._rangeReaders[0];null!==t&&void 0!==t&&t.onProgress&&t.onProgress({loaded:e.loaded})}else{var n=this._fullRequestReader;null!==n&&void 0!==n&&n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(e){var t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}},{key:"getFullReader",value:function(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var e=this._queuedChunks;return this._queuedChunks=null,new o(this,e,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=new s(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);var t,n=_createForOfIteratorHelper(this._rangeReaders.slice(0));try{for(n.s();!(t=n.n()).done;)t.value.cancel(e)}catch(r){n.e(r)}finally{n.f()}this._pdfDataRangeTransport.abort()}}]),e}();t.PDFDataTransportStream=a;var o=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this._stream=t,this._done=r||!1,this._filename=(0,i.isPdfFile)(a)?a:null,this._queuedChunks=n||[],this._loaded=0;var o,s=_createForOfIteratorHelper(this._queuedChunks);try{for(s.s();!(o=s.n()).done;){var l=o.value;this._loaded+=l.byteLength}}catch(c){s.e(c)}finally{s.f()}this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}return _createClass(e,[{key:"_enqueue",value:function(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this._queuedChunks.length>0)){e.next=3;break}return t=this._queuedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 3:if(!this._done){e.next=5;break}return e.abrupt("return",{value:void 0,done:!0});case 5:return n=(0,r.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._done=!0;var t,n=_createForOfIteratorHelper(this._requests);try{for(n.s();!(t=n.n()).done;)t.value.resolve({value:void 0,done:!0})}catch(r){n.e(r)}finally{n.f()}this._requests.length=0}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]),e}(),s=function(){function e(t,n,r){_classCallCheck(this,e),this._stream=t,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return _createClass(e,[{key:"_enqueue",value:function(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});var t,n=_createForOfIteratorHelper(this._requests);try{for(n.s();!(t=n.n()).done;)t.value.resolve({value:void 0,done:!0})}catch(r){n.e(r)}finally{n.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._queuedChunk){e.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 4:if(!this._done){e.next=6;break}return e.abrupt("return",{value:void 0,done:!0});case 6:return n=(0,r.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._done=!0;var t,n=_createForOfIteratorHelper(this._requests);try{for(n.s();!(t=n.n()).done;)t.value.resolve({value:void 0,done:!0})}catch(r){n.e(r)}finally{n.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]),e}()},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;var n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"textContent",value:function(t){var n=[],r={items:n,styles:Object.create(null)};return function t(r){var i;if(r){var a=null,o=r.name;if("#text"===o)a=r.value;else{if(!e.shouldBuildText(o))return;null!==r&&void 0!==r&&null!==(i=r.attributes)&&void 0!==i&&i.textContent?a=r.attributes.textContent:r.value&&(a=r.value)}if(null!==a&&n.push({str:a}),r.children){var s,l=_createForOfIteratorHelper(r.children);try{for(l.s();!(s=l.n()).done;)t(s.value)}catch(c){l.e(c)}finally{l.f()}}}}(t),r}},{key:"shouldBuildText",value:function(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}]),e}();t.XfaText=n},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var r=n(9),i=function(e){return new Promise((function(t,n){__webpack_require__(172).readFile(e,(function(e,r){!e&&r?t(new Uint8Array(r)):n(new Error(e))}))}))},a=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_createCanvas",value:function(e,t){return __webpack_require__(3414).createCanvas(e,t)}}]),n}(r.BaseCanvasFactory);t.NodeCanvasFactory=a;var o=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_fetchData",value:function(e,t){return i(e).then((function(e){return{cMapData:e,compressionType:t}}))}}]),n}(r.BaseCMapReaderFactory);t.NodeCMapReaderFactory=o;var s=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_fetchData",value:function(e){return i(e)}}]),n}(r.BaseStandardFontDataFactory);t.NodeStandardFontDataFactory=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var r=n(7),i=n(1),a=n(23),o=n(24),s=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,v=new WeakSet,m=new WeakSet,g=new WeakSet,y=new WeakSet,b=function(){function e(t){_classCallCheck(this,e),_classPrivateMethodInitSpec(this,y),_classPrivateMethodInitSpec(this,g),_classPrivateMethodInitSpec(this,m),_classPrivateMethodInitSpec(this,v),_classPrivateFieldInitSpec(this,s,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,l,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,c,{writable:!0,value:this.pointerup.bind(this)}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:this.pointerdown.bind(this)}),_classPrivateFieldInitSpec(this,d,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,h,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,f,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,p,{writable:!0,value:void 0}),e._initialized||(e._initialized=!0,a.FreeTextEditor.initialize(t.l10n),o.InkEditor.initialize(t.l10n),t.uiManager.registerEditorTypes([a.FreeTextEditor,o.InkEditor])),_classPrivateFieldSet(this,p,t.uiManager),this.annotationStorage=t.annotationStorage,this.pageIndex=t.pageIndex,this.div=t.div,_classPrivateFieldSet(this,s,t.accessibilityManager),_classPrivateFieldGet(this,p).addLayer(this)}return _createClass(e,[{key:"updateToolbar",value:function(e){_classPrivateFieldGet(this,p).updateToolbar(e)}},{key:"updateMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_classPrivateFieldGet(this,p).getMode();_classPrivateMethodGet(this,y,S).call(this),e===i.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),_classPrivateFieldGet(this,p).unselectAll()}},{key:"addInkEditorIfNeeded",value:function(e){if(e||_classPrivateFieldGet(this,p).getMode()===i.AnnotationEditorType.INK){if(!e){var t,n=_createForOfIteratorHelper(_classPrivateFieldGet(this,d).values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.isEmpty())return void r.setInBackground()}}catch(a){n.e(a)}finally{n.f()}}_classPrivateMethodGet(this,g,w).call(this,{offsetX:0,offsetY:0}).setInBackground()}}},{key:"setEditingState",value:function(e){_classPrivateFieldGet(this,p).setEditingState(e)}},{key:"addCommands",value:function(e){_classPrivateFieldGet(this,p).addCommands(e)}},{key:"enable",value:function(){this.div.style.pointerEvents="auto";var e,t=_createForOfIteratorHelper(_classPrivateFieldGet(this,d).values());try{for(t.s();!(e=t.n()).done;)e.value.enableEditing()}catch(n){t.e(n)}finally{t.f()}}},{key:"disable",value:function(){this.div.style.pointerEvents="none";var e,t=_createForOfIteratorHelper(_classPrivateFieldGet(this,d).values());try{for(t.s();!(e=t.n()).done;)e.value.disableEditing()}catch(n){t.e(n)}finally{t.f()}}},{key:"setActiveEditor",value:function(e){_classPrivateFieldGet(this,p).getActive()!==e&&_classPrivateFieldGet(this,p).setActiveEditor(e)}},{key:"enableClick",value:function(){this.div.addEventListener("pointerdown",_classPrivateFieldGet(this,u)),this.div.addEventListener("pointerup",_classPrivateFieldGet(this,c))}},{key:"disableClick",value:function(){this.div.removeEventListener("pointerdown",_classPrivateFieldGet(this,u)),this.div.removeEventListener("pointerup",_classPrivateFieldGet(this,c))}},{key:"attach",value:function(e){_classPrivateFieldGet(this,d).set(e.id,e)}},{key:"detach",value:function(e){var t;_classPrivateFieldGet(this,d).delete(e.id),null===(t=_classPrivateFieldGet(this,s))||void 0===t||t.removePointerInTextLayer(e.contentDiv)}},{key:"remove",value:function(e){var t=this;_classPrivateFieldGet(this,p).removeEditor(e),this.detach(e),this.annotationStorage.remove(e.id),e.div.style.display="none",setTimeout((function(){e.div.style.display="",e.div.remove(),e.isAttachedToDOM=!1,document.activeElement===document.body&&_classPrivateFieldGet(t,p).focusMainContainer()}),0),_classPrivateFieldGet(this,f)||this.addInkEditorIfNeeded(!1)}},{key:"add",value:function(e){if(_classPrivateMethodGet(this,v,_).call(this,e),_classPrivateFieldGet(this,p).addEditor(e),this.attach(e),!e.isAttachedToDOM){var t=e.render();this.div.append(t),e.isAttachedToDOM=!0}this.moveEditorInDOM(e),e.onceAdded(),this.addToAnnotationStorage(e)}},{key:"moveEditorInDOM",value:function(e){var t;null===(t=_classPrivateFieldGet(this,s))||void 0===t||t.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}},{key:"addToAnnotationStorage",value:function(e){e.isEmpty()||this.annotationStorage.has(e.id)||this.annotationStorage.setValue(e.id,e)}},{key:"addOrRebuild",value:function(e){e.needsToBeRebuilt()?e.rebuild():this.add(e)}},{key:"addANewEditor",value:function(e){var t=this;this.addCommands({cmd:function(){t.addOrRebuild(e)},undo:function(){e.remove()},mustExec:!0})}},{key:"addUndoableEditor",value:function(e){var t=this;this.addCommands({cmd:function(){t.addOrRebuild(e)},undo:function(){e.remove()},mustExec:!1})}},{key:"getNextId",value:function(){return _classPrivateFieldGet(this,p).getId()}},{key:"deserialize",value:function(e){switch(e.annotationType){case i.AnnotationEditorType.FREETEXT:return a.FreeTextEditor.deserialize(e,this);case i.AnnotationEditorType.INK:return o.InkEditor.deserialize(e,this)}return null}},{key:"setSelected",value:function(e){_classPrivateFieldGet(this,p).setSelected(e)}},{key:"toggleSelected",value:function(e){_classPrivateFieldGet(this,p).toggleSelected(e)}},{key:"isSelected",value:function(e){return _classPrivateFieldGet(this,p).isSelected(e)}},{key:"unselect",value:function(e){_classPrivateFieldGet(this,p).unselect(e)}},{key:"pointerup",value:function(e){var t=r.KeyboardManager.platform.isMac;0!==e.button||e.ctrlKey&&t||e.target===this.div&&_classPrivateFieldGet(this,h)&&(_classPrivateFieldSet(this,h,!1),_classPrivateFieldGet(this,l)?_classPrivateMethodGet(this,g,w).call(this,e):_classPrivateFieldSet(this,l,!0))}},{key:"pointerdown",value:function(e){var t=r.KeyboardManager.platform.isMac;if(!(0!==e.button||e.ctrlKey&&t)&&e.target===this.div){_classPrivateFieldSet(this,h,!0);var n=_classPrivateFieldGet(this,p).getActive();_classPrivateFieldSet(this,l,!n||n.isEmpty())}}},{key:"drop",value:function(e){var t=e.dataTransfer.getData("text/plain"),n=_classPrivateFieldGet(this,p).getEditor(t);if(n){e.preventDefault(),e.dataTransfer.dropEffect="move",_classPrivateMethodGet(this,v,_).call(this,n);var r=this.div.getBoundingClientRect(),i=e.clientX-r.x,a=e.clientY-r.y;n.translate(i-n.startX,a-n.startY),this.moveEditorInDOM(n),n.div.focus()}}},{key:"dragover",value:function(e){e.preventDefault()}},{key:"destroy",value:function(){var e;(null===(e=_classPrivateFieldGet(this,p).getActive())||void 0===e?void 0:e.parent)===this&&_classPrivateFieldGet(this,p).setActiveEditor(null);var t,n=_createForOfIteratorHelper(_classPrivateFieldGet(this,d).values());try{for(n.s();!(t=n.n()).done;){var r,i=t.value;null===(r=_classPrivateFieldGet(this,s))||void 0===r||r.removePointerInTextLayer(i.contentDiv),i.isAttachedToDOM=!1,i.div.remove(),i.parent=null}}catch(a){n.e(a)}finally{n.f()}this.div=null,_classPrivateFieldGet(this,d).clear(),_classPrivateFieldGet(this,p).removeLayer(this)}},{key:"render",value:function(e){this.viewport=e.viewport,(0,r.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();var t,n=_createForOfIteratorHelper(_classPrivateFieldGet(this,p).getEditors(this.pageIndex));try{for(n.s();!(t=n.n()).done;){var i=t.value;this.add(i)}}catch(a){n.e(a)}finally{n.f()}this.updateMode()}},{key:"update",value:function(e){this.viewport=e.viewport,this.setDimensions(),this.updateMode()}},{key:"scaleFactor",get:function(){return this.viewport.scale}},{key:"pageDimensions",get:function(){var e=_slicedToArray(this.viewport.viewBox,4),t=e[0],n=e[1];return[e[2]-t,e[3]-n]}},{key:"viewportBaseDimensions",get:function(){var e=this.viewport,t=e.width,n=e.height;return e.rotation%180===0?[t,n]:[n,t]}},{key:"setDimensions",value:function(){var e=this.viewport,t=e.width,n=e.height,r=e.rotation,i=r%180!==0,a=Math.floor(t)+"px",o=Math.floor(n)+"px";this.div.style.width=i?o:a,this.div.style.height=i?a:o,this.div.setAttribute("data-main-rotation",r)}}]),e}();function _(e){var t;e.parent!==this&&(this.attach(e),e.pageIndex=this.pageIndex,null===(t=e.parent)||void 0===t||t.detach(e),e.parent=this,e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}function x(e){switch(_classPrivateFieldGet(this,p).getMode()){case i.AnnotationEditorType.FREETEXT:return new a.FreeTextEditor(e);case i.AnnotationEditorType.INK:return new o.InkEditor(e)}return null}function w(e){var t=this.getNextId(),n=_classPrivateMethodGet(this,m,x).call(this,{parent:this,id:t,x:e.offsetX,y:e.offsetY});return n&&this.add(n),n}function S(){_classPrivateFieldSet(this,f,!0);var e,t=_createForOfIteratorHelper(_classPrivateFieldGet(this,d).values());try{for(t.s();!(e=t.n()).done;){var n=e.value;n.isEmpty()&&n.remove()}}catch(r){t.e(r)}finally{t.f()}_classPrivateFieldSet(this,f,!1)}_defineProperty(b,"_initialized",!1),t.AnnotationEditorLayer=b},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var r=n(1),i=n(7),a=n(6),o=new WeakMap,s=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakSet,p=new WeakSet,v=new WeakSet,m=new WeakSet,g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),r=t.call(this,_objectSpread(_objectSpread({},e),{},{name:"freeTextEditor"})),_classPrivateMethodInitSpec(_assertThisInitialized(r),m),_classPrivateMethodInitSpec(_assertThisInitialized(r),v),_classPrivateMethodInitSpec(_assertThisInitialized(r),p),_classPrivateMethodInitSpec(_assertThisInitialized(r),f),_classPrivateFieldInitSpec(_assertThisInitialized(r),o,{writable:!0,value:r.editorDivBlur.bind(_assertThisInitialized(r))}),_classPrivateFieldInitSpec(_assertThisInitialized(r),s,{writable:!0,value:r.editorDivFocus.bind(_assertThisInitialized(r))}),_classPrivateFieldInitSpec(_assertThisInitialized(r),l,{writable:!0,value:r.editorDivKeydown.bind(_assertThisInitialized(r))}),_classPrivateFieldInitSpec(_assertThisInitialized(r),c,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(_assertThisInitialized(r),u,{writable:!0,value:""}),_classPrivateFieldInitSpec(_assertThisInitialized(r),d,{writable:!0,value:!1}),_classPrivateFieldInitSpec(_assertThisInitialized(r),h,{writable:!0,value:void 0}),_classPrivateFieldSet(_assertThisInitialized(r),c,e.color||n._defaultColor||a.AnnotationEditor._defaultLineColor),_classPrivateFieldSet(_assertThisInitialized(r),h,e.fontSize||n._defaultFontSize),r}return _createClass(n,[{key:"updateParams",value:function(e,t){switch(e){case r.AnnotationEditorParamsType.FREETEXT_SIZE:_classPrivateMethodGet(this,f,y).call(this,t);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:_classPrivateMethodGet(this,p,b).call(this,t)}}},{key:"propertiesToUpdate",get:function(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,_classPrivateFieldGet(this,h)],[r.AnnotationEditorParamsType.FREETEXT_COLOR,_classPrivateFieldGet(this,c)]]}},{key:"getInitialTranslation",value:function(){return[-n._internalPadding*this.parent.scaleFactor,-(n._internalPadding+_classPrivateFieldGet(this,h))*this.parent.scaleFactor]}},{key:"rebuild",value:function(){_get(_getPrototypeOf(n.prototype),"rebuild",this).call(this),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}},{key:"enableEditMode",value:function(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),_get(_getPrototypeOf(n.prototype),"enableEditMode",this).call(this),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",_classPrivateFieldGet(this,l)),this.editorDiv.addEventListener("focus",_classPrivateFieldGet(this,s)),this.editorDiv.addEventListener("blur",_classPrivateFieldGet(this,o)))}},{key:"disableEditMode",value:function(){this.isInEditMode()&&(this.parent.setEditingState(!0),_get(_getPrototypeOf(n.prototype),"disableEditMode",this).call(this),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",_classPrivateFieldGet(this,l)),this.editorDiv.removeEventListener("focus",_classPrivateFieldGet(this,s)),this.editorDiv.removeEventListener("blur",_classPrivateFieldGet(this,o)),this.div.focus(),this.isEditing=!1)}},{key:"focusin",value:function(e){_get(_getPrototypeOf(n.prototype),"focusin",this).call(this,e),e.target!==this.editorDiv&&this.editorDiv.focus()}},{key:"onceAdded",value:function(){this.width||(this.enableEditMode(),this.editorDiv.focus())}},{key:"isEmpty",value:function(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}},{key:"remove",value:function(){this.isEditing=!1,this.parent.setEditingState(!0),_get(_getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"commit",value:function(){_get(_getPrototypeOf(n.prototype),"commit",this).call(this),_classPrivateFieldGet(this,d)||(_classPrivateFieldSet(this,d,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),_classPrivateFieldSet(this,u,_classPrivateMethodGet(this,v,_).call(this).trimEnd()),_classPrivateMethodGet(this,m,x).call(this)}},{key:"shouldGetKeyboardEvents",value:function(){return this.isInEditMode()}},{key:"dblclick",value:function(e){this.enableEditMode(),this.editorDiv.focus()}},{key:"keydown",value:function(e){e.target===this.div&&"Enter"===e.key&&(this.enableEditMode(),this.editorDiv.focus())}},{key:"editorDivKeydown",value:function(e){n._keyboardManager.exec(this,e)}},{key:"editorDivFocus",value:function(e){this.isEditing=!0}},{key:"editorDivBlur",value:function(e){this.isEditing=!1}},{key:"disableEditing",value:function(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}},{key:"enableEditing",value:function(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}},{key:"render",value:function(){var e,t,r=this;if(this.div)return this.div;this.width&&(e=this.x,t=this.y),_get(_getPrototypeOf(n.prototype),"render",this).call(this),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id","".concat(this.id,"-editor")),this.enableEditing(),n._l10nPromise.get("editor_free_text_aria_label").then((function(e){var t;return null===(t=r.editorDiv)||void 0===t?void 0:t.setAttribute("aria-label",e)})),n._l10nPromise.get("free_text_default_content").then((function(e){var t;return null===(t=r.editorDiv)||void 0===t?void 0:t.setAttribute("default-content",e)})),this.editorDiv.contentEditable=!0;var a=this.editorDiv.style;if(a.fontSize="calc(".concat(_classPrivateFieldGet(this,h),"px * var(--scale-factor))"),a.color=_classPrivateFieldGet(this,c),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,i.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){var o=_slicedToArray(this.parent.viewportBaseDimensions,2),s=o[0],l=o[1];this.setAt(e*s,t*l,this.width*s,this.height*l);var d,f=_createForOfIteratorHelper(_classPrivateFieldGet(this,u).split("\n"));try{for(f.s();!(d=f.n()).done;){var p=d.value,v=document.createElement("div");v.append(p?document.createTextNode(p):document.createElement("br")),this.editorDiv.append(v)}}catch(m){f.e(m)}finally{f.f()}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}},{key:"contentDiv",get:function(){return this.editorDiv}},{key:"serialize",value:function(){if(this.isEmpty())return null;var e=n._internalPadding*this.parent.scaleFactor,t=this.getRect(e,e),i=a.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:r.AnnotationEditorType.FREETEXT,color:i,fontSize:_classPrivateFieldGet(this,h),value:_classPrivateFieldGet(this,u),pageIndex:this.parent.pageIndex,rect:t,rotation:this.rotation}}}],[{key:"initialize",value:function(e){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map((function(t){return[t,e.get(t)]})));var t=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(t.getPropertyValue("--freetext-padding"))}},{key:"updateDefaultParams",value:function(e,t){switch(e){case r.AnnotationEditorParamsType.FREETEXT_SIZE:n._defaultFontSize=t;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:n._defaultColor=t}}},{key:"defaultPropertiesToUpdate",get:function(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,n._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,n._defaultColor||a.AnnotationEditor._defaultLineColor]]}},{key:"deserialize",value:function(e,t){var i,a=_get(_getPrototypeOf(n),"deserialize",this).call(this,e,t);return _classPrivateFieldSet(a,h,e.fontSize),_classPrivateFieldSet(a,c,(i=r.Util).makeHexColor.apply(i,_toConsumableArray(e.color))),_classPrivateFieldSet(a,u,e.value),a}}]),n}(a.AnnotationEditor);function y(e){var t=this,n=function(e){t.editorDiv.style.fontSize="calc(".concat(e,"px * var(--scale-factor))"),t.translate(0,-(e-_classPrivateFieldGet(t,h))*t.parent.scaleFactor),_classPrivateFieldSet(t,h,e),_classPrivateMethodGet(t,m,x).call(t)},i=_classPrivateFieldGet(this,h);this.parent.addCommands({cmd:function(){n(e)},undo:function(){n(i)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function b(e){var t=this,n=_classPrivateFieldGet(this,c);this.parent.addCommands({cmd:function(){_classPrivateFieldSet(t,c,e),t.editorDiv.style.color=e},undo:function(){_classPrivateFieldSet(t,c,n),t.editorDiv.style.color=n},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function _(){var e=this.editorDiv.getElementsByTagName("div");if(0===e.length)return this.editorDiv.innerText;for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n].firstChild;"#text"===(null===i||void 0===i?void 0:i.nodeName)?t.push(i.data):t.push("")}return t.join("\n")}function x(){var e=_slicedToArray(this.parent.viewportBaseDimensions,2),t=e[0],n=e[1],r=this.div.getBoundingClientRect();this.width=r.width/t,this.height=r.height/n}_defineProperty(g,"_freeTextDefaultContent",""),_defineProperty(g,"_l10nPromise",void 0),_defineProperty(g,"_internalPadding",0),_defineProperty(g,"_defaultColor",null),_defineProperty(g,"_defaultFontSize",10),_defineProperty(g,"_keyboardManager",new i.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],g.prototype.commitOrRemove]])),_defineProperty(g,"_type","freetext"),t.FreeTextEditor=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0,Object.defineProperty(t,"fitCurve",{enumerable:!0,get:function(){return a.fitCurve}});var r=n(1),i=n(6),a=n(25),o=n(7),s=16,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,v=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakMap,b=new WeakMap,_=new WeakMap,x=new WeakMap,w=new WeakSet,S=new WeakSet,k=new WeakSet,E=new WeakSet,M=new WeakSet,T=new WeakSet,P=new WeakSet,A=new WeakSet,C=new WeakSet,R=new WeakSet,O=new WeakSet,L=new WeakSet,F=new WeakSet,I=new WeakSet,N=new WeakSet,D=new WeakSet,j=new WeakSet,z=new WeakSet,H=new WeakSet,B=new WeakSet,U=new WeakSet,G=new WeakSet,W=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),r=t.call(this,_objectSpread(_objectSpread({},e),{},{name:"inkEditor"})),_classPrivateMethodInitSpec(_assertThisInitialized(r),G),_classPrivateMethodInitSpec(_assertThisInitialized(r),U),_classPrivateMethodInitSpec(_assertThisInitialized(r),B),_classPrivateMethodInitSpec(_assertThisInitialized(r),H),_classPrivateMethodInitSpec(_assertThisInitialized(r),z),_classPrivateMethodInitSpec(_assertThisInitialized(r),j),_classPrivateMethodInitSpec(_assertThisInitialized(r),D),_classPrivateMethodInitSpec(_assertThisInitialized(r),N),_classPrivateMethodInitSpec(_assertThisInitialized(r),I),_classPrivateMethodInitSpec(_assertThisInitialized(r),F),_classPrivateMethodInitSpec(_assertThisInitialized(r),L),_classPrivateMethodInitSpec(_assertThisInitialized(r),O),_classPrivateMethodInitSpec(_assertThisInitialized(r),R),_classPrivateMethodInitSpec(_assertThisInitialized(r),C),_classPrivateMethodInitSpec(_assertThisInitialized(r),A),_classPrivateMethodInitSpec(_assertThisInitialized(r),P),_classPrivateMethodInitSpec(_assertThisInitialized(r),T),_classPrivateMethodInitSpec(_assertThisInitialized(r),M),_classPrivateMethodInitSpec(_assertThisInitialized(r),E),_classPrivateMethodInitSpec(_assertThisInitialized(r),k),_classPrivateMethodInitSpec(_assertThisInitialized(r),S),_classPrivateMethodInitSpec(_assertThisInitialized(r),w),_classPrivateFieldInitSpec(_assertThisInitialized(r),l,{writable:!0,value:0}),_classPrivateFieldInitSpec(_assertThisInitialized(r),c,{writable:!0,value:0}),_classPrivateFieldInitSpec(_assertThisInitialized(r),u,{writable:!0,value:0}),_classPrivateFieldInitSpec(_assertThisInitialized(r),d,{writable:!0,value:r.canvasPointermove.bind(_assertThisInitialized(r))}),_classPrivateFieldInitSpec(_assertThisInitialized(r),h,{writable:!0,value:r.canvasPointerleave.bind(_assertThisInitialized(r))}),_classPrivateFieldInitSpec(_assertThisInitialized(r),f,{writable:!0,value:r.canvasPointerup.bind(_assertThisInitialized(r))}),_classPrivateFieldInitSpec(_assertThisInitialized(r),p,{writable:!0,value:r.canvasPointerdown.bind(_assertThisInitialized(r))}),_classPrivateFieldInitSpec(_assertThisInitialized(r),v,{writable:!0,value:!1}),_classPrivateFieldInitSpec(_assertThisInitialized(r),m,{writable:!0,value:!1}),_classPrivateFieldInitSpec(_assertThisInitialized(r),g,{writable:!0,value:null}),_classPrivateFieldInitSpec(_assertThisInitialized(r),y,{writable:!0,value:null}),_classPrivateFieldInitSpec(_assertThisInitialized(r),b,{writable:!0,value:0}),_classPrivateFieldInitSpec(_assertThisInitialized(r),_,{writable:!0,value:0}),_classPrivateFieldInitSpec(_assertThisInitialized(r),x,{writable:!0,value:null}),r.color=e.color||null,r.thickness=e.thickness||null,r.opacity=e.opacity||null,r.paths=[],r.bezierPath2D=[],r.currentPath=[],r.scaleFactor=1,r.translationX=r.translationY=0,r.x=0,r.y=0,r}return _createClass(n,[{key:"updateParams",value:function(e,t){switch(e){case r.AnnotationEditorParamsType.INK_THICKNESS:_classPrivateMethodGet(this,w,V).call(this,t);break;case r.AnnotationEditorParamsType.INK_COLOR:_classPrivateMethodGet(this,S,q).call(this,t);break;case r.AnnotationEditorParamsType.INK_OPACITY:_classPrivateMethodGet(this,k,X).call(this,t)}}},{key:"propertiesToUpdate",get:function(){var e;return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||n._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||n._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(null!==(e=this.opacity)&&void 0!==e?e:n._defaultOpacity))]]}},{key:"rebuild",value:function(){_get(_getPrototypeOf(n.prototype),"rebuild",this).call(this),null!==this.div&&(this.canvas||(_classPrivateMethodGet(this,O,te).call(this),_classPrivateMethodGet(this,L,ne).call(this)),this.isAttachedToDOM||(this.parent.add(this),_classPrivateMethodGet(this,F,re).call(this)),_classPrivateMethodGet(this,U,he).call(this))}},{key:"remove",value:function(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_classPrivateFieldGet(this,y).disconnect(),_classPrivateFieldSet(this,y,null),_get(_getPrototypeOf(n.prototype),"remove",this).call(this))}},{key:"enableEditMode",value:function(){_classPrivateFieldGet(this,v)||null===this.canvas||(_get(_getPrototypeOf(n.prototype),"enableEditMode",this).call(this),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",_classPrivateFieldGet(this,p)),this.canvas.addEventListener("pointerup",_classPrivateFieldGet(this,f)))}},{key:"disableEditMode",value:function(){this.isInEditMode()&&null!==this.canvas&&(_get(_getPrototypeOf(n.prototype),"disableEditMode",this).call(this),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_classPrivateFieldGet(this,p)),this.canvas.removeEventListener("pointerup",_classPrivateFieldGet(this,f)))}},{key:"onceAdded",value:function(){this.div.draggable=!this.isEmpty()}},{key:"isEmpty",value:function(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}},{key:"commit",value:function(){_classPrivateFieldGet(this,v)||(_get(_getPrototypeOf(n.prototype),"commit",this).call(this),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_classPrivateFieldSet(this,v,!0),this.div.classList.add("disabled"),_classPrivateMethodGet(this,U,he).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}},{key:"focusin",value:function(e){_get(_getPrototypeOf(n.prototype),"focusin",this).call(this,e),this.enableEditMode()}},{key:"canvasPointerdown",value:function(e){0===e.button&&this.isInEditMode()&&!_classPrivateFieldGet(this,v)&&(this.setInForeground(),"mouse"!==e.type&&this.div.focus(),e.stopPropagation(),this.canvas.addEventListener("pointerleave",_classPrivateFieldGet(this,h)),this.canvas.addEventListener("pointermove",_classPrivateFieldGet(this,d)),_classPrivateMethodGet(this,T,J).call(this,e.offsetX,e.offsetY))}},{key:"canvasPointermove",value:function(e){e.stopPropagation(),_classPrivateMethodGet(this,P,Z).call(this,e.offsetX,e.offsetY)}},{key:"canvasPointerup",value:function(e){0===e.button&&this.isInEditMode()&&0!==this.currentPath.length&&(e.stopPropagation(),_classPrivateMethodGet(this,R,ee).call(this,e),this.setInBackground())}},{key:"canvasPointerleave",value:function(e){_classPrivateMethodGet(this,R,ee).call(this,e),this.setInBackground()}},{key:"render",value:function(){var e,t,r=this;if(this.div)return this.div;this.width&&(e=this.x,t=this.y),_get(_getPrototypeOf(n.prototype),"render",this).call(this),n._l10nPromise.get("editor_ink_aria_label").then((function(e){var t;return null===(t=r.div)||void 0===t?void 0:t.setAttribute("aria-label",e)}));var i=_classPrivateMethodGet(this,E,Y).call(this),a=_slicedToArray(i,4),o=a[0],s=a[1],l=a[2],c=a[3];if(this.setAt(o,s,0,0),this.setDims(l,c),_classPrivateMethodGet(this,O,te).call(this),this.width){var u=_slicedToArray(this.parent.viewportBaseDimensions,2),d=u[0],h=u[1];this.setAt(e*d,t*h,this.width*d,this.height*h),_classPrivateFieldSet(this,m,!0),_classPrivateMethodGet(this,F,re).call(this),this.setDims(this.width*d,this.height*h),_classPrivateMethodGet(this,C,$).call(this),_classPrivateMethodGet(this,G,fe).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _classPrivateMethodGet(this,L,ne).call(this),this.div}},{key:"setDimensions",value:function(e,t){var n=Math.round(e),r=Math.round(t);if(_classPrivateFieldGet(this,b)!==n||_classPrivateFieldGet(this,_)!==r){_classPrivateFieldSet(this,b,n),_classPrivateFieldSet(this,_,r),this.canvas.style.visibility="hidden",_classPrivateFieldGet(this,l)&&Math.abs(_classPrivateFieldGet(this,l)-e/t)>.01&&(t=Math.ceil(e/_classPrivateFieldGet(this,l)),this.setDims(e,t));var i=_slicedToArray(this.parent.viewportBaseDimensions,2),a=i[0],o=i[1];this.width=e/a,this.height=t/o,_classPrivateFieldGet(this,v)&&_classPrivateMethodGet(this,I,ie).call(this,e,t),_classPrivateMethodGet(this,F,re).call(this),_classPrivateMethodGet(this,C,$).call(this),this.canvas.style.visibility="visible"}}},{key:"serialize",value:function(){if(this.isEmpty())return null;var e=this.getRect(0,0),t=this.rotation%180===0?e[3]-e[1]:e[2]-e[0],n=i.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:_classPrivateMethodGet(this,D,se).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,t),pageIndex:this.parent.pageIndex,rect:e,rotation:this.rotation}}}],[{key:"initialize",value:function(e){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map((function(t){return[t,e.get(t)]})))}},{key:"updateDefaultParams",value:function(e,t){switch(e){case r.AnnotationEditorParamsType.INK_THICKNESS:n._defaultThickness=t;break;case r.AnnotationEditorParamsType.INK_COLOR:n._defaultColor=t;break;case r.AnnotationEditorParamsType.INK_OPACITY:n._defaultOpacity=t/100}}},{key:"defaultPropertiesToUpdate",get:function(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,n._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,n._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*n._defaultOpacity)]]}},{key:"deserialize",value:function(e,t){var i,a=_get(_getPrototypeOf(n),"deserialize",this).call(this,e,t);a.thickness=e.thickness,a.color=(i=r.Util).makeHexColor.apply(i,_toConsumableArray(e.color)),a.opacity=e.opacity;var o=_slicedToArray(t.pageDimensions,2),d=o[0],h=o[1],f=a.width*d,p=a.height*h,m=t.scaleFactor,g=e.thickness/2;_classPrivateFieldSet(a,l,f/p),_classPrivateFieldSet(a,v,!0),_classPrivateFieldSet(a,b,Math.round(f)),_classPrivateFieldSet(a,_,Math.round(p));var y,x=_createForOfIteratorHelper(e.paths);try{for(x.s();!(y=x.n()).done;){var w=y.value.bezier,S=[];a.paths.push(S);for(var k=m*(w[0]-g),E=m*(p-w[1]-g),M=2,T=w.length;M<T;M+=6){var P=m*(w[M]-g),A=m*(p-w[M+1]-g),C=m*(w[M+2]-g),R=m*(p-w[M+3]-g),O=m*(w[M+4]-g),L=m*(p-w[M+5]-g);S.push([[k,E],[P,A],[C,R],[O,L]]),k=O,E=L}var F=_classStaticPrivateMethodGet(this,n,oe).call(this,S);a.bezierPath2D.push(F)}}catch(D){x.e(D)}finally{x.f()}var N=_classPrivateMethodGet(a,H,ue).call(a);return _classPrivateFieldSet(a,u,Math.max(s,N[2]-N[0])),_classPrivateFieldSet(a,c,Math.max(s,N[3]-N[1])),_classPrivateMethodGet(a,I,ie).call(a,f,p),a}}]),n}(i.AnnotationEditor);function V(e){var t=this,n=this.thickness;this.parent.addCommands({cmd:function(){t.thickness=e,_classPrivateMethodGet(t,U,he).call(t)},undo:function(){t.thickness=n,_classPrivateMethodGet(t,U,he).call(t)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function q(e){var t=this,n=this.color;this.parent.addCommands({cmd:function(){t.color=e,_classPrivateMethodGet(t,C,$).call(t)},undo:function(){t.color=n,_classPrivateMethodGet(t,C,$).call(t)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function X(e){var t=this;e/=100;var n=this.opacity;this.parent.addCommands({cmd:function(){t.opacity=e,_classPrivateMethodGet(t,C,$).call(t)},undo:function(){t.opacity=n,_classPrivateMethodGet(t,C,$).call(t)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function Y(){var e=this.parent.viewport,t=e.width,n=e.height;switch(e.rotation){case 90:return[0,t,t,n];case 180:return[t,n,t,n];case 270:return[n,0,t,n];default:return[0,0,t,n]}}function K(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle="".concat(this.color).concat((0,o.opacityToHex)(this.opacity))}function J(e,t){var n,r=this;this.isEditing=!0,_classPrivateFieldGet(this,m)||(_classPrivateFieldSet(this,m,!0),_classPrivateMethodGet(this,F,re).call(this),this.thickness||(this.thickness=W._defaultThickness),this.color||(this.color=W._defaultColor||i.AnnotationEditor._defaultLineColor),null!==(n=this.opacity)&&void 0!==n||(this.opacity=W._defaultOpacity)),this.currentPath.push([e,t]),_classPrivateFieldSet(this,g,null),_classPrivateMethodGet(this,M,K).call(this),this.ctx.beginPath(),this.ctx.moveTo(e,t),_classPrivateFieldSet(this,x,(function(){var e;_classPrivateFieldGet(r,x)&&(_classPrivateFieldGet(r,g)&&(r.isEmpty()?(r.ctx.setTransform(1,0,0,1,0,0),r.ctx.clearRect(0,0,r.canvas.width,r.canvas.height)):_classPrivateMethodGet(r,C,$).call(r),(e=r.ctx).lineTo.apply(e,_toConsumableArray(_classPrivateFieldGet(r,g))),_classPrivateFieldSet(r,g,null),r.ctx.stroke()),window.requestAnimationFrame(_classPrivateFieldGet(r,x)))})),window.requestAnimationFrame(_classPrivateFieldGet(this,x))}function Z(e,t){var n=this.currentPath.at(-1),r=_slicedToArray(n,2),i=r[0],a=r[1];e===i&&t===a||(this.currentPath.push([e,t]),_classPrivateFieldSet(this,g,[e,t]))}function Q(e,t){var n=this;this.ctx.closePath(),_classPrivateFieldSet(this,x,null),e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height);var r,i=this.currentPath.at(-1),o=_slicedToArray(i,2),s=o[0],l=o[1];if(e===s&&t===l||this.currentPath.push([e,t]),1!==this.currentPath.length)r=(0,a.fitCurve)(this.currentPath,30,null);else{var c=[e,t];r=[[c,c.slice(),c.slice(),c]]}var u=_classStaticPrivateMethodGet(W,W,oe).call(W,r);this.currentPath.length=0,this.parent.addCommands({cmd:function(){n.paths.push(r),n.bezierPath2D.push(u),n.rebuild()},undo:function(){n.paths.pop(),n.bezierPath2D.pop(),0===n.paths.length?n.remove():(n.canvas||(_classPrivateMethodGet(n,O,te).call(n),_classPrivateMethodGet(n,L,ne).call(n)),_classPrivateMethodGet(n,U,he).call(n))},mustExec:!0})}function $(){if(this.isEmpty())_classPrivateMethodGet(this,N,ae).call(this);else{_classPrivateMethodGet(this,M,K).call(this);var e=this.canvas,t=this.ctx;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),_classPrivateMethodGet(this,N,ae).call(this);var n,r=_createForOfIteratorHelper(this.bezierPath2D);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.stroke(i)}}catch(a){r.e(a)}finally{r.f()}}}function ee(e){_classPrivateMethodGet(this,A,Q).call(this,e.offsetX,e.offsetY),this.canvas.removeEventListener("pointerleave",_classPrivateFieldGet(this,h)),this.canvas.removeEventListener("pointermove",_classPrivateFieldGet(this,d)),this.parent.addToAnnotationStorage(this)}function te(){var e=this;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",W._l10nPromise.get("editor_ink_canvas_aria_label").then((function(t){var n;return null===(n=e.canvas)||void 0===n?void 0:n.setAttribute("aria-label",t)})),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function ne(){var e=this;_classPrivateFieldSet(this,y,new ResizeObserver((function(t){var n=t[0].contentRect;n.width&&n.height&&e.setDimensions(n.width,n.height)}))),_classPrivateFieldGet(this,y).observe(this.div)}function re(){if(_classPrivateFieldGet(this,m)){var e=_slicedToArray(this.parent.viewportBaseDimensions,2),t=e[0],n=e[1];this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*n),_classPrivateMethodGet(this,N,ae).call(this)}}function ie(e,t){var n=_classPrivateMethodGet(this,B,de).call(this),r=(e-n)/_classPrivateFieldGet(this,u),i=(t-n)/_classPrivateFieldGet(this,c);this.scaleFactor=Math.min(r,i)}function ae(){var e=_classPrivateMethodGet(this,B,de).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}function oe(e){for(var t=new Path2D,n=0,r=e.length;n<r;n++){var i=_slicedToArray(e[n],4),a=i[0],o=i[1],s=i[2],l=i[3];0===n&&t.moveTo.apply(t,_toConsumableArray(a)),t.bezierCurveTo(o[0],o[1],s[0],s[1],l[0],l[1])}return t}function se(e,t,n,r){var i,a,o,s=[],l=this.thickness/2,c=_createForOfIteratorHelper(this.paths);try{for(c.s();!(o=c.n()).done;){var u=o.value;i=[],a=[];for(var d=0,h=u.length;d<h;d++){var f=_slicedToArray(u[d],4),p=f[0],v=f[1],m=f[2],g=f[3],y=e*(p[0]+t)+l,b=r-e*(p[1]+n)-l,_=e*(v[0]+t)+l,x=r-e*(v[1]+n)-l,w=e*(m[0]+t)+l,S=r-e*(m[1]+n)-l,k=e*(g[0]+t)+l,E=r-e*(g[1]+n)-l;0===d&&(i.push(y,b),a.push(y,b)),i.push(_,x,w,S,k,E),_classPrivateMethodGet(this,j,le).call(this,y,b,_,x,w,S,k,E,4,a)}s.push({bezier:i,points:a})}}catch(M){c.e(M)}finally{c.f()}return s}function le(e,t,n,r,i,a,o,s,l,c){if(_classPrivateMethodGet(this,z,ce).call(this,e,t,n,r,i,a,o,s))c.push(o,s);else{for(var u=1;u<l-1;u++){var d=u/l,h=1-d,f=d*e+h*n,p=d*t+h*r,v=d*n+h*i,m=d*r+h*a;f=d*(f=d*f+h*v)+h*(v=d*v+h*(d*i+h*o)),p=d*(p=d*p+h*m)+h*(m=d*m+h*(d*a+h*s)),c.push(f,p)}c.push(o,s)}}function ce(e,t,n,r,i,a,o,s){var l=Math.pow(3*n-2*e-o,2),c=Math.pow(3*r-2*t-s,2),u=Math.pow(3*i-e-2*o,2),d=Math.pow(3*a-t-2*s,2);return Math.max(l,u)+Math.max(c,d)<=10}function ue(){var e,t=1/0,n=-1/0,i=1/0,a=-1/0,o=_createForOfIteratorHelper(this.paths);try{for(o.s();!(e=o.n()).done;){var s,l=e.value,c=_createForOfIteratorHelper(l);try{for(c.s();!(s=c.n()).done;){var u,d=_slicedToArray(s.value,4),h=d[0],f=d[1],p=d[2],v=d[3],m=(u=r.Util).bezierBoundingBox.apply(u,_toConsumableArray(h).concat(_toConsumableArray(f),_toConsumableArray(p),_toConsumableArray(v)));t=Math.min(t,m[0]),i=Math.min(i,m[1]),n=Math.max(n,m[2]),a=Math.max(a,m[3])}}catch(g){c.e(g)}finally{c.f()}}}catch(g){o.e(g)}finally{o.f()}return[t,i,n,a]}function de(){return _classPrivateFieldGet(this,v)?Math.ceil(this.thickness*this.parent.scaleFactor):0}function he(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isEmpty())if(_classPrivateFieldGet(this,v)){var t=_classPrivateMethodGet(this,H,ue).call(this),n=_classPrivateMethodGet(this,B,de).call(this);_classPrivateFieldSet(this,u,Math.max(s,t[2]-t[0])),_classPrivateFieldSet(this,c,Math.max(s,t[3]-t[1]));var r=Math.ceil(n+_classPrivateFieldGet(this,u)*this.scaleFactor),i=Math.ceil(n+_classPrivateFieldGet(this,c)*this.scaleFactor),a=_slicedToArray(this.parent.viewportBaseDimensions,2),o=a[0],d=a[1];this.width=r/o,this.height=i/d,_classPrivateFieldSet(this,l,r/i),_classPrivateMethodGet(this,G,fe).call(this);var h=this.translationX,f=this.translationY;this.translationX=-t[0],this.translationY=-t[1],_classPrivateMethodGet(this,F,re).call(this),_classPrivateMethodGet(this,C,$).call(this),_classPrivateFieldSet(this,b,r),_classPrivateFieldSet(this,_,i),this.setDims(r,i);var p=e?n/this.scaleFactor/2:0;this.translate(h-this.translationX-p,f-this.translationY-p)}else _classPrivateMethodGet(this,C,$).call(this)}function fe(){var e=this.div.style;_classPrivateFieldGet(this,l)>=1?(e.minHeight="".concat(s,"px"),e.minWidth="".concat(Math.round(_classPrivateFieldGet(this,l)*s),"px")):(e.minWidth="".concat(s,"px"),e.minHeight="".concat(Math.round(s/_classPrivateFieldGet(this,l)),"px"))}_defineProperty(W,"_defaultColor",null),_defineProperty(W,"_defaultOpacity",1),_defineProperty(W,"_defaultThickness",1),_defineProperty(W,"_l10nPromise",void 0),_defineProperty(W,"_type","ink"),t.InkEditor=W},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.fitCurve=void 0;var r=n(26);t.fitCurve=r},function(e){function t(e,i,a,o,s){var c,u,d,h,f,p,v,m,g,y,b,_,x;if(2===e.length)return _=l.vectorLen(l.subtract(e[0],e[1]))/3,[c=[e[0],l.addArrays(e[0],l.mulItems(i,_)),l.addArrays(e[1],l.mulItems(a,_)),e[1]]];u=function(e){var t,n,r,i=[];return e.forEach((function(e,a){t=a?n+l.vectorLen(l.subtract(e,r)):0,i.push(t),n=t,r=e})),i=i.map((function(e){return e/n}))}(e);var w=n(e,u,u,i,a,s),S=_slicedToArray(w,3);if(c=S[0],h=S[1],p=S[2],0===h||h<o)return[c];if(h<o*o)for(d=u,f=h,v=p,x=0;x<20;x++){var k=n(e,u,d=r(c,e,d),i,a,s),E=_slicedToArray(k,3);if(c=E[0],h=E[1],p=E[2],h<o)return[c];if(p===v){var M=h/f;if(M>.9999&&M<1.0001)break}f=h,v=p}if(b=[],(m=l.subtract(e[p-1],e[p+1])).every((function(e){return 0===e}))){var T=[-(m=l.subtract(e[p-1],e[p]))[1],m[0]];m[0]=T[0],m[1]=T[1]}return g=l.normalize(m),y=l.mulItems(g,-1),b=(b=b.concat(t(e.slice(0,p+1),i,g,o,s))).concat(t(e.slice(p),y,a,o,s))}function n(e,t,n,r,i,s){var u,d,h;u=function(e,t,n,r){var i,a,o,s,u,d,h,f,p,v,m,g,y,b,_,x,w,S=e[0],k=e[e.length-1];for(i=[S,null,null,k],a=l.zeros_Xx2x2(t.length),y=0,b=t.length;y<b;y++)w=1-(x=t[y]),(o=a[y])[0]=l.mulItems(n,3*x*(w*w)),o[1]=l.mulItems(r,3*w*(x*x));for(s=[[0,0],[0,0]],u=[0,0],y=0,b=e.length;y<b;y++)x=t[y],o=a[y],s[0][0]+=l.dot(o[0],o[0]),s[0][1]+=l.dot(o[0],o[1]),s[1][0]+=l.dot(o[0],o[1]),s[1][1]+=l.dot(o[1],o[1]),_=l.subtract(e[y],c.q([S,S,k,k],x)),u[0]+=l.dot(o[0],_),u[1]+=l.dot(o[1],_);return d=s[0][0]*s[1][1]-s[1][0]*s[0][1],h=s[0][0]*u[1]-s[1][0]*u[0],f=u[0]*s[1][1]-u[1]*s[0][1],p=0===d?0:f/d,v=0===d?0:h/d,g=l.vectorLen(l.subtract(S,k)),p<(m=1e-6*g)||v<m?(i[1]=l.addArrays(S,l.mulItems(n,g/3)),i[2]=l.addArrays(k,l.mulItems(r,g/3))):(i[1]=l.addArrays(S,l.mulItems(n,p)),i[2]=l.addArrays(k,l.mulItems(r,v))),i}(e,n,r,i);var f=function(e,t,n){var r,i,s,u,d,h,f,p;i=0,s=Math.floor(e.length/2);var v=a(t,10);for(d=0,h=e.length;d<h;d++)f=e[d],p=o(0,n[d],v,10),(r=(u=l.subtract(c.q(t,p),f))[0]*u[0]+u[1]*u[1])>i&&(i=r,s=d);return[i,s]}(e,u,t),p=_slicedToArray(f,2);return d=p[0],h=p[1],s&&s({bez:u,points:e,params:t,maxErr:d,maxPoint:h}),[u,d,h]}function r(e,t,n){return n.map((function(n,r){return i(e,t[r],n)}))}function i(e,t,n){var r=l.subtract(c.q(e,n),t),i=c.qprime(e,n),a=l.mulMatrix(r,i),o=l.sum(l.squareItems(i))+2*l.mulMatrix(r,c.qprimeprime(e,n));return 0===o?n:n-a/o}var a=function(e,t){for(var n,r=[0],i=e[0],a=0,o=1;o<=t;o++)n=c.q(e,o/t),a+=l.vectorLen(l.subtract(n,i)),r.push(a),i=n;return r=r.map((function(e){return e/a}))};function o(e,t,n,r){if(t<0)return 0;if(t>1)return 1;for(var i,a,o,s,l=1;l<=r;l++)if(t<=n[l]){o=(l-1)/r,a=l/r,s=(t-(i=n[l-1]))/(n[l]-i)*(a-o)+o;break}return s}function s(e,t){return l.normalize(l.subtract(e,t))}var l=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"zeros_Xx2x2",value:function(e){for(var t=[];e--;)t.push([0,0]);return t}},{key:"mulItems",value:function(e,t){return e.map((function(e){return e*t}))}},{key:"mulMatrix",value:function(e,t){return e.reduce((function(e,n,r){return e+n*t[r]}),0)}},{key:"subtract",value:function(e,t){return e.map((function(e,n){return e-t[n]}))}},{key:"addArrays",value:function(e,t){return e.map((function(e,n){return e+t[n]}))}},{key:"addItems",value:function(e,t){return e.map((function(e){return e+t}))}},{key:"sum",value:function(e){return e.reduce((function(e,t){return e+t}))}},{key:"dot",value:function(t,n){return e.mulMatrix(t,n)}},{key:"vectorLen",value:function(e){return Math.hypot.apply(Math,_toConsumableArray(e))}},{key:"divItems",value:function(e,t){return e.map((function(e){return e/t}))}},{key:"squareItems",value:function(e){return e.map((function(e){return e*e}))}},{key:"normalize",value:function(e){return this.divItems(e,this.vectorLen(e))}}]),e}(),c=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"q",value:function(e,t){var n=1-t,r=l.mulItems(e[0],n*n*n),i=l.mulItems(e[1],3*n*n*t),a=l.mulItems(e[2],3*n*t*t),o=l.mulItems(e[3],t*t*t);return l.addArrays(l.addArrays(r,i),l.addArrays(a,o))}},{key:"qprime",value:function(e,t){var n=1-t,r=l.mulItems(l.subtract(e[1],e[0]),3*n*n),i=l.mulItems(l.subtract(e[2],e[1]),6*n*t),a=l.mulItems(l.subtract(e[3],e[2]),3*t*t);return l.addArrays(l.addArrays(r,i),a)}},{key:"qprimeprime",value:function(e,t){return l.addArrays(l.mulItems(l.addArrays(l.subtract(e[2],l.mulItems(e[1],2)),e[0]),6*(1-t)),l.mulItems(l.addArrays(l.subtract(e[3],l.mulItems(e[2],2)),e[1]),6*t))}}]),e}();e.exports=function(e,n,r){if(!Array.isArray(e))throw new TypeError("First argument should be an array");if(e.forEach((function(t){if(!Array.isArray(t)||t.some((function(e){return"number"!==typeof e}))||t.length!==e[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")})),(e=e.filter((function(t,n){return 0===n||!t.every((function(t,r){return t===e[n-1][r]}))}))).length<2)return[];var i=e.length,a=s(e[1],e[0]),o=s(e[i-2],e[i-1]);return t(e,a,o,n,r)},e.exports.fitCubic=t,e.exports.createTangent=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var r=n(1),i=n(8),a=n(5),o=n(28),s=n(29),l=1e3,c=new WeakSet;function u(e){return{width:e[2]-e[0],height:e[3]-e[1]}}var d=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e){switch(e.data.annotationType){case r.AnnotationType.LINK:return new f(e);case r.AnnotationType.TEXT:return new p(e);case r.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new m(e);case"Btn":return e.data.radioButton?new y(e):e.data.checkBox?new g(e):new b(e);case"Ch":return new _(e)}return new v(e);case r.AnnotationType.POPUP:return new x(e);case r.AnnotationType.FREETEXT:return new S(e);case r.AnnotationType.LINE:return new k(e);case r.AnnotationType.SQUARE:return new E(e);case r.AnnotationType.CIRCLE:return new M(e);case r.AnnotationType.POLYLINE:return new T(e);case r.AnnotationType.CARET:return new A(e);case r.AnnotationType.INK:return new C(e);case r.AnnotationType.POLYGON:return new P(e);case r.AnnotationType.HIGHLIGHT:return new R(e);case r.AnnotationType.UNDERLINE:return new O(e);case r.AnnotationType.SQUIGGLY:return new L(e);case r.AnnotationType.STRIKEOUT:return new F(e);case r.AnnotationType.STAMP:return new I(e);case r.AnnotationType.FILEATTACHMENT:return new N(e);default:return new h(e)}}}]),e}(),h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.isRenderable,i=void 0!==r&&r,a=n.ignoreBorder,o=void 0!==a&&a,s=n.createQuadrilaterals,l=void 0!==s&&s;_classCallCheck(this,e),this.isRenderable=i,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this._mouseState=t.mouseState,i&&(this.container=this._createContainer(o)),l&&(this.quadrilaterals=this._createQuadrilaterals(o))}return _createClass(e,[{key:"_createContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.data,n=this.page,i=this.viewport,a=document.createElement("section"),o=u(t.rect),s=o.width,l=o.height,c=_slicedToArray(i.viewBox,4),d=c[0],h=c[1],f=c[2]-d,p=c[3]-h;a.setAttribute("data-annotation-id",t.id);var v=r.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(!e&&t.borderStyle.width>0){a.style.borderWidth="".concat(t.borderStyle.width,"px");var m=t.borderStyle.horizontalCornerRadius,g=t.borderStyle.verticalCornerRadius;if(m>0||g>0){var b="calc(".concat(m,"px * var(--scale-factor)) / calc(").concat(g,"px * var(--scale-factor))");a.style.borderRadius=b}else if(this instanceof y){var _="calc(".concat(s,"px * var(--scale-factor)) / calc(").concat(l,"px * var(--scale-factor))");a.style.borderRadius=_}switch(t.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:a.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:a.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:a.style.borderBottomStyle="solid"}var x=t.borderColor||null;x?a.style.borderColor=r.Util.makeHexColor(0|x[0],0|x[1],0|x[2]):a.style.borderWidth=0}a.style.left="".concat(100*(v[0]-d)/f,"%"),a.style.top="".concat(100*(v[1]-h)/p,"%");var w=t.rotation;return t.hasOwnCanvas||0===w?(a.style.width="".concat(100*s/f,"%"),a.style.height="".concat(100*l/p,"%")):this.setRotation(w,a),a}},{key:"setRotation",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container,i=_slicedToArray(this.viewport.viewBox,4),a=i[0],o=i[1],s=i[2]-a,l=i[3]-o,c=u(this.data.rect),d=c.width,h=c.height;e%180===0?(t=100*d/s,n=100*h/l):(t=100*h/s,n=100*d/l),r.style.width="".concat(t,"%"),r.style.height="".concat(n,"%"),r.setAttribute("data-main-rotation",(360-e)%360)}},{key:"_commonActions",get:function(){var e=this,t=function(e,t,n){var r=n.detail[e];n.target.style[t]=o.ColorConverters["".concat(r[0],"_HTML")](r.slice(1))};return(0,r.shadow)(this,"_commonActions",{display:function(t){var n=t.detail.display%2===1;e.container.style.visibility=n?"hidden":"visible",e.annotationStorage.setValue(e.data.id,{hidden:n,print:0===t.detail.display||3===t.detail.display})},print:function(t){e.annotationStorage.setValue(e.data.id,{print:t.detail.print})},hidden:function(t){e.container.style.visibility=t.detail.hidden?"hidden":"visible",e.annotationStorage.setValue(e.data.id,{hidden:t.detail.hidden})},focus:function(e){setTimeout((function(){return e.target.focus({preventScroll:!1})}),0)},userName:function(e){e.target.title=e.detail.userName},readonly:function(e){e.detail.readonly?e.target.setAttribute("readonly",""):e.target.removeAttribute("readonly")},required:function(t){e._setRequired(t.target,t.detail.required)},bgColor:function(e){t("bgColor","backgroundColor",e)},fillColor:function(e){t("fillColor","backgroundColor",e)},fgColor:function(e){t("fgColor","color",e)},textColor:function(e){t("textColor","color",e)},borderColor:function(e){t("borderColor","borderColor",e)},strokeColor:function(e){t("strokeColor","borderColor",e)},rotation:function(t){var n=t.detail.rotation;e.setRotation(n),e.annotationStorage.setValue(e.data.id,{rotation:n})}})}},{key:"_dispatchEventFromSandbox",value:function(e,t){for(var n=this._commonActions,r=0,i=Object.keys(t.detail);r<i.length;r++){var a=i[r],o=e[a]||n[a];o&&o(t)}}},{key:"_setDefaultPropertiesFromJS",value:function(e){if(this.enableScripting){var t=this.annotationStorage.getRawValue(this.data.id);if(t)for(var n=this._commonActions,r=0,i=Object.entries(t);r<i.length;r++){var a=_slicedToArray(i[r],2),o=a[0],s=a[1],l=n[o];l&&(l({detail:_defineProperty({},o,s),target:e}),delete t[o])}}}},{key:"_createQuadrilaterals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;var t,n=[],r=this.data.rect,i=_createForOfIteratorHelper(this.data.quadPoints);try{for(i.s();!(t=i.n()).done;){var a=t.value;this.data.rect=[a[2].x,a[2].y,a[1].x,a[1].y],n.push(this._createContainer(e))}}catch(o){i.e(o)}finally{i.f()}return this.data.rect=r,n}},{key:"_createPopup",value:function(e,t){var n=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,n=this.quadrilaterals[0]),e||((e=document.createElement("div")).className="popupTriggerArea",n.append(e));var r=new w({container:n,trigger:e,color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,hideWrapper:!0}).render();r.style.left="100%",n.append(r)}},{key:"_renderQuadrilaterals",value:function(e){var t,n=_createForOfIteratorHelper(this.quadrilaterals);try{for(n.s();!(t=n.n()).done;)t.value.className=e}catch(r){n.e(r)}finally{n.f()}return this.quadrilaterals}},{key:"render",value:function(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}},{key:"_getElementsByName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[];if(this._fieldObjects){var i=this._fieldObjects[e];if(i){var a,o=_createForOfIteratorHelper(i);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=s.page,u=s.id,d=s.exportValues;if(-1!==l&&u!==t){var h="string"===typeof d?d:null,f=document.querySelector('[data-element-id="'.concat(u,'"]'));!f||c.has(f)?n.push({id:u,exportValue:h,domElement:f}):(0,r.warn)("_getElementsByName - element not allowed: ".concat(u))}}}catch(b){o.e(b)}finally{o.f()}}return n}var p,v=_createForOfIteratorHelper(document.getElementsByName(e));try{for(v.s();!(p=v.n()).done;){var m=p.value,g=m.id,y=m.exportValue;g!==t&&c.has(m)&&n.push({id:g,exportValue:y,domElement:m})}}catch(b){v.e(b)}finally{v.f()}return n}}],[{key:"platform",get:function(){var e="undefined"!==typeof navigator?navigator.platform:"";return(0,r.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}]),e}(),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return _classCallCheck(this,n),(r=t.call(this,e,{isRenderable:!0,ignoreBorder:!(null===i||void 0===i||!i.ignoreBorder),createQuadrilaterals:!0})).isTooltipOnly=e.data.isTooltipOnly,r}return _createClass(n,[{key:"render",value:function(){var e=this.data,t=this.linkService,n=document.createElement("a");n.setAttribute("data-element-id",e.id);var r=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(n,e.action),r=!0):e.dest?(this._bindLink(n,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),r=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((function(e,t){var r=0===t?n:n.cloneNode();return e.append(r),e})):(this.container.className="linkAnnotation",r&&this.container.append(n),this.container)}},{key:"_bindLink",value:function(e,t){var n=this;e.href=this.linkService.getDestinationHash(t),e.onclick=function(){return t&&n.linkService.goToDestination(t),!1},(t||""===t)&&(e.className="internalLink")}},{key:"_bindNamedAction",value:function(e,t){var n=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return n.linkService.executeNamedAction(t),!1},e.className="internalLink"}},{key:"_bindJSAction",value:function(e,t){var n=this;e.href=this.linkService.getAnchorUrl("");for(var r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),i=function(){var i=o[a],s=r.get(i);if(!s)return"continue";e[s]=function(){var e;return null===(e=n.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:n,detail:{id:t.id,name:i}}),!1}},a=0,o=Object.keys(t.actions);a<o.length;a++)i();e.onclick||(e.onclick=function(){return!1}),e.className="internalLink"}},{key:"_bindResetFormAction",value:function(e,t){var n=this,i=e.onclick;if(i||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(i||(e.onclick=function(){return!1}));e.onclick=function(){i&&i();var e=t.fields,a=t.refs,o=t.include,s=[];if(0!==e.length||0!==a.length){var l,u=new Set(a),d=_createForOfIteratorHelper(e);try{for(d.s();!(l=d.n()).done;){var h,f=l.value,p=n._fieldObjects[f]||[],v=_createForOfIteratorHelper(p);try{for(v.s();!(h=v.n()).done;){var m=h.value.id;u.add(m)}}catch(D){v.e(D)}finally{v.f()}}}catch(D){d.e(D)}finally{d.f()}for(var g=0,y=Object.values(n._fieldObjects);g<y.length;g++){var b,_=y[g],x=_createForOfIteratorHelper(_);try{for(x.s();!(b=x.n()).done;){var w=b.value;u.has(w.id)===o&&s.push(w)}}catch(D){x.e(D)}finally{x.f()}}}else for(var S=0,k=Object.values(n._fieldObjects);S<k.length;S++){var E=k[S];s.push.apply(s,_toConsumableArray(E))}for(var M,T=n.annotationStorage,P=[],A=0,C=s;A<C.length;A++){var R=C[A],O=R.id;switch(P.push(O),R.type){case"text":var L=R.defaultValue||"";T.setValue(O,{value:L});break;case"checkbox":case"radiobutton":var F=R.defaultValue===R.exportValues;T.setValue(O,{value:F});break;case"combobox":case"listbox":var I=R.defaultValue||"";T.setValue(O,{value:I});break;default:continue}var N=document.querySelector('[data-element-id="'.concat(O,'"]'));N&&(c.has(N)?N.dispatchEvent(new Event("resetform")):(0,r.warn)("_bindResetFormAction - element not allowed: ".concat(O)))}return n.enableScripting&&(null===(M=n.linkService.eventBus)||void 0===M||M.dispatch("dispatcheventinsandbox",{source:n,detail:{id:"app",ids:P,name:"ResetForm"}})),!1}}}]),n}(h),p=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,a;_classCallCheck(this,n);var o=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return t.call(this,e,{isRenderable:o})}return _createClass(n,[{key:"render",value:function(){this.container.className="textAnnotation";var e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.append(e),this.container}}]),n}(h),v=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(e){var t=h.platform,n=t.isWin,r=t.isMac;return n&&e.ctrlKey||r&&e.metaKey}},{key:"_setEventListener",value:function(e,t,n,r){var i=this;t.includes("mouse")?e.addEventListener(t,(function(e){var t;null===(t=i.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:i,detail:{id:i.data.id,name:n,value:r(e),shift:e.shiftKey,modifier:i._getKeyModifier(e)}})})):e.addEventListener(t,(function(e){var t;null===(t=i.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:i,detail:{id:i.data.id,name:n,value:r(e)}})}))}},{key:"_setEventListeners",value:function(e,t,n){var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var a,o=_slicedToArray(r.value,2),s=o[0],l=o[1];("Action"===l||null!==(a=this.data.actions)&&void 0!==a&&a[l])&&this._setEventListener(e,s,l,n)}}catch(c){i.e(c)}finally{i.f()}}},{key:"_setBackgroundColor",value:function(e){var t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":r.Util.makeHexColor(t[0],t[1],t[2])}},{key:"_setTextStyle",value:function(e){var t,n=this.data.defaultAppearanceData.fontColor,i=this.data.defaultAppearanceData.fontSize||9,a=e.style;if(this.data.multiLine){var o=Math.abs(this.data.rect[3]-this.data.rect[1]),s=o/(Math.round(o/(r.LINE_FACTOR*i))||1);t=Math.min(i,Math.round(s/r.LINE_FACTOR))}else{var l=Math.abs(this.data.rect[3]-this.data.rect[1]);t=Math.min(i,Math.round(l/r.LINE_FACTOR))}a.fontSize="calc(".concat(t,"px * var(--scale-factor))"),a.color=r.Util.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(a.textAlign=["left","center","right"][this.data.textAlignment])}},{key:"_setRequired",value:function(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}]),n}(h),m=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue;return t.call(this,e,{isRenderable:r})}return _createClass(n,[{key:"setPropertyOnSiblings",value:function(e,t,n,r){var i,a=this.annotationStorage,o=_createForOfIteratorHelper(this._getElementsByName(e.name,e.id));try{for(o.s();!(i=o.n()).done;){var s=i.value;s.domElement&&(s.domElement[t]=n),a.setValue(s.id,_defineProperty({},r,n))}}catch(l){o.e(l)}finally{o.f()}}},{key:"render",value:function(){var e=this,t=this.annotationStorage,n=this.data.id;this.container.className="textWidgetAnnotation";var r=null;if(this.renderForms){var i=t.getValue(n,{value:this.data.fieldValue}),a=i.formattedValue||i.value||"",o=t.getValue(n,{charLimit:this.data.maxLen}).charLimit;o&&a.length>o&&(a=a.slice(0,o));var s={userValue:a,formattedValue:null,valueOnFocus:""};this.data.multiLine?((r=document.createElement("textarea")).textContent=a,this.data.doNotScroll&&(r.style.overflowY="hidden")):((r=document.createElement("input")).type="text",r.setAttribute("value",a),this.data.doNotScroll&&(r.style.overflowX="hidden")),c.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=l,this._setRequired(r,this.data.required),o&&(r.maxLength=o),r.addEventListener("input",(function(i){t.setValue(n,{value:i.target.value}),e.setPropertyOnSiblings(r,"value",i.target.value,"value")})),r.addEventListener("resetform",(function(t){var n,i=null!==(n=e.data.defaultFieldValue)&&void 0!==n?n:"";r.value=s.userValue=i,s.formattedValue=null}));var u=function(e){var t=s.formattedValue;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var d;r.addEventListener("focus",(function(e){s.userValue&&(e.target.value=s.userValue),s.valueOnFocus=e.target.value})),r.addEventListener("updatefromsandbox",(function(r){var i={value:function(e){var r;s.userValue=null!==(r=e.detail.value)&&void 0!==r?r:"",t.setValue(n,{value:s.userValue.toString()}),e.target.value=s.userValue},formattedValue:function(e){var r=e.detail.formattedValue;s.formattedValue=r,null!==r&&void 0!==r&&e.target!==document.activeElement&&(e.target.value=r),t.setValue(n,{formattedValue:r})},selRange:function(e){var t;(t=e.target).setSelectionRange.apply(t,_toConsumableArray(e.detail.selRange))},charLimit:function(r){var i,a=r.detail.charLimit,o=r.target;if(0!==a){o.setAttribute("maxLength",a);var l=s.userValue;!l||l.length<=a||(l=l.slice(0,a),o.value=s.userValue=l,t.setValue(n,{value:l}),null===(i=e.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:e,detail:{id:n,name:"Keystroke",value:l,willCommit:!0,commitKey:1,selStart:o.selectionStart,selEnd:o.selectionEnd}}))}else o.removeAttribute("maxLength")}};e._dispatchEventFromSandbox(i,r)})),r.addEventListener("keydown",(function(t){var r,i=-1;if("Escape"===t.key?i=0:"Enter"===t.key?i=2:"Tab"===t.key&&(i=3),-1!==i){var a=t.target.value;s.valueOnFocus!==a&&(s.userValue=a,null===(r=e.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:e,detail:{id:n,name:"Keystroke",value:a,willCommit:!0,commitKey:i,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}))}}));var h=u;u=null,r.addEventListener("blur",(function(t){var r,i=t.target.value;s.userValue=i,e._mouseState.isDown&&s.valueOnFocus!==i&&(null===(r=e.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:e,detail:{id:n,name:"Keystroke",value:i,willCommit:!0,commitKey:1,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}})),h(t)})),null!==(d=this.data.actions)&&void 0!==d&&d.Keystroke&&r.addEventListener("beforeinput",(function(t){var r,i=t.data,a=t.target,o=a.value,s=a.selectionStart,l=a.selectionEnd,c=s,u=l;switch(t.inputType){case"deleteWordBackward":var d=o.substring(0,s).match(/\w*[^\w]*$/);d&&(c-=d[0].length);break;case"deleteWordForward":var h=o.substring(s).match(/^[^\w]*\w*/);h&&(u+=h[0].length);break;case"deleteContentBackward":s===l&&(c-=1);break;case"deleteContentForward":s===l&&(u+=1)}t.preventDefault(),null===(r=e.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:e,detail:{id:n,name:"Keystroke",value:o,change:i||"",willCommit:!1,selStart:c,selEnd:u}})})),this._setEventListeners(r,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(e){return e.target.value}))}if(u&&r.addEventListener("blur",u),this.data.comb){var f=(this.data.rect[2]-this.data.rect[0])/o;r.classList.add("comb"),r.style.letterSpacing="calc(".concat(f,"px * var(--scale-factor) - 1ch)")}}else(r=document.createElement("div")).textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell";return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}]),n}(v),g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,{isRenderable:e.renderForms})}return _createClass(n,[{key:"render",value:function(){var e=this,t=this.annotationStorage,n=this.data,r=n.id,i=t.getValue(r,{value:n.exportValue===n.fieldValue}).value;"string"===typeof i&&(i="Off"!==i,t.setValue(r,{value:i})),this.container.className="buttonWidgetAnnotation checkBox";var a=document.createElement("input");return c.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",n.exportValue),a.tabIndex=l,a.addEventListener("change",(function(i){var a,o=i.target,s=o.name,l=o.checked,c=_createForOfIteratorHelper(e._getElementsByName(s,r));try{for(c.s();!(a=c.n()).done;){var u=a.value,d=l&&u.exportValue===n.exportValue;u.domElement&&(u.domElement.checked=d),t.setValue(u.id,{value:d})}}catch(h){c.e(h)}finally{c.f()}t.setValue(r,{value:l})})),a.addEventListener("resetform",(function(e){var t=n.defaultFieldValue||"Off";e.target.checked=t===n.exportValue})),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",(function(n){var i={value:function(e){e.target.checked="Off"!==e.detail.value,t.setValue(r,{value:e.target.checked})}};e._dispatchEventFromSandbox(i,n)})),this._setEventListeners(a,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(e){return e.target.checked}))),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}]),n}(v),y=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,{isRenderable:e.renderForms})}return _createClass(n,[{key:"render",value:function(){var e=this;this.container.className="buttonWidgetAnnotation radioButton";var t=this.annotationStorage,n=this.data,r=n.id,i=t.getValue(r,{value:n.fieldValue===n.buttonValue}).value;"string"===typeof i&&(i=i!==n.buttonValue,t.setValue(r,{value:i}));var a=document.createElement("input");if(c.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=l,a.addEventListener("change",(function(n){var i,a=n.target,o=a.name,s=a.checked,l=_createForOfIteratorHelper(e._getElementsByName(o,r));try{for(l.s();!(i=l.n()).done;){var c=i.value;t.setValue(c.id,{value:!1})}}catch(u){l.e(u)}finally{l.f()}t.setValue(r,{value:s})})),a.addEventListener("resetform",(function(e){var t=n.defaultFieldValue;e.target.checked=null!==t&&void 0!==t&&t===n.buttonValue})),this.enableScripting&&this.hasJSActions){var o=n.buttonValue;a.addEventListener("updatefromsandbox",(function(n){var i={value:function(n){var i,a=o===n.detail.value,s=_createForOfIteratorHelper(e._getElementsByName(n.target.name));try{for(s.s();!(i=s.n()).done;){var l=i.value,c=a&&l.id===r;l.domElement&&(l.domElement.checked=c),t.setValue(l.id,{value:c})}}catch(u){s.e(u)}finally{s.f()}}};e._dispatchEventFromSandbox(i,n)})),this._setEventListeners(a,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(e){return e.target.checked}))}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}]),n}(v),b=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,{ignoreBorder:e.data.hasAppearance})}return _createClass(n,[{key:"render",value:function(){var e=this,t=_get(_getPrototypeOf(n.prototype),"render",this).call(this);t.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(t.title=this.data.alternativeText);var r=t.lastChild;return this.enableScripting&&this.hasJSActions&&r&&(this._setDefaultPropertiesFromJS(r),r.addEventListener("updatefromsandbox",(function(t){e._dispatchEventFromSandbox({},t)}))),t}}]),n}(f),_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,{isRenderable:e.renderForms})}return _createClass(n,[{key:"render",value:function(){var e=this;this.container.className="choiceWidgetAnnotation";var t=this.annotationStorage,n=this.data.id,r=t.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");c.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=l;var a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",(function(t){var n,r=e.data.defaultFieldValue,a=_createForOfIteratorHelper(i.options);try{for(a.s();!(n=a.n()).done;){var o=n.value;o.selected=o.value===r}}catch(s){a.e(s)}finally{a.f()}}));var o,s=_createForOfIteratorHelper(this.data.options);try{for(s.s();!(o=s.n()).done;){var u=o.value,d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,r.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),a=!1),i.append(d)}}catch(m){s.e(m)}finally{s.f()}var h=null;if(a){var f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),i.prepend(f),h=function(){f.remove(),i.removeEventListener("input",h),h=null},i.addEventListener("input",h)}var p=function(e,t){var n=t?"value":"textContent",r=e.target.options;return e.target.multiple?Array.prototype.filter.call(r,(function(e){return e.selected})).map((function(e){return e[n]})):-1===r.selectedIndex?null:r[r.selectedIndex][n]},v=function(e){var t=e.target.options;return Array.prototype.map.call(t,(function(e){return{displayValue:e.textContent,exportValue:e.value}}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",(function(r){var a={value:function(e){var r;null===(r=h)||void 0===r||r();var a,o=e.detail.value,s=new Set(Array.isArray(o)?o:[o]),l=_createForOfIteratorHelper(i.options);try{for(l.s();!(a=l.n()).done;){var c=a.value;c.selected=s.has(c.value)}}catch(m){l.e(m)}finally{l.f()}t.setValue(n,{value:p(e,!0)})},multipleSelection:function(e){i.multiple=!0},remove:function(e){var r=i.options,a=e.detail.remove;if(r[a].selected=!1,i.remove(a),r.length>0){var o=Array.prototype.findIndex.call(r,(function(e){return e.selected}));-1===o&&(r[0].selected=!0)}t.setValue(n,{value:p(e,!0),items:v(e)})},clear:function(e){for(;0!==i.length;)i.remove(0);t.setValue(n,{value:null,items:[]})},insert:function(e){var r=e.detail.insert,a=r.index,o=r.displayValue,s=r.exportValue,l=i.children[a],c=document.createElement("option");c.textContent=o,c.value=s,l?l.before(c):i.append(c),t.setValue(n,{value:p(e,!0),items:v(e)})},items:function(e){for(var r=e.detail.items;0!==i.length;)i.remove(0);var a,o=_createForOfIteratorHelper(r);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=s.displayValue,c=s.exportValue,u=document.createElement("option");u.textContent=l,u.value=c,i.append(u)}}catch(m){o.e(m)}finally{o.f()}i.options.length>0&&(i.options[0].selected=!0),t.setValue(n,{value:p(e,!0),items:v(e)})},indices:function(e){var r,i=new Set(e.detail.indices),a=_createForOfIteratorHelper(e.target.options);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.selected=i.has(o.index)}}catch(m){a.e(m)}finally{a.f()}t.setValue(n,{value:p(e,!0)})},editable:function(e){e.target.disabled=!e.detail.editable}};e._dispatchEventFromSandbox(a,r)})),i.addEventListener("input",(function(r){var i,a=p(r,!0),o=p(r,!1);t.setValue(n,{value:a}),null===(i=e.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:e,detail:{id:n,name:"Keystroke",value:o,changeEx:a,willCommit:!0,commitKey:1,keyDown:!1}})})),this._setEventListeners(i,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],(function(e){return e.target.checked}))):i.addEventListener("input",(function(e){t.setValue(n,{value:p(e,!0)})})),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}]),n}(v),x=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,a;_classCallCheck(this,n);var o=!!(null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return t.call(this,e,{isRenderable:o})}return _createClass(n,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var e='[data-annotation-id="'.concat(this.data.parentId,'"]'),t=this.layer.querySelectorAll(e);if(0===t.length)return this.container;var n=new w({container:this.container,trigger:Array.from(t),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),i=this.page,a=r.Util.normalizeRect([this.data.parentRect[0],i.view[3]-this.data.parentRect[1]+i.view[1],this.data.parentRect[2],i.view[3]-this.data.parentRect[3]+i.view[1]]),o=a[0]+this.data.parentRect[2]-this.data.parentRect[0],s=a[1],l=_slicedToArray(this.viewport.viewBox,4),c=l[0],u=l[1],d=l[2]-c,h=l[3]-u;return this.container.style.left="".concat(100*(o-c)/d,"%"),this.container.style.top="".concat(100*(s-u)/h,"%"),this.container.append(n.render()),this.container}}]),n}(h),w=function(){function e(t){_classCallCheck(this,e),this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.titleObj=t.titleObj,this.modificationDate=t.modificationDate,this.contentsObj=t.contentsObj,this.richText=t.richText,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}return _createClass(e,[{key:"render",value:function(){var e,t,n=document.createElement("div");n.className="popupWrapper",this.hideElement=this.hideWrapper?n:this.container,this.hideElement.hidden=!0;var a=document.createElement("div");a.className="popup";var o=this.color;if(o){var l=.7*(255-o[0])+o[0],c=.7*(255-o[1])+o[1],u=.7*(255-o[2])+o[2];a.style.backgroundColor=r.Util.makeHexColor(0|l,0|c,0|u)}var d=document.createElement("h1");d.dir=this.titleObj.dir,d.textContent=this.titleObj.str,a.append(d);var h=i.PDFDateString.toDateObject(this.modificationDate);if(h){var f=document.createElement("span");f.className="popupDate",f.textContent="{{date}}, {{time}}",f.dataset.l10nId="annotation_date_string",f.dataset.l10nArgs=JSON.stringify({date:h.toLocaleDateString(),time:h.toLocaleTimeString()}),a.append(f)}if(null===(e=this.richText)||void 0===e||!e.str||null!==(t=this.contentsObj)&&void 0!==t&&t.str&&this.contentsObj.str!==this.richText.str){var p=this._formatContents(this.contentsObj);a.append(p)}else s.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:a}),a.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);var v,m=_createForOfIteratorHelper(this.trigger);try{for(m.s();!(v=m.n()).done;){var g=v.value;g.addEventListener("click",this._toggle.bind(this)),g.addEventListener("mouseover",this._show.bind(this,!1)),g.addEventListener("mouseout",this._hide.bind(this,!1))}}catch(y){m.e(y)}finally{m.f()}return a.addEventListener("click",this._hide.bind(this,!0)),n.append(a),n}},{key:"_formatContents",value:function(e){var t=e.str,n=e.dir,r=document.createElement("p");r.className="popupContent",r.dir=n;for(var i=t.split(/(?:\r\n?|\n)/),a=0,o=i.length;a<o;++a){var s=i[a];r.append(document.createTextNode(s)),a<o-1&&r.append(document.createElement("br"))}return r}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}},{key:"_hide",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}]),e}(),S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,a,o;_classCallCheck(this,n);var s=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return(o=t.call(this,e,{isRenderable:s,ignoreBorder:!0})).textContent=e.data.textContent,o}return _createClass(n,[{key:"render",value:function(){if(this.container.className="freeTextAnnotation",this.textContent){var e=document.createElement("div");e.className="annotationTextContent",e.setAttribute("role","comment");var t,n=_createForOfIteratorHelper(this.textContent);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=document.createElement("span");i.textContent=r,e.append(i)}}catch(a){n.e(a)}finally{n.f()}this.container.append(e)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(h),k=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,a;_classCallCheck(this,n);var o=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return t.call(this,e,{isRenderable:o,ignoreBorder:!0})}return _createClass(n,[{key:"render",value:function(){this.container.className="lineAnnotation";var e=this.data,t=u(e.rect),n=t.width,r=t.height,i=this.svgFactory.create(n,r,!0),a=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),this._createPopup(a,e),this.container}}]),n}(h),E=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,a;_classCallCheck(this,n);var o=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return t.call(this,e,{isRenderable:o,ignoreBorder:!0})}return _createClass(n,[{key:"render",value:function(){this.container.className="squareAnnotation";var e=this.data,t=u(e.rect),n=t.width,r=t.height,i=this.svgFactory.create(n,r,!0),a=e.borderStyle.width,o=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",n-a),o.setAttribute("height",r-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),this._createPopup(o,e),this.container}}]),n}(h),M=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,a;_classCallCheck(this,n);var o=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return t.call(this,e,{isRenderable:o,ignoreBorder:!0})}return _createClass(n,[{key:"render",value:function(){this.container.className="circleAnnotation";var e=this.data,t=u(e.rect),n=t.width,r=t.height,i=this.svgFactory.create(n,r,!0),a=e.borderStyle.width,o=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",n/2),o.setAttribute("cy",r/2),o.setAttribute("rx",n/2-a/2),o.setAttribute("ry",r/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),this._createPopup(o,e),this.container}}]),n}(h),T=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,a,o;_classCallCheck(this,n);var s=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return(o=t.call(this,e,{isRenderable:s,ignoreBorder:!0})).containerClassName="polylineAnnotation",o.svgElementName="svg:polyline",o}return _createClass(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,n=u(t.rect),r=n.width,i=n.height,a=this.svgFactory.create(r,i,!0),o=[],s=_createForOfIteratorHelper(t.vertices);try{for(s.s();!(e=s.n()).done;){var l=e.value,c=l.x-t.rect[0],d=t.rect[3]-l.y;o.push(c+","+d)}}catch(f){s.e(f)}finally{s.f()}o=o.join(" ");var h=this.svgFactory.createElement(this.svgElementName);return h.setAttribute("points",o),h.setAttribute("stroke-width",t.borderStyle.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),a.append(h),this.container.append(a),this._createPopup(h,t),this.container}}]),n}(h),P=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).containerClassName="polygonAnnotation",r.svgElementName="svg:polygon",r}return _createClass(n)}(T),A=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,a;_classCallCheck(this,n);var o=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return t.call(this,e,{isRenderable:o,ignoreBorder:!0})}return _createClass(n,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(h),C=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,a,o;_classCallCheck(this,n);var s=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return(o=t.call(this,e,{isRenderable:s,ignoreBorder:!0})).containerClassName="inkAnnotation",o.svgElementName="svg:polyline",o}return _createClass(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,n=u(t.rect),r=n.width,i=n.height,a=this.svgFactory.create(r,i,!0),o=_createForOfIteratorHelper(t.inkLists);try{for(o.s();!(e=o.n()).done;){var s,l=e.value,c=[],d=_createForOfIteratorHelper(l);try{for(d.s();!(s=d.n()).done;){var h=s.value,f=h.x-t.rect[0],p=t.rect[3]-h.y;c.push("".concat(f,",").concat(p))}}catch(m){d.e(m)}finally{d.f()}c=c.join(" ");var v=this.svgFactory.createElement(this.svgElementName);v.setAttribute("points",c),v.setAttribute("stroke-width",t.borderStyle.width||1),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),this._createPopup(v,t),a.append(v)}}catch(m){o.e(m)}finally{o.f()}return this.container.append(a),this.container}}]),n}(h),R=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,a;_classCallCheck(this,n);var o=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return t.call(this,e,{isRenderable:o,ignoreBorder:!0,createQuadrilaterals:!0})}return _createClass(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),n}(h),O=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,a;_classCallCheck(this,n);var o=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return t.call(this,e,{isRenderable:o,ignoreBorder:!0,createQuadrilaterals:!0})}return _createClass(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),n}(h),L=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,a;_classCallCheck(this,n);var o=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return t.call(this,e,{isRenderable:o,ignoreBorder:!0,createQuadrilaterals:!0})}return _createClass(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),n}(h),F=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,a;_classCallCheck(this,n);var o=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return t.call(this,e,{isRenderable:o,ignoreBorder:!0,createQuadrilaterals:!0})}return _createClass(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),n}(h),I=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,a;_classCallCheck(this,n);var o=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return t.call(this,e,{isRenderable:o,ignoreBorder:!0})}return _createClass(n,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(h),N=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,a;_classCallCheck(this,n);var o=(a=t.call(this,e,{isRenderable:!0})).data.file,s=o.filename,l=o.content;return a.filename=(0,i.getFilenameFromUrl)(s),a.content=l,null===(r=a.linkService.eventBus)||void 0===r||r.dispatch("fileattachmentannotation",{source:_assertThisInitialized(a),filename:s,content:l}),a}return _createClass(n,[{key:"render",value:function(){var e,t;this.container.className="fileAttachmentAnnotation";var n=document.createElement("div");return n.className="popupTriggerArea",n.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(null!==(e=this.data.titleObj)&&void 0!==e&&e.str||null!==(t=this.data.contentsObj)&&void 0!==t&&t.str||this.data.richText)&&this._createPopup(n,this.data),this.container.append(n),this.container}},{key:"_download",value:function(){var e;null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.container,this.content,this.filename)}}]),n}(h),D=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"render",value:function(t){var n=t.annotations,o=t.div,s=t.viewport,l=t.accessibilityManager;_classStaticPrivateMethodGet(this,e,z).call(this,o,s);var c,h=0,f=_createForOfIteratorHelper(n);try{for(f.s();!(c=f.n()).done;){var p=c.value;if(p.annotationType!==r.AnnotationType.POPUP){var v=u(p.rect),m=v.width,g=v.height;if(m<=0||g<=0)continue}var y=d.create({data:p,layer:o,page:t.page,viewport:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new i.DOMSVGFactory,annotationStorage:t.annotationStorage||new a.AnnotationStorage,enableScripting:t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,mouseState:t.mouseState||{isDown:!1}});if(y.isRenderable){var b=y.render();if(p.hidden&&(b.style.visibility="hidden"),Array.isArray(b)){var _,w=_createForOfIteratorHelper(b);try{for(w.s();!(_=w.n()).done;){var S=_.value;S.style.zIndex=h++,_classStaticPrivateMethodGet(e,e,j).call(e,S,p.id,o,l)}}catch(k){w.e(k)}finally{w.f()}}else b.style.zIndex=h++,y instanceof x?o.prepend(b):_classStaticPrivateMethodGet(e,e,j).call(e,b,p.id,o,l)}}}catch(k){f.e(k)}finally{f.f()}_classStaticPrivateMethodGet(this,e,H).call(this,o,t.annotationCanvasMap)}},{key:"update",value:function(t){var n=t.annotationCanvasMap,r=t.div,i=t.viewport;_classStaticPrivateMethodGet(this,e,z).call(this,r,i),_classStaticPrivateMethodGet(this,e,H).call(this,r,n),r.hidden=!1}}]),e}();function j(e,t,n,r){var a=e.firstChild||e;a.id="".concat(i.AnnotationPrefix).concat(t),n.append(e),null===r||void 0===r||r.moveElementInDOM(n,e,a,!1)}function z(e,t){var n=t.width,r=t.height,i=t.rotation,a=e.style,o=i%180!==0,s=Math.floor(n)+"px",l=Math.floor(r)+"px";a.width=o?l:s,a.height=o?s:l,e.setAttribute("data-main-rotation",i)}function H(e,t){if(t){var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=_slicedToArray(n.value,2),a=i[0],o=i[1],s=e.querySelector('[data-annotation-id="'.concat(a,'"]'));if(s){var l=s.firstChild;l?"CANVAS"===l.nodeName?l.replaceWith(o):l.before(o):s.append(o)}}}catch(c){r.e(c)}finally{r.f()}t.clear()}}t.AnnotationLayer=D},function(e,t){function n(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0;var r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"CMYK_G",value:function(e){var t=_slicedToArray(e,4),n=t[0],r=t[1],i=t[2],a=t[3];return["G",1-Math.min(1,.3*n+.59*i+.11*r+a)]}},{key:"G_CMYK",value:function(e){return["CMYK",0,0,0,1-_slicedToArray(e,1)[0]]}},{key:"G_RGB",value:function(e){var t=_slicedToArray(e,1)[0];return["RGB",t,t,t]}},{key:"G_HTML",value:function(e){var t=n(_slicedToArray(e,1)[0]);return"#".concat(t).concat(t).concat(t)}},{key:"RGB_G",value:function(e){var t=_slicedToArray(e,3);return["G",.3*t[0]+.59*t[1]+.11*t[2]]}},{key:"RGB_HTML",value:function(e){var t=_slicedToArray(e,3),r=t[0],i=t[1],a=t[2],o=n(r),s=n(i),l=n(a);return"#".concat(o).concat(s).concat(l)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(e){var t=_slicedToArray(e,4),n=t[0],r=t[1],i=t[2],a=t[3];return["RGB",1-Math.min(1,n+a),1-Math.min(1,i+a),1-Math.min(1,r+a)]}},{key:"CMYK_HTML",value:function(e){var t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}},{key:"RGB_CMYK",value:function(e){var t=_slicedToArray(e,3),n=1-t[0],r=1-t[1],i=1-t[2];return["CMYK",n,r,i,Math.min(n,r,i)]}}]),e}();t.ColorConverters=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var r=n(20),i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"setupStorage",value:function(e,t,n,r,i){var a=r.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==a.value&&(e.textContent=a.value),"print"===i)break;e.addEventListener("input",(function(e){r.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",(function(e){r.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==a.value&&e.setAttribute("value",a.value),"print"===i)break;e.addEventListener("input",(function(e){r.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==a.value){var o,s=_createForOfIteratorHelper(n.children);try{for(s.s();!(o=s.n()).done;){var l=o.value;l.attributes.value===a.value&&(l.attributes.selected=!0)}}catch(c){s.e(c)}finally{s.f()}}e.addEventListener("input",(function(e){var n=e.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(t,{value:i})}))}}},{key:"setAttributes",value:function(e){var t=e.html,n=e.element,r=e.storage,i=void 0===r?null:r,a=e.intent,o=e.linkService,s=n.attributes,l=t instanceof HTMLAnchorElement;"radio"===s.type&&(s.name="".concat(s.name,"-").concat(a));for(var c=0,u=Object.entries(s);c<u.length;c++){var d=_slicedToArray(u[c],2),h=d[0],f=d[1];if(null!==f&&void 0!==f)switch(h){case"class":f.length&&t.setAttribute(h,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!l||"href"!==h&&"newWindow"!==h)&&t.setAttribute(h,f)}}l&&o.addLinkAttributes(t,s.href,s.newWindow),i&&s.dataId&&this.setupStorage(t,s.dataId,n,i)}},{key:"render",value:function(e){var t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,a=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:a,linkService:n});var s=[[i,-1,o]],l=e.div;if(l.append(o),e.viewport){var c="matrix(".concat(e.viewport.transform.join(","),")");l.style.transform=c}"richText"!==a&&l.setAttribute("class","xfaLayer xfaFont");for(var u=[];s.length>0;){var d,h=s.at(-1),f=_slicedToArray(h,3),p=f[0],v=f[1],m=f[2];if(v+1!==p.children.length){var g=p.children[++s.at(-1)[1]];if(null!==g){var y=g.name;if("#text"!==y){var b=void 0;if(b=null!==g&&void 0!==g&&null!==(d=g.attributes)&&void 0!==d&&d.xmlns?document.createElementNS(g.attributes.xmlns,y):document.createElement(y),m.append(b),g.attributes&&this.setAttributes({html:b,element:g,storage:t,intent:a,linkService:n}),g.children&&g.children.length>0)s.push([g,-1,b]);else if(g.value){var _=document.createTextNode(g.value);r.XfaText.shouldBuildText(y)&&u.push(_),b.append(_)}}else{var x=document.createTextNode(g.value);u.push(x),m.append(x)}}}else s.pop()}var w,S=_createForOfIteratorHelper(l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"));try{for(S.s();!(w=S.n()).done;)w.value.setAttribute("readOnly",!0)}catch(k){S.e(k)}finally{S.f()}return{textDivs:u}}},{key:"update",value:function(e){var t="matrix(".concat(e.viewport.transform.join(","),")");e.div.style.transform=t,e.div.hidden=!1}}]),e}();t.XfaLayer=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=function(e){var t=new v({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t};var r=n(1),i=n(8),a=1e5,o=30,s=.8,l=new Map,c=/^\s+$/g;function u(e,t,n,i){var a=document.createElement("span"),u=e._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};e._textDivs.push(a);var d=r.Util.transform(e._viewport.transform,t.transform),h=Math.atan2(d[1],d[0]),f=n[t.fontName];f.vertical&&(h+=Math.PI/2);var p,v,m=Math.hypot(d[2],d[3]),g=m*function(e,t){var n=l.get(e);if(n)return n;t.save(),t.font="".concat(o,"px ").concat(e);var r=t.measureText(""),i=r.fontBoundingBoxAscent,a=Math.abs(r.fontBoundingBoxDescent);if(i){t.restore();var c=i/(i+a);return l.set(e,c),c}t.strokeStyle="red",t.clearRect(0,0,o,o),t.strokeText("g",0,0);var u=t.getImageData(0,0,o,o).data;a=0;for(var d=u.length-1-3;d>=0;d-=4)if(u[d]>0){a=Math.ceil(d/4/o);break}t.clearRect(0,0,o,o),t.strokeText("A",0,o),i=0;for(var h=0,f=(u=t.getImageData(0,0,o,o).data).length;h<f;h+=4)if(u[h]>0){i=o-Math.floor(h/4/o);break}if(t.restore(),i){var p=i/(i+a);return l.set(e,p),p}return l.set(e,s),s}(f.fontFamily,i);0===h?(p=d[4],v=d[5]-g):(p=d[4]+g*Math.sin(h),v=d[5]-g*Math.cos(h)),a.style.left="".concat(p,"px"),a.style.top="".concat(v,"px"),a.style.fontSize="".concat(m,"px"),a.style.fontFamily=f.fontFamily,u.fontSize=m,a.setAttribute("role","presentation"),a.textContent=t.str,a.dir=t.dir,e._fontInspectorEnabled&&(a.dataset.fontName=t.fontName),0!==h&&(u.angle=h*(180/Math.PI));var y=!1;if(t.str.length>1||e._enhanceTextSelection&&c.test(t.str))y=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){var b=Math.abs(t.transform[0]),_=Math.abs(t.transform[3]);b!==_&&Math.max(b,_)/Math.min(b,_)>1.5&&(y=!0)}if(y&&(f.vertical?u.canvasWidth=t.height*e._viewport.scale:u.canvasWidth=t.width*e._viewport.scale),e._textDivProperties.set(a,u),e._textContentStream&&e._layoutText(a),e._enhanceTextSelection&&u.hasText){var x=1,w=0;0!==h&&(x=Math.cos(h),w=Math.sin(h));var S,k,E=(f.vertical?t.height:t.width)*e._viewport.scale,M=m;0!==h?(S=[x,w,-w,x,p,v],k=r.Util.getAxialAlignedBoundingBox([0,0,E,M],S)):k=[p,v,p+E,v+M],e._bounds.push({left:k[0],top:k[1],right:k[2],bottom:k[3],div:a,size:[E,M],m:S})}}function d(e){if(!e._canceled){var t=e._textDivs,n=e._capability,r=t.length;if(r>a)return e._renderingDone=!0,void n.resolve();if(!e._textContentStream)for(var i=0;i<r;i++)e._layoutText(t[i]);e._renderingDone=!0,n.resolve()}}function h(e,t,n){for(var r=0,i=0;i<n;i++){var a=e[t++];a>0&&(r=r?Math.min(a,r):a)}return r}function f(e){for(var t=e._bounds,n=e._viewport,i=function(e,t,n){var r=n.map((function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}}));p(e,r);var i,a=new Array(n.length),o=_createForOfIteratorHelper(r);try{for(o.s();!(i=o.n()).done;){var s=i.value,l=s.index;a[l]={left:s.x1New,top:0,right:s.x2New,bottom:0}}}catch(f){o.e(f)}finally{o.f()}n.map((function(t,n){var i=a[n],o=r[n];o.x1=t.top,o.y1=e-i.right,o.x2=t.bottom,o.y2=e-i.left,o.index=n,o.x1New=void 0,o.x2New=void 0})),p(t,r);var c,u=_createForOfIteratorHelper(r);try{for(u.s();!(c=u.n()).done;){var d=c.value,h=d.index;a[h].top=d.x1New,a[h].bottom=d.x2New}}catch(f){u.e(f)}finally{u.f()}return a}(n.width,n.height,t),a=0;a<i.length;a++){var o=t[a].div,s=e._textDivProperties.get(o);if(0!==s.angle){for(var l=i[a],c=t[a],u=c.m,d=u[0],f=u[1],v=[[0,0],[0,c.size[1]],[c.size[0],0],c.size],m=new Float64Array(64),g=0,y=v.length;g<y;g++){var b=r.Util.applyTransform(v[g],u);m[g+0]=d&&(l.left-b[0])/d,m[g+4]=f&&(l.top-b[1])/f,m[g+8]=d&&(l.right-b[0])/d,m[g+12]=f&&(l.bottom-b[1])/f,m[g+16]=f&&(l.left-b[0])/-f,m[g+20]=d&&(l.top-b[1])/d,m[g+24]=f&&(l.right-b[0])/-f,m[g+28]=d&&(l.bottom-b[1])/d,m[g+32]=d&&(l.left-b[0])/-d,m[g+36]=f&&(l.top-b[1])/-f,m[g+40]=d&&(l.right-b[0])/-d,m[g+44]=f&&(l.bottom-b[1])/-f,m[g+48]=f&&(l.left-b[0])/f,m[g+52]=d&&(l.top-b[1])/-d,m[g+56]=f&&(l.right-b[0])/f,m[g+60]=d&&(l.bottom-b[1])/-d}var _=1+Math.min(Math.abs(d),Math.abs(f));s.paddingLeft=h(m,32,16)/_,s.paddingTop=h(m,48,16)/_,s.paddingRight=h(m,0,16)/_,s.paddingBottom=h(m,16,16)/_,e._textDivProperties.set(o,s)}else s.paddingLeft=t[a].left-i[a].left,s.paddingTop=t[a].top-i[a].top,s.paddingRight=i[a].right-t[a].right,s.paddingBottom=i[a].bottom-t[a].bottom,e._textDivProperties.set(o,s)}}function p(e,t){t.sort((function(e,t){return e.x1-t.x1||e.index-t.index}));var n,r=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){for(var a=n.value,o=0;o<r.length&&r[o].end<=a.y1;)o++;for(var s=r.length-1;s>=0&&r[s].start>=a.y2;)s--;var l=void 0,c=void 0,u=void 0,d=void 0,h=-1/0;for(u=o;u<=s;u++){c=(l=r[u]).boundary;var f=void 0;(f=c.x2>a.x1?c.index>a.index?c.x1New:a.x1:void 0===c.x2New?(c.x2+a.x1)/2:c.x2New)>h&&(h=f)}for(a.x1New=h,u=o;u<=s;u++)void 0===(c=(l=r[u]).boundary).x2New?c.x2>a.x1?c.index>a.index&&(c.x2New=c.x2):c.x2New=h:c.x2New>h&&(c.x2New=Math.max(h,c.x2));var p=[],v=null;for(u=o;u<=s;u++){var m=(c=(l=r[u]).boundary).x2>a.x2?c:a;v===m?p.at(-1).end=l.end:(p.push({start:l.start,end:l.end,boundary:m}),v=m)}for(r[o].start<a.y1&&(p[0].start=a.y1,p.unshift({start:r[o].start,end:a.y1,boundary:r[o].boundary})),a.y2<r[s].end&&(p.at(-1).end=a.y2,p.push({start:a.y2,end:r[s].end,boundary:r[s].boundary})),u=o;u<=s;u++)if(void 0===(c=(l=r[u]).boundary).x2New){var g=!1;for(d=o-1;!g&&d>=0&&r[d].start>=c.y1;d--)g=r[d].boundary===c;for(d=s+1;!g&&d<r.length&&r[d].end<=c.y2;d++)g=r[d].boundary===c;for(d=0;!g&&d<p.length;d++)g=p[d].boundary===c;g||(c.x2New=h)}Array.prototype.splice.apply(r,[o,s-o+1].concat(p))}}catch(x){i.e(x)}finally{i.f()}for(var y=0,b=r;y<b.length;y++){var _=b[y].boundary;void 0===_.x2New&&(_.x2New=Math.max(e,_.x2))}}var v=function(){function e(t){var n,a=this,o=t.textContent,s=t.textContentStream,l=t.container,c=t.viewport,u=t.textDivs,d=t.textContentItemsStr,h=t.enhanceTextSelection;_classCallCheck(this,e),h&&(0,i.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=o,this._textContentStream=s,this._container=l,this._document=l.ownerDocument,this._viewport=c,this._textDivs=u||[],this._textContentItemsStr=d||[],this._enhanceTextSelection=!!h,this._fontInspectorEnabled=!(null===(n=globalThis.FontInspector)||void 0===n||!n.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally((function(){a._enhanceTextSelection||(a._textDivProperties=null),a._layoutTextCtx&&(a._layoutTextCtx.canvas.width=0,a._layoutTextCtx.canvas.height=0,a._layoutTextCtx=null)})).catch((function(){}))}return _createClass(e,[{key:"promise",get:function(){return this._capability.promise}},{key:"cancel",value:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch((function(){})),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}},{key:"_processItems",value:function(e,t){for(var n=0,r=e.length;n<r;n++)if(void 0!==e[n].str)this._textContentItemsStr.push(e[n].str),u(this,e[n],t,this._layoutTextCtx);else if("beginMarkedContentProps"===e[n].type||"beginMarkedContent"===e[n].type){var i=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==e[n].id&&this._container.setAttribute("id","".concat(e[n].id)),i.append(this._container)}else"endMarkedContent"===e[n].type&&(this._container=this._container.parentNode)}},{key:"_layoutText",value:function(e){var t=this._textDivProperties.get(e),n="";if(0!==t.canvasWidth&&t.hasText){var r=e.style.fontFamily,i=t.fontSize;i===this._layoutTextLastFontSize&&r===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(i*this._devicePixelRatio,"px ").concat(r),this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=r);var a=this._layoutTextCtx.measureText(e.textContent).width;if(a>0){var o=this._devicePixelRatio*t.canvasWidth/a;this._enhanceTextSelection&&(t.scale=o),n="scaleX(".concat(o,")")}}if(0!==t.angle&&(n="rotate(".concat(t.angle,"deg) ").concat(n)),n.length>0&&(this._enhanceTextSelection&&(t.originalTransform=n),e.style.transform=n),t.hasText&&this._container.append(e),t.hasEOL){var s=document.createElement("br");s.setAttribute("role","presentation"),this._container.append(s)}}},{key:"_render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=(0,r.createPromiseCapability)(),i=Object.create(null),a=this._document.createElement("canvas");if(a.height=a.width=o,this._layoutTextCtx=a.getContext("2d",{alpha:!1}),this._textContent){var s=this._textContent.items,l=this._textContent.styles;this._processItems(s,l),n.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');this._reader=this._textContentStream.getReader(),function t(){e._reader.read().then((function(r){var a=r.value;r.done?n.resolve():(Object.assign(i,a.styles),e._processItems(a.items,i),t())}),n.reject)}()}n.promise.then((function(){i=null,t?e._renderTimer=setTimeout((function(){d(e),e._renderTimer=null}),t):d(e)}),this._capability.reject)}},{key:"expandTextDivs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(f(this),this._bounds=null);for(var t=[],n=[],r=0,i=this._textDivs.length;r<i;r++){var a=this._textDivs[r],o=this._textDivProperties.get(a);o.hasText&&(e?(t.length=0,n.length=0,o.originalTransform&&t.push(o.originalTransform),o.paddingTop>0?(n.push("".concat(o.paddingTop,"px")),t.push("translateY(".concat(-o.paddingTop,"px)"))):n.push(0),o.paddingRight>0?n.push("".concat(o.paddingRight/o.scale,"px")):n.push(0),o.paddingBottom>0?n.push("".concat(o.paddingBottom,"px")):n.push(0),o.paddingLeft>0?(n.push("".concat(o.paddingLeft/o.scale,"px")),t.push("translateX(".concat(-o.paddingLeft/o.scale,"px)"))):n.push(0),a.style.padding=n.join(" "),t.length&&(a.style.transform=t.join(" "))):(a.style.padding=null,a.style.transform=o.originalTransform))}}}}]),e}();t.TextLayerRenderTask=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var r=n(8),i=n(1),a=n(3),o=_createClass((function e(){_classCallCheck(this,e),(0,i.unreachable)("Not implemented: SVGGraphics")}));t.SVGGraphics=o;var s=function(e){if(Number.isInteger(e))return e.toString();var t=e.toFixed(10),n=t.length-1;if("0"!==t[n])return t;do{n--}while("0"===t[n]);return t.substring(0,"."===t[n]?n:n+1)},l=function(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale(".concat(s(e[0])," ").concat(s(e[3]),")");if(e[0]===e[3]&&e[1]===-e[2]){var t=180*Math.acos(e[0])/Math.PI;return"rotate(".concat(s(t),")")}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate(".concat(s(e[4])," ").concat(s(e[5]),")");return"matrix(".concat(s(e[0])," ").concat(s(e[1])," ").concat(s(e[2])," ").concat(s(e[3])," ").concat(s(e[4])," ")+"".concat(s(e[5]),")")},c={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},u=["butt","round","square"],d=["miter","round","bevel"],h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&"undefined"!==typeof Blob&&!n)return URL.createObjectURL(new Blob([e],{type:t}));for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="data:".concat(t,";base64,"),a=0,o=e.length;a<o;a+=3){var s=255&e[a],l=255&e[a+1],c=255&e[a+2];i+=r[s>>2]+r[(3&s)<<4|l>>4]+r[a+1<o?(15&l)<<2|c>>6:64]+r[a+2<o?63&c:64]}return i},f=function(){for(var e=new Uint8Array([137,80,78,71,13,10,26,10]),t=12,n=new Int32Array(256),r=0;r<256;r++){for(var o=r,s=0;s<8;s++)o=1&o?3988292384^o>>1&2147483647:o>>1&2147483647;n[r]=o}function l(e,t,r,i){var a=i,o=t.length;r[a]=o>>24&255,r[a+1]=o>>16&255,r[a+2]=o>>8&255,r[a+3]=255&o,r[a+=4]=255&e.charCodeAt(0),r[a+1]=255&e.charCodeAt(1),r[a+2]=255&e.charCodeAt(2),r[a+3]=255&e.charCodeAt(3),a+=4,r.set(t,a);var s=function(e,t,r){for(var i=-1,a=t;a<r;a++){var o=255&(i^e[a]);i=i>>>8^n[o]}return-1^i}(r,i+4,a+=t.length);r[a]=s>>24&255,r[a+1]=s>>16&255,r[a+2]=s>>8&255,r[a+3]=255&s}function c(e){var t=e.length,n=65535,r=Math.ceil(t/n),i=new Uint8Array(2+t+5*r+4),a=0;i[a++]=120,i[a++]=156;for(var o=0;t>n;)i[a++]=0,i[a++]=255,i[a++]=255,i[a++]=0,i[a++]=0,i.set(e.subarray(o,o+n),a),a+=n,o+=n,t-=n;i[a++]=1,i[a++]=255&t,i[a++]=t>>8&255,i[a++]=255&~t,i[a++]=(65535&~t)>>8&255,i.set(e.subarray(o),a),a+=e.length-o;var s=function(e,t,n){for(var r=1,i=0,a=t;a<n;++a)i=(i+(r=(r+(255&e[a]))%65521))%65521;return i<<16|r}(e,0,e.length);return i[a++]=s>>24&255,i[a++]=s>>16&255,i[a++]=s>>8&255,i[a++]=255&s,i}function u(n,r,o,s){var u,d,f,p=n.width,v=n.height,m=n.data;switch(r){case i.ImageKind.GRAYSCALE_1BPP:d=0,u=1,f=p+7>>3;break;case i.ImageKind.RGB_24BPP:d=2,u=8,f=3*p;break;case i.ImageKind.RGBA_32BPP:d=6,u=8,f=4*p;break;default:throw new Error("invalid format")}for(var g=new Uint8Array((1+f)*v),y=0,b=0,_=0;_<v;++_)g[y++]=0,g.set(m.subarray(b,b+f),y),b+=f,y+=f;if(r===i.ImageKind.GRAYSCALE_1BPP&&s){y=0;for(var x=0;x<v;x++){y++;for(var w=0;w<f;w++)g[y++]^=255}}var S=new Uint8Array([p>>24&255,p>>16&255,p>>8&255,255&p,v>>24&255,v>>16&255,v>>8&255,255&v,u,d,0,0,0]),k=function(e){if(!a.isNodeJS)return c(e);try{var t;t=parseInt(process.versions.node)>=8?e:Buffer.from(e);var n=__webpack_require__(2258).deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(r){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+r)}return c(e)}(g),E=e.length+3*t+S.length+k.length,M=new Uint8Array(E),T=0;return M.set(e,T),l("IHDR",S,M,T+=e.length),l("IDATA",k,M,T+=t+S.length),T+=t+k.length,l("IEND",new Uint8Array(0),M,T),h(M,"image/png",o)}return function(e,t,n){return u(e,void 0===e.kind?i.ImageKind.GRAYSCALE_1BPP:e.kind,t,n)}}(),p=function(){function e(){_classCallCheck(this,e),this.fontSizeScale=1,this.fontWeight=c.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=c.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return _createClass(e,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(e,t){this.x=e,this.y=t}}]),e}(),v=0,m=0,g=0;t.SVGGraphics=o=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var o in _classCallCheck(this,e),(0,r.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new r.DOMSVGFactory,this.current=new p,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!a,this._operatorIdMapping=[],i.OPS)this._operatorIdMapping[i.OPS[o]]=o}return _createClass(e,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(e){this.save(),this.executeOpTree(e),this.restore()}},{key:"loadDependencies",value:function(e){for(var t=this,n=e.fnArray,r=e.argsArray,a=0,o=n.length;a<o;a++)if(n[a]===i.OPS.dependency){var s,l=_createForOfIteratorHelper(r[a]);try{var c=function(){var e=s.value,n=e.startsWith("g_")?t.commonObjs:t.objs,r=new Promise((function(t){n.get(e,t)}));t.current.dependencies.push(r)};for(l.s();!(s=l.n()).done;)c()}catch(u){l.e(u)}finally{l.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(e,t,n,r,a,o){var s=[e,t,n,r,a,o];this.transformMatrix=i.Util.transform(this.transformMatrix,s),this.tgrp=null}},{key:"getSVG",value:function(e,t){var n=this;this.viewport=t;var r=this._initialize(t);return this.loadDependencies(e).then((function(){return n.transformMatrix=i.IDENTITY_MATRIX,n.executeOpTree(n.convertOpList(e)),r}))}},{key:"convertOpList",value:function(e){for(var t=this._operatorIdMapping,n=e.argsArray,r=e.fnArray,i=[],a=0,o=r.length;a<o;a++){var s=r[a];i.push({fnId:s,fn:t[s],args:n[a]})}return function(e){var t,n=[],r=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;"save"!==a.fn?"restore"===a.fn?n=r.pop():n.push(a):(n.push({fnId:92,fn:"group",items:[]}),r.push(n),n=n.at(-1).items)}}catch(o){i.e(o)}finally{i.f()}return n}(i)}},{key:"executeOpTree",value:function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,a=r.fn,o=r.fnId,s=r.args;switch(0|o){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(s);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(s[0],s[1]);break;case i.OPS.setFont:this.setFont(s);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(s[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(s[0],s[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(s[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(s[0]);break;case i.OPS.setHScale:this.setHScale(s[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(s[0],s[1],s[2],s[3],s[4],s[5]);break;case i.OPS.setTextRise:this.setTextRise(s[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(s[0]);break;case i.OPS.setLineWidth:this.setLineWidth(s[0]);break;case i.OPS.setLineJoin:this.setLineJoin(s[0]);break;case i.OPS.setLineCap:this.setLineCap(s[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(s[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(s[0],s[1],s[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(s[0],s[1],s[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(s);break;case i.OPS.setFillColorN:this.setFillColorN(s);break;case i.OPS.shadingFill:this.shadingFill(s[0]);break;case i.OPS.setDash:this.setDash(s[0],s[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(s[0]);break;case i.OPS.setFlatness:this.setFlatness(s[0]);break;case i.OPS.setGState:this.setGState(s[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(s[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(s[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(s[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(s[0],s[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(s[0],s[1],s[2],s[3],s[4],s[5]);break;case i.OPS.constructPath:this.constructPath(s[0],s[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(r.items);break;default:(0,i.warn)("Unimplemented operator ".concat(a))}}}catch(l){n.e(l)}finally{n.f()}}},{key:"setWordSpacing",value:function(e){this.current.wordSpacing=e}},{key:"setCharSpacing",value:function(e){this.current.charSpacing=e}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(e,t,n,r,i,a){var o=this.current;o.textMatrix=o.lineMatrix=[e,t,n,r,i,a],o.textMatrixScale=Math.hypot(e,t),o.x=o.lineX=0,o.y=o.lineY=0,o.xcoords=[],o.ycoords=[],o.tspan=this.svgFactory.createElement("svg:tspan"),o.tspan.setAttributeNS(null,"font-family",o.fontFamily),o.tspan.setAttributeNS(null,"font-size","".concat(s(o.fontSize),"px")),o.tspan.setAttributeNS(null,"y",s(-o.y)),o.txtElement=this.svgFactory.createElement("svg:text"),o.txtElement.append(o.tspan)}},{key:"beginText",value:function(){var e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=i.IDENTITY_MATRIX,e.lineMatrix=i.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}},{key:"moveText",value:function(e,t){var n=this.current;n.x=n.lineX+=e,n.y=n.lineY+=t,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size","".concat(s(n.fontSize),"px")),n.tspan.setAttributeNS(null,"y",s(-n.y))}},{key:"showText",value:function(e){var t=this.current,n=t.font,r=t.fontSize;if(0!==r){var a,o=t.fontSizeScale,u=t.charSpacing,d=t.wordSpacing,h=t.fontDirection,f=t.textHScale*h,p=n.vertical,v=p?1:-1,m=n.defaultVMetrics,g=r*t.fontMatrix[0],y=0,b=_createForOfIteratorHelper(e);try{for(b.s();!(a=b.n()).done;){var _=a.value;if(null!==_)if("number"!==typeof _){var x=(_.isSpace?d:0)+u,w=_.fontChar,S=void 0,k=void 0,E=_.width;if(p){var M=void 0,T=_.vmetric||m;M=-(M=_.vmetric?T[1]:.5*E)*g;var P=T[2]*g;E=T?-T[0]:E,S=M/o,k=(y+P)/o}else S=y/o,k=0;(_.isInFont||n.missingFile)&&(t.xcoords.push(t.x+S),p&&t.ycoords.push(-t.y+k),t.tspan.textContent+=w),y+=p?E*g-x*h:E*g+x*h}else y+=v*_*r/1e3;else y+=h*d}}catch(O){b.e(O)}finally{b.f()}t.tspan.setAttributeNS(null,"x",t.xcoords.map(s).join(" ")),p?t.tspan.setAttributeNS(null,"y",t.ycoords.map(s).join(" ")):t.tspan.setAttributeNS(null,"y",s(-t.y)),p?t.y-=y:t.x+=y*f,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size","".concat(s(t.fontSize),"px")),t.fontStyle!==c.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==c.fontWeight&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);var A=t.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(A===i.TextRenderingMode.FILL||A===i.TextRenderingMode.FILL_STROKE?(t.fillColor!==c.fillColor&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?t.tspan.setAttributeNS(null,"fill","transparent"):t.tspan.setAttributeNS(null,"fill","none"),A===i.TextRenderingMode.STROKE||A===i.TextRenderingMode.FILL_STROKE){var C=1/(t.textMatrixScale||1);this._setStrokeAttributes(t.tspan,C)}var R=t.textMatrix;0!==t.textRise&&((R=R.slice())[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform","".concat(l(R)," scale(").concat(s(f),", -1)")),t.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),t.txtElement.append(t.tspan),t.txtgrp.append(t.txtElement),this._ensureTransformGroup().append(t.txtElement)}}},{key:"setLeadingMoveText",value:function(e,t){this.setLeading(-t),this.moveText(e,t)}},{key:"addFontStyle",value:function(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));var t=h(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(e.loadedName,'";')+" src: url(".concat(t,"); }\n")}},{key:"setFont",value:function(e){var t=this.current,n=this.commonObjs.get(e[0]),r=e[1];t.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),t.fontMatrix=n.fontMatrix||i.FONT_IDENTITY_MATRIX;var a="normal";n.black?a="900":n.bold&&(a="bold");var o=n.italic?"italic":"normal";r<0?(r=-r,t.fontDirection=-1):t.fontDirection=1,t.fontSize=r,t.fontFamily=n.loadedName,t.fontWeight=a,t.fontStyle=o,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",s(-t.y)),t.xcoords=[],t.ycoords=[]}},{key:"endText",value:function(){var e,t=this.current;t.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(e=t.txtElement)&&void 0!==e&&e.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(e){e>0&&(this.current.lineWidth=e)}},{key:"setLineCap",value:function(e){this.current.lineCap=u[e]}},{key:"setLineJoin",value:function(e){this.current.lineJoin=d[e]}},{key:"setMiterLimit",value:function(e){this.current.miterLimit=e}},{key:"setStrokeAlpha",value:function(e){this.current.strokeAlpha=e}},{key:"setStrokeRGBColor",value:function(e,t,n){this.current.strokeColor=i.Util.makeHexColor(e,t,n)}},{key:"setFillAlpha",value:function(e){this.current.fillAlpha=e}},{key:"setFillRGBColor",value:function(e,t,n){this.current.fillColor=i.Util.makeHexColor(e,t,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(e){this.current.strokeColor=this._makeColorN_Pattern(e)}},{key:"setFillColorN",value:function(e){this.current.fillColor=this._makeColorN_Pattern(e)}},{key:"shadingFill",value:function(e){var t=this.viewport.width,n=this.viewport.height,r=i.Util.inverseTransform(this.transformMatrix),a=i.Util.applyTransform([0,0],r),o=i.Util.applyTransform([0,n],r),s=i.Util.applyTransform([t,0],r),l=i.Util.applyTransform([t,n],r),c=Math.min(a[0],o[0],s[0],l[0]),u=Math.min(a[1],o[1],s[1],l[1]),d=Math.max(a[0],o[0],s[0],l[0]),h=Math.max(a[1],o[1],s[1],l[1]),f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x",c),f.setAttributeNS(null,"y",u),f.setAttributeNS(null,"width",d-c),f.setAttributeNS(null,"height",h-u),f.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&f.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(f)}},{key:"_makeColorN_Pattern",value:function(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}},{key:"_makeTilingPattern",value:function(e){var t=e[1],n=e[2],r=e[3]||i.IDENTITY_MATRIX,a=_slicedToArray(e[4],4),o=a[0],s=a[1],l=a[2],c=a[3],u=e[5],d=e[6],h=e[7],f="shading".concat(g++),p=i.Util.normalizeRect([].concat(_toConsumableArray(i.Util.applyTransform([o,s],r)),_toConsumableArray(i.Util.applyTransform([l,c],r)))),v=_slicedToArray(p,4),m=v[0],y=v[1],b=v[2],_=v[3],x=i.Util.singularValueDecompose2dScale(r),w=_slicedToArray(x,2),S=u*w[0],k=d*w[1],E=this.svgFactory.createElement("svg:pattern");E.setAttributeNS(null,"id",f),E.setAttributeNS(null,"patternUnits","userSpaceOnUse"),E.setAttributeNS(null,"width",S),E.setAttributeNS(null,"height",k),E.setAttributeNS(null,"x","".concat(m)),E.setAttributeNS(null,"y","".concat(y));var M=this.svg,T=this.transformMatrix,P=this.current.fillColor,A=this.current.strokeColor,C=this.svgFactory.create(b-m,_-y);if(this.svg=C,this.transformMatrix=r,2===h){var R,O=(R=i.Util).makeHexColor.apply(R,_toConsumableArray(t));this.current.fillColor=O,this.current.strokeColor=O}return this.executeOpTree(this.convertOpList(n)),this.svg=M,this.transformMatrix=T,this.current.fillColor=P,this.current.strokeColor=A,E.append(C.childNodes[0]),this.defs.append(E),"url(#".concat(f,")")}},{key:"_makeShadingPattern",value:function(e){switch("string"===typeof e&&(e=this.objs.get(e)),e[0]){case"RadialAxial":var t,n="shading".concat(g++),r=e[3];switch(e[1]){case"axial":var a=e[4],o=e[5];(t=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",n),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"x1",a[0]),t.setAttributeNS(null,"y1",a[1]),t.setAttributeNS(null,"x2",o[0]),t.setAttributeNS(null,"y2",o[1]);break;case"radial":var s=e[4],l=e[5],c=e[6],u=e[7];(t=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",n),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"cx",l[0]),t.setAttributeNS(null,"cy",l[1]),t.setAttributeNS(null,"r",u),t.setAttributeNS(null,"fx",s[0]),t.setAttributeNS(null,"fy",s[1]),t.setAttributeNS(null,"fr",c);break;default:throw new Error("Unknown RadialAxial type: ".concat(e[1]))}var d,h=_createForOfIteratorHelper(r);try{for(h.s();!(d=h.n()).done;){var f=d.value,p=this.svgFactory.createElement("svg:stop");p.setAttributeNS(null,"offset",f[0]),p.setAttributeNS(null,"stop-color",f[1]),t.append(p)}}catch(v){h.e(v)}finally{h.f()}return this.defs.append(t),"url(#".concat(n,")");case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(e[0]))}}},{key:"setDash",value:function(e,t){this.current.dashArray=e,this.current.dashPhase=t}},{key:"constructPath",value:function(e,t){var n,r=this.current,a=r.x,o=r.y,l=[],c=0,u=_createForOfIteratorHelper(e);try{for(u.s();!(n=u.n()).done;)switch(0|n.value){case i.OPS.rectangle:a=t[c++],o=t[c++];var d=t[c++],h=t[c++],f=a+d,p=o+h;l.push("M",s(a),s(o),"L",s(f),s(o),"L",s(f),s(p),"L",s(a),s(p),"Z");break;case i.OPS.moveTo:a=t[c++],o=t[c++],l.push("M",s(a),s(o));break;case i.OPS.lineTo:a=t[c++],o=t[c++],l.push("L",s(a),s(o));break;case i.OPS.curveTo:a=t[c+4],o=t[c+5],l.push("C",s(t[c]),s(t[c+1]),s(t[c+2]),s(t[c+3]),s(a),s(o)),c+=6;break;case i.OPS.curveTo2:l.push("C",s(a),s(o),s(t[c]),s(t[c+1]),s(t[c+2]),s(t[c+3])),a=t[c+2],o=t[c+3],c+=4;break;case i.OPS.curveTo3:a=t[c+2],o=t[c+3],l.push("C",s(t[c]),s(t[c+1]),s(a),s(o),s(a),s(o)),c+=4;break;case i.OPS.closePath:l.push("Z")}}catch(v){u.e(v)}finally{u.f()}l=l.join(" "),r.path&&e.length>0&&e[0]!==i.OPS.rectangle&&e[0]!==i.OPS.moveTo?l=r.path.getAttributeNS(null,"d")+l:(r.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(r.path)),r.path.setAttributeNS(null,"d",l),r.path.setAttributeNS(null,"fill","none"),r.element=r.path,r.setCurrentPoint(a,o)}},{key:"endPath",value:function(){var e=this.current;if(e.path=null,this.pendingClip)if(e.element){var t="clippath".concat(v++),n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",t),n.setAttributeNS(null,"transform",l(this.transformMatrix));var r=e.element.cloneNode(!0);if("evenodd"===this.pendingClip?r.setAttributeNS(null,"clip-rule","evenodd"):r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.append(r),this.defs.append(n),e.activeClipUrl){e.clipGroup=null;var i,a=_createForOfIteratorHelper(this.extraStack);try{for(a.s();!(i=a.n()).done;)i.value.clipGroup=null}catch(o){a.e(o)}finally{a.f()}n.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl="url(#".concat(t,")"),this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function(e){this.pendingClip=e}},{key:"closePath",value:function(){var e=this.current;if(e.path){var t="".concat(e.path.getAttributeNS(null,"d"),"Z");e.path.setAttributeNS(null,"d",t)}}},{key:"setLeading",value:function(e){this.current.leading=-e}},{key:"setTextRise",value:function(e){this.current.textRise=e}},{key:"setTextRenderingMode",value:function(e){this.current.textRenderingMode=e}},{key:"setHScale",value:function(e){this.current.textHScale=e/100}},{key:"setRenderingIntent",value:function(e){}},{key:"setFlatness",value:function(e){}},{key:"setGState",value:function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=_slicedToArray(t.value,2),a=r[0],o=r[1];switch(a){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o);break;case"CA":this.setStrokeAlpha(o);break;case"ca":this.setFillAlpha(o);break;default:(0,i.warn)("Unimplemented graphic state operator ".concat(a))}}}catch(s){n.e(s)}finally{n.f()}}},{key:"fill",value:function(){var e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.current,r=n.dashArray;1!==t&&r.length>0&&(r=r.map((function(e){return t*e}))),e.setAttributeNS(null,"stroke",n.strokeColor),e.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",s(n.miterLimit)),e.setAttributeNS(null,"stroke-linecap",n.lineCap),e.setAttributeNS(null,"stroke-linejoin",n.lineJoin),e.setAttributeNS(null,"stroke-width",s(t*n.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",r.map(s).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",s(t*n.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(e)}},{key:"paintImageXObject",value:function(e){var t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,i.warn)("Dependent image with object ID ".concat(e," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(e,t){var n=e.width,r=e.height,i=f(e,this.forceDataSchema,!!t),a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",s(n)),a.setAttributeNS(null,"height",s(r)),this.current.element=a,this.clip("nonzero");var o=this.svgFactory.createElement("svg:image");o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i),o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y",s(-r)),o.setAttributeNS(null,"width",s(n)+"px"),o.setAttributeNS(null,"height",s(r)+"px"),o.setAttributeNS(null,"transform","scale(".concat(s(1/n)," ").concat(s(-1/r),")")),t?t.append(o):this._ensureTransformGroup().append(o)}},{key:"paintImageMaskXObject",value:function(e){var t=this.current,n=e.width,r=e.height,i=t.fillColor;t.maskId="mask".concat(m++);var a=this.svgFactory.createElement("svg:mask");a.setAttributeNS(null,"id",t.maskId);var o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",s(n)),o.setAttributeNS(null,"height",s(r)),o.setAttributeNS(null,"fill",i),o.setAttributeNS(null,"mask","url(#".concat(t.maskId,")")),this.defs.append(a),this._ensureTransformGroup().append(o),this.paintInlineImageXObject(e,a)}},{key:"paintFormXObjectBegin",value:function(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){var n=t[2]-t[0],r=t[3]-t[1],i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x",t[0]),i.setAttributeNS(null,"y",t[1]),i.setAttributeNS(null,"width",s(n)),i.setAttributeNS(null,"height",s(r)),this.current.element=i,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(e){var t=this.svgFactory.create(e.width,e.height),n=this.svgFactory.createElement("svg:defs");t.append(n),this.defs=n;var r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",l(e.transform)),t.append(r),this.svg=r,t}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(e),this.current.clipGroup=e}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",l(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var r=n(1),i=n(33),a=__webpack_require__(172),o=__webpack_require__(2001),s=__webpack_require__(3779),l=__webpack_require__(6558),c=/^file:\/\/\/[a-zA-Z]:\//,u=function(){function e(t){_classCallCheck(this,e),this.source=t,this.url=function(e){var t=l.parse(e);return"file:"===t.protocol||t.host?t:/^[a-z]:[/\\]/i.test(e)?l.parse("file:///".concat(e)):(t.host||(t.protocol="file:"),t)}(t.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(e,[{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"getFullReader",value:function(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new m(this):new p(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=this.isFsUrl?new g(this,e,t):new v(this,e,t);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);var t,n=_createForOfIteratorHelper(this._rangeRequestReaders.slice(0));try{for(n.s();!(t=n.n()).done;)t.value.cancel(e)}catch(r){n.e(r)}finally{n.f()}}}]),e}();t.PDFNodeStream=u;var d=function(){function e(t){_classCallCheck(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;var n=t.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._headersCapability=(0,r.createPromiseCapability)()}return _createClass(e,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(null!==(t=this._readableStream.read())){e.next=10;break}return this._readCapability=(0,r.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),n=new Uint8Array(t).buffer,e.abrupt("return",{value:n,done:!1});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",(function(){t._readCapability.resolve()})),e.on("end",(function(){e.destroy(),t._done=!0,t._readCapability.resolve()})),e.on("error",(function(e){t._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),e}(),h=function(){function e(t){_classCallCheck(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)();var n=t.source;this._isStreamingSupported=!n.disableStream}return _createClass(e,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(null!==(t=this._readableStream.read())){e.next=10;break}return this._readCapability=(0,r.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),n=new Uint8Array(t).buffer,e.abrupt("return",{value:n,done:!1});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",(function(){t._readCapability.resolve()})),e.on("end",(function(){e.destroy(),t._done=!0,t._readCapability.resolve()})),e.on("error",(function(e){t._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}]),e}();function f(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}var p=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var a;_classCallCheck(this,n);var l=function(t){if(404===t.statusCode){var n=new r.MissingPDFException('Missing PDF "'.concat(a._url,'".'));return a._storedError=n,void a._headersCapability.reject(n)}a._headersCapability.resolve(),a._setReadableStream(t);var o=function(e){return a._readableStream.headers[e.toLowerCase()]},s=(0,i.validateRangeRequestCapabilities)({getResponseHeader:o,isHttp:e.isHttp,rangeChunkSize:a._rangeChunkSize,disableRange:a._disableRange}),l=s.allowRangeRequests,c=s.suggestedLength;a._isRangeSupported=l,a._contentLength=c||a._contentLength,a._filename=(0,i.extractFilenameFromHeader)(o)};return(a=t.call(this,e))._request=null,"http:"===a._url.protocol?a._request=o.request(f(a._url,e.httpHeaders),l):a._request=s.request(f(a._url,e.httpHeaders),l),a._request.on("error",(function(e){a._storedError=e,a._headersCapability.reject(e)})),a._request.end(),a}return _createClass(n)}(d),v=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var l;for(var c in _classCallCheck(this,n),(l=t.call(this,e))._httpHeaders={},e.httpHeaders){var u=e.httpHeaders[c];"undefined"!==typeof u&&(l._httpHeaders[c]=u)}l._httpHeaders.Range="bytes=".concat(i,"-").concat(a-1);var d=function(e){if(404!==e.statusCode)l._setReadableStream(e);else{var t=new r.MissingPDFException('Missing PDF "'.concat(l._url,'".'));l._storedError=t}};return l._request=null,"http:"===l._url.protocol?l._request=o.request(f(l._url,l._httpHeaders),d):l._request=s.request(f(l._url,l._httpHeaders),d),l._request.on("error",(function(e){l._storedError=e})),l._request.end(),l}return _createClass(n)}(h),m=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;_classCallCheck(this,n),i=t.call(this,e);var o=decodeURIComponent(i._url.path);return c.test(i._url.href)&&(o=o.replace(/^\//,"")),a.lstat(o,(function(e,t){if(e)return"ENOENT"===e.code&&(e=new r.MissingPDFException('Missing PDF "'.concat(o,'".'))),i._storedError=e,void i._headersCapability.reject(e);i._contentLength=t.size,i._setReadableStream(a.createReadStream(o)),i._headersCapability.resolve()})),i}return _createClass(n)}(d),g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;_classCallCheck(this,n),o=t.call(this,e);var s=decodeURIComponent(o._url.path);return c.test(o._url.href)&&(s=s.replace(/^\//,"")),o._setReadableStream(a.createReadStream(s,{start:r,end:i-1})),o}return _createClass(n)}(h)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){return 404===e||0===e&&t.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+t+'".'):new r.UnexpectedResponseException("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e)},t.extractFilenameFromHeader=function(e){var t=e("Content-Disposition");if(t){var n=(0,i.getFilenameFromContentDispositionHeader)(t);if(n.includes("%"))try{n=decodeURIComponent(n)}catch(r){}if((0,a.isPdfFile)(n))return n}return null},t.validateRangeRequestCapabilities=function(e){var t=e.getResponseHeader,n=e.isHttp,r=e.rangeChunkSize,i=e.disableRange,a={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(t("Content-Length"),10);return Number.isInteger(o)?(a.suggestedLength=o,o<=2*r||i||!n||"bytes"!==t("Accept-Ranges")||"identity"!==(t("Content-Encoding")||"identity")||(a.allowRangeRequests=!0),a):a},t.validateResponseStatus=function(e){return 200===e||206===e};var r=n(1),i=n(34),a=n(8)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){var t=!0,n=o("filename\\*","i").exec(e);if(n){var i=c(n=n[1]);return l(i=d(i=u(i=unescape(i))))}if(n=function(e){for(var t,n=[],r=o("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(t=r.exec(e));){var i=_slicedToArray(t,4),a=i[1],s=i[2],l=i[3];if((a=parseInt(a,10))in n){if(0===a)break}else n[a]=[s,l]}for(var d=[],h=0;h<n.length&&h in n;++h){var f=_slicedToArray(n[h],2),p=f[0],v=f[1];v=c(v),p&&(v=unescape(v),0===h&&(v=u(v))),d.push(v)}return d.join("")}(e))return l(d(n));if(n=o("filename","i").exec(e)){var a=c(n=n[1]);return l(a=d(a))}function o(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function s(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{var i=new TextDecoder(e,{fatal:!0}),a=(0,r.stringToBytes)(n);n=i.decode(a),t=!1}catch(o){}}return n}function l(e){return t&&/[\x80-\xff]/.test(e)&&(e=s("utf-8",e),t&&(e=s("iso-8859-1",e))),e}function c(e){if(e.startsWith('"')){for(var t=e.slice(1).split('\\"'),n=0;n<t.length;++n){var r=t[n].indexOf('"');-1!==r&&(t[n]=t[n].slice(0,r),t.length=n+1),t[n]=t[n].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function u(e){var t=e.indexOf("'");return-1===t?e:s(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function d(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,r){if("q"===n||"Q"===n)return s(t,r=(r=r.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{r=atob(r)}catch(i){}return s(t,r)}))}return""};var r=n(1)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var r=n(1),i=n(33),a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&n.httpHeaders||Object.create(null),this.withCredentials=n.withCredentials||!1,this.getXhr=n.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return _createClass(e,[{key:"requestRange",value:function(e,t,n){var r={begin:e,end:t};for(var i in n)r[i]=n[i];return this.request(r)}},{key:"requestFull",value:function(e){return this.request(e)}},{key:"request",value:function(e){var t=this.getXhr(),n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};for(var i in t.open("GET",this.url),t.withCredentials=this.withCredentials,this.httpHeaders){var a=this.httpHeaders[i];"undefined"!==typeof a&&t.setRequestHeader(i,a)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}},{key:"onProgress",value:function(e,t){var n,r=this.pendingRequests[e];r&&(null===(n=r.onProgress)||void 0===n||n.call(r,t))}},{key:"onStateChange",value:function(e,t){var n=this.pendingRequests[e];if(n){var i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4===i.readyState&&e in this.pendingRequests)if(delete this.pendingRequests[e],0===i.status&&this.isHttp){var a;null===(a=n.onError)||void 0===a||a.call(n,i.status)}else{var o=i.status||200;if(200===o&&206===n.expectedStatus||o===n.expectedStatus){var s=function(e){var t=e.response;return"string"!==typeof t?t:(0,r.stringToBytes)(t).buffer}(i);if(206===o){var l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);n.onDone({begin:parseInt(c[1],10),chunk:s})}else if(s)n.onDone({begin:0,chunk:s});else{var u;null===(u=n.onError)||void 0===u||u.call(n,i.status)}}else{var d;null===(d=n.onError)||void 0===d||d.call(n,i.status)}}}}},{key:"getRequestXhr",value:function(e){return this.pendingRequests[e].xhr}},{key:"isPendingRequest",value:function(e){return e in this.pendingRequests}},{key:"abortRequest",value:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}]),e}(),o=function(){function e(t){_classCallCheck(this,e),this._source=t,this._manager=new a(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(e,[{key:"_onRangeRequestReaderClosed",value:function(e){var t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}},{key:"getFullReader",value:function(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new s(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){var n=new l(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);var n,r=_createForOfIteratorHelper(this._rangeRequestReaders.slice(0));try{for(r.s();!(n=r.n()).done;)n.value.cancel(e)}catch(i){r.e(i)}finally{r.f()}}}]),e}();t.PDFNetworkStream=o;var s=function(){function e(t,n){_classCallCheck(this,e),this._manager=t;var i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=t.requestFull(i),this._headersReceivedCapability=(0,r.createPromiseCapability)(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return _createClass(e,[{key:"_onHeadersReceived",value:function(){var e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=function(e){return t.getResponseHeader(e)},r=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),a=r.allowRangeRequests,o=r.suggestedLength;a&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){var t,n=_createForOfIteratorHelper(this._requests);try{for(n.s();!(t=n.n()).done;)t.value.resolve({value:void 0,done:!0})}catch(r){n.e(r)}finally{n.f()}this._requests.length=0}}},{key:"_onError",value:function(e){this._storedError=(0,i.createResponseStatusError)(e,this._url),this._headersReceivedCapability.reject(this._storedError);var t,n=_createForOfIteratorHelper(this._requests);try{for(n.s();!(t=n.n()).done;)t.value.reject(this._storedError)}catch(r){n.e(r)}finally{n.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(e){var t;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._storedError){e.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){e.next=5;break}return t=this._cachedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 5:if(!this._done){e.next=7;break}return e.abrupt("return",{value:void 0,done:!0});case 7:return n=(0,r.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._done=!0,this._headersReceivedCapability.reject(e);var t,n=_createForOfIteratorHelper(this._requests);try{for(n.s();!(t=n.n()).done;)t.value.resolve({value:void 0,done:!0})}catch(r){n.e(r)}finally{n.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),e}(),l=function(){function e(t,n,r){_classCallCheck(this,e),this._manager=t;var i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(n,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}return _createClass(e,[{key:"_close",value:function(){var e;null===(e=this.onClosed)||void 0===e||e.call(this,this)}},{key:"_onDone",value:function(e){var t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;var n,r=_createForOfIteratorHelper(this._requests);try{for(r.s();!(n=r.n()).done;)n.value.resolve({value:void 0,done:!0})}catch(i){r.e(i)}finally{r.f()}this._requests.length=0,this._close()}},{key:"_onError",value:function(e){this._storedError=(0,i.createResponseStatusError)(e,this._url);var t,n=_createForOfIteratorHelper(this._requests);try{for(n.s();!(t=n.n()).done;)t.value.reject(this._storedError)}catch(r){n.e(r)}finally{n.f()}this._requests.length=0,this._queuedChunk=null}},{key:"_onProgress",value:function(e){var t;this.isStreamingSupported||null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded})}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._storedError){e.next=2;break}throw this._storedError;case 2:if(null===this._queuedChunk){e.next=6;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 6:if(!this._done){e.next=8;break}return e.abrupt("return",{value:void 0,done:!0});case 8:return n=(0,r.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._done=!0;var t,n=_createForOfIteratorHelper(this._requests);try{for(n.s();!(t=n.n()).done;)t.value.resolve({value:void 0,done:!0})}catch(r){n.e(r)}finally{n.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var r=n(1),i=n(33);function a(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function o(e){var t=new Headers;for(var n in e){var r=e[n];"undefined"!==typeof r&&t.append(n,r)}return t}var s=function(){function e(t){_classCallCheck(this,e),this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(e,[{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"getFullReader",value:function(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new l(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=new c(this,e,t);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);var t,n=_createForOfIteratorHelper(this._rangeRequestReaders.slice(0));try{for(n.s();!(t=n.n()).done;)t.value.cancel(e)}catch(r){n.e(r)}finally{n.f()}}}]),e}();t.PDFFetchStream=s;var l=function(){function e(t){var n=this;_classCallCheck(this,e),this._stream=t,this._reader=null,this._loaded=0,this._filename=null;var s=t.source;this._withCredentials=s.withCredentials||!1,this._contentLength=s.length,this._headersCapability=(0,r.createPromiseCapability)(),this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._headers=o(this._stream.httpHeaders);var l=s.url;fetch(l,a(this._headers,this._withCredentials,this._abortController)).then((function(e){if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,l);n._reader=e.body.getReader(),n._headersCapability.resolve();var t=function(t){return e.headers.get(t)},a=(0,i.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:n._stream.isHttp,rangeChunkSize:n._rangeChunkSize,disableRange:n._disableRange}),o=a.allowRangeRequests,s=a.suggestedLength;n._isRangeSupported=o,n._contentLength=s||n._contentLength,n._filename=(0,i.extractFilenameFromHeader)(t),!n._isStreamingSupported&&n._isRangeSupported&&n.cancel(new r.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}return _createClass(e,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._headersCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(t=e.sent,n=t.value,!(r=t.done)){e.next=9;break}return e.abrupt("return",{value:n,done:r});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),i=new Uint8Array(n).buffer,e.abrupt("return",{value:i,done:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController.abort()}}]),e}(),c=function(){function e(t,n,s){var l=this;_classCallCheck(this,e),this._stream=t,this._reader=null,this._loaded=0;var c=t.source;this._withCredentials=c.withCredentials||!1,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!c.disableStream,this._abortController=new AbortController,this._headers=o(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(n,"-").concat(s-1));var u=c.url;fetch(u,a(this._headers,this._withCredentials,this._abortController)).then((function(e){if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,u);l._readCapability.resolve(),l._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}return _createClass(e,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(t=e.sent,n=t.value,!(r=t.done)){e.next=9;break}return e.abrupt("return",{value:n,done:r});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),i=new Uint8Array(n).buffer,e.abrupt("return",{value:i,done:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController.abort()}}]),e}()}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__w_pdfjs_require__),n.exports}var __webpack_exports__={};return function(){var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return i.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return a.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return o.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return s.GlobalWorkerOptions}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"LoopbackPort",{enumerable:!0,get:function(){return n.LoopbackPort}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return u.SVGGraphics}}),Object.defineProperty(e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return t.UNSUPPORTED_FEATURES}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return d.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(e,"createPromiseCapability",{enumerable:!0,get:function(){return t.createPromiseCapability}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return n.version}});var t=__w_pdfjs_require__(1),n=__w_pdfjs_require__(4),r=__w_pdfjs_require__(8),i=__w_pdfjs_require__(22),a=__w_pdfjs_require__(7),o=__w_pdfjs_require__(27),s=__w_pdfjs_require__(15),l=__w_pdfjs_require__(3),c=__w_pdfjs_require__(30),u=__w_pdfjs_require__(31),d=__w_pdfjs_require__(29);if(l.isNodeJS){var h=__w_pdfjs_require__(32).PDFNodeStream;(0,n.setPDFNetworkStreamFactory)((function(e){return new h(e)}))}else{var f=__w_pdfjs_require__(35).PDFNetworkStream,p=__w_pdfjs_require__(36).PDFFetchStream;(0,n.setPDFNetworkStreamFactory)((function(e){return(0,r.isValidFetchUrl)(e.url)?new p(e):new f(e)}))}}(),__webpack_exports__}()},module.exports=factory()},3573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}))};var r,i=n(6054),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},6054:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var s=i||"<<anonymous>>",l=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+l+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,u=Array(c>6?c-6:0),d=6;d<c;d++)u[d-6]=arguments[d];return e.apply(void 0,[n,r,s,a,l].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4424:function(e,t,n){"use strict";var r=n(1725),i=n(2791);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o="function"===typeof Symbol&&Symbol.for,s=o?Symbol.for("react.portal"):60106,l=o?Symbol.for("react.fragment"):60107,c=o?Symbol.for("react.strict_mode"):60108,u=o?Symbol.for("react.profiler"):60114,d=o?Symbol.for("react.provider"):60109,h=o?Symbol.for("react.context"):60110,f=o?Symbol.for("react.concurrent_mode"):60111,p=o?Symbol.for("react.forward_ref"):60112,v=o?Symbol.for("react.suspense"):60113,m=o?Symbol.for("react.suspense_list"):60120,g=o?Symbol.for("react.memo"):60115,y=o?Symbol.for("react.lazy"):60116,b=o?Symbol.for("react.block"):60121,_=o?Symbol.for("react.fundamental"):60117,x=o?Symbol.for("react.scope"):60119;function w(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case l:return"Fragment";case s:return"Portal";case u:return"Profiler";case c:return"StrictMode";case v:return"Suspense";case m:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case h:return"Context.Consumer";case d:return"Context.Provider";case p:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case g:return w(e.type);case b:return w(e.render);case y:if(e=1===e._status?e._result:null)return w(e)}return null}var S=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;S.hasOwnProperty("ReactCurrentDispatcher")||(S.ReactCurrentDispatcher={current:null}),S.hasOwnProperty("ReactCurrentBatchConfig")||(S.ReactCurrentBatchConfig={suspense:null});var k={};function E(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}for(var M=new Uint16Array(16),T=0;15>T;T++)M[T]=T+1;M[15]=0;var P=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A=Object.prototype.hasOwnProperty,C={},R={};function O(e){return!!A.call(R,e)||!A.call(C,e)&&(P.test(e)?R[e]=!0:(C[e]=!0,!1))}function L(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){F[e]=new L(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];F[t]=new L(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){F[e]=new L(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){F[e]=new L(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){F[e]=new L(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){F[e]=new L(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){F[e]=new L(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){F[e]=new L(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){F[e]=new L(e,5,!1,e.toLowerCase(),null,!1)}));var I=/[\-:]([a-z])/g;function N(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(I,N);F[t]=new L(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(I,N);F[t]=new L(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(I,N);F[t]=new L(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){F[e]=new L(e,1,!1,e.toLowerCase(),null,!1)})),F.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){F[e]=new L(e,1,!1,e.toLowerCase(),null,!0)}));var D=/["'&<>]/;function j(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=D.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}function z(e,t){var n,r=F.hasOwnProperty(e)?F[e]:null;return(n="style"!==e)&&(n=null!==r?0===r.type:2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])),n||function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(e,t,r,!1)?"":null!==r?(e=r.attributeName,3===(n=r.type)||4===n&&!0===t?e+'=""':(r.sanitizeURL&&(t=""+t),e+'="'+j(t)+'"')):O(e)?e+'="'+j(t)+'"':""}var H="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},B=null,U=null,G=null,W=!1,V=!1,q=null,X=0;function Y(){if(null===B)throw Error(a(321));return B}function K(){if(0<X)throw Error(a(312));return{memoizedState:null,queue:null,next:null}}function J(){return null===G?null===U?(W=!1,U=G=K()):(W=!0,G=U):null===G.next?(W=!1,G=G.next=K()):(W=!0,G=G.next),G}function Z(e,t,n,r){for(;V;)V=!1,X+=1,G=null,n=e(t,r);return U=B=null,X=0,G=q=null,n}function Q(e,t){return"function"===typeof t?t(e):t}function $(e,t,n){if(B=Y(),G=J(),W){var r=G.queue;if(t=r.dispatch,null!==q&&void 0!==(n=q.get(r))){q.delete(r),r=G.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return G.memoizedState=r,[r,t]}return[G.memoizedState,t]}return e=e===Q?"function"===typeof t?t():t:void 0!==n?n(t):t,G.memoizedState=e,e=(e=G.queue={last:null,dispatch:null}).dispatch=ee.bind(null,B,e),[G.memoizedState,e]}function ee(e,t,n){if(!(25>X))throw Error(a(301));if(e===B)if(V=!0,e={action:n,next:null},null===q&&(q=new Map),void 0===(n=q.get(t)))q.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function te(){}var ne=0,re={readContext:function(e){var t=ne;return E(e,t),e[t]},useContext:function(e){Y();var t=ne;return E(e,t),e[t]},useMemo:function(e,t){if(B=Y(),t=void 0===t?null:t,null!==(G=J())){var n=G.memoizedState;if(null!==n&&null!==t){e:{var r=n[1];if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!H(t[i],r[i])){r=!1;break e}r=!0}}if(r)return n[0]}}return e=e(),G.memoizedState=[e,t],e},useReducer:$,useRef:function(e){B=Y();var t=(G=J()).memoizedState;return null===t?(e={current:e},G.memoizedState=e):t},useState:function(e){return $(Q,e)},useLayoutEffect:function(){},useCallback:function(e){return e},useImperativeHandle:te,useEffect:te,useDebugValue:te,useResponder:function(e,t){return{props:t,responder:e}},useDeferredValue:function(e){return Y(),e},useTransition:function(){return Y(),[function(e){e()},!1]}},ie={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var oe={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},se=r({menuitem:!0},oe),le={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ce=["Webkit","ms","Moz","O"];Object.keys(le).forEach((function(e){ce.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),le[t]=le[e]}))}));var ue=/([A-Z])/g,de=/^ms-/,he=i.Children.toArray,fe=S.ReactCurrentDispatcher,pe={listing:!0,pre:!0,textarea:!0},ve=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,me={},ge={};var ye=Object.prototype.hasOwnProperty,be={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function _e(e,t){if(void 0===e)throw Error(a(152,w(t)||"Component"))}function xe(e,t,n){function o(i,o){var s=o.prototype&&o.prototype.isReactComponent,l=function(e,t,n,r){if(r&&"object"===typeof(r=e.contextType)&&null!==r)return E(r,n),r[n];if(e=e.contextTypes){for(var i in n={},e)n[i]=t[i];t=n}else t=k;return t}(o,t,n,s),c=[],u=!1,d={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===c)return null},enqueueReplaceState:function(e,t){u=!0,c=[t]},enqueueSetState:function(e,t){if(null===c)return null;c.push(t)}};if(s){if(s=new o(i.props,l,d),"function"===typeof o.getDerivedStateFromProps){var h=o.getDerivedStateFromProps.call(null,i.props,s.state);null!=h&&(s.state=r({},s.state,h))}}else if(B={},s=o(i.props,l,d),null==(s=Z(o,i.props,s,l))||null==s.render)return void _e(e=s,o);if(s.props=i.props,s.context=l,s.updater=d,void 0===(d=s.state)&&(s.state=d=null),"function"===typeof s.UNSAFE_componentWillMount||"function"===typeof s.componentWillMount)if("function"===typeof s.componentWillMount&&"function"!==typeof o.getDerivedStateFromProps&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&"function"!==typeof o.getDerivedStateFromProps&&s.UNSAFE_componentWillMount(),c.length){d=c;var f=u;if(c=null,u=!1,f&&1===d.length)s.state=d[0];else{h=f?d[0]:s.state;var p=!0;for(f=f?1:0;f<d.length;f++){var v=d[f];null!=(v="function"===typeof v?v.call(s,h,i.props,l):v)&&(p?(p=!1,h=r({},h,v)):r(h,v))}s.state=h}}else c=null;if(_e(e=s.render(),o),"function"===typeof s.getChildContext&&"object"===typeof(i=o.childContextTypes)){var m=s.getChildContext();for(var g in m)if(!(g in i))throw Error(a(108,w(o)||"Unknown",g))}m&&(t=r({},t,m))}for(;i.isValidElement(e);){var s=e,l=s.type;if("function"!==typeof l)break;o(s,l)}return{child:e,context:t}}var we=function(){function e(e,t){i.isValidElement(e)?e.type!==l?e=[e]:(e=e.props.children,e=i.isValidElement(e)?[e]:he(e)):e=he(e),e={type:null,domNamespace:ie.html,children:e,childIndex:0,context:k,footer:""};var n=M[0];if(0===n){var r=M,o=2*(n=r.length);if(!(65536>=o))throw Error(a(304));var s=new Uint16Array(o);for(s.set(r),(M=s)[0]=n+1,r=n;r<o-1;r++)M[r]=r+1;M[o-1]=0}else M[0]=M[n];this.threadID=n,this.stack=[e],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=t,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}var t=e.prototype;return t.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;M[e]=M[0],M[0]=e}},t.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=this.threadID;E(n,r);var i=n[r];this.contextStack[t]=n,this.contextValueStack[t]=i,n[r]=e.props.value},t.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=n},t.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},t.read=function(e){if(this.exhausted)return null;var t=ne;ne=this.threadID;var n=fe.current;fe.current=re;try{for(var r=[""],i=!1;r[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var o=this.threadID;M[o]=M[0],M[0]=o;break}var s=this.stack[this.stack.length-1];if(i||s.childIndex>=s.children.length){var l=s.footer;if(""!==l&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===s.type)this.currentSelectValue=null;else if(null!=s.type&&null!=s.type.type&&s.type.type.$$typeof===d)this.popProvider(s.type);else if(s.type===v){this.suspenseDepth--;var c=r.pop();if(i){i=!1;var u=s.fallbackFrame;if(!u)throw Error(a(303));this.stack.push(u),r[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}r[this.suspenseDepth]+=c}r[this.suspenseDepth]+=l}else{var h=s.children[s.childIndex++],f="";try{f+=this.render(h,s.context,s.domNamespace)}catch(p){if(null!=p&&"function"===typeof p.then)throw Error(a(294));throw p}r.length<=this.suspenseDepth&&r.push(""),r[this.suspenseDepth]+=f}}return r[0]}finally{fe.current=n,ne=t}},t.render=function(e,t,n){if("string"===typeof e||"number"===typeof e)return""===(n=""+e)?"":this.makeStaticMarkup?j(n):this.previousWasTextNode?"\x3c!-- --\x3e"+j(n):(this.previousWasTextNode=!0,j(n));if(e=(t=xe(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!i.isValidElement(e)){if(null!=e&&null!=e.$$typeof){if((n=e.$$typeof)===s)throw Error(a(257));throw Error(a(258,n.toString()))}return e=he(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}var o=e.type;if("string"===typeof o)return this.renderDOM(e,t,n);switch(o){case c:case f:case u:case m:case l:return e=he(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case v:throw Error(a(294))}if("object"===typeof o&&null!==o)switch(o.$$typeof){case p:B={};var b=o.render(e.props,e.ref);return b=Z(o.render,e.props,b,e.ref),b=he(b),this.stack.push({type:null,domNamespace:n,children:b,childIndex:0,context:t,footer:""}),"";case g:return e=[i.createElement(o.type,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case d:return n={type:e,domNamespace:n,children:o=he(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case h:o=e.type,b=e.props;var w=this.threadID;return E(o,w),o=he(b.children(o[w])),this.stack.push({type:e,domNamespace:n,children:o,childIndex:0,context:t,footer:""}),"";case _:throw Error(a(338));case y:switch(function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(o=e.type),o._status){case 1:return e=[i.createElement(o._result,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case 2:throw o._result;default:throw Error(a(295))}case x:throw Error(a(343))}throw Error(a(130,null==o?o:typeof o,""))},t.renderDOM=function(e,t,n){var o=e.type.toLowerCase();if(n===ie.html&&ae(o),!me.hasOwnProperty(o)){if(!ve.test(o))throw Error(a(65,o));me[o]=!0}var s=e.props;if("input"===o)s=r({type:void 0},s,{defaultChecked:void 0,defaultValue:void 0,value:null!=s.value?s.value:s.defaultValue,checked:null!=s.checked?s.checked:s.defaultChecked});else if("textarea"===o){var l=s.value;if(null==l){l=s.defaultValue;var c=s.children;if(null!=c){if(null!=l)throw Error(a(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(a(93));c=c[0]}l=""+c}null==l&&(l="")}s=r({},s,{value:void 0,children:""+l})}else if("select"===o)this.currentSelectValue=null!=s.value?s.value:s.defaultValue,s=r({},s,{value:void 0});else if("option"===o){c=this.currentSelectValue;var u=function(e){if(void 0===e||null===e)return e;var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(s.children);if(null!=c){var d=null!=s.value?s.value+"":u;if(l=!1,Array.isArray(c)){for(var h=0;h<c.length;h++)if(""+c[h]===d){l=!0;break}}else l=""+c===d;s=r({selected:void 0,children:void 0},s,{selected:l,children:u})}}if(l=s){if(se[o]&&(null!=l.children||null!=l.dangerouslySetInnerHTML))throw Error(a(137,o,""));if(null!=l.dangerouslySetInnerHTML){if(null!=l.children)throw Error(a(60));if("object"!==typeof l.dangerouslySetInnerHTML||!("__html"in l.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=l.style&&"object"!==typeof l.style)throw Error(a(62,""))}for(_ in l=s,c=this.makeStaticMarkup,u=1===this.stack.length,d="<"+e.type,l)if(ye.call(l,_)){var f=l[_];if(null!=f){if("style"===_){h=void 0;var p="",v="";for(h in f)if(f.hasOwnProperty(h)){var m=0===h.indexOf("--"),g=f[h];if(null!=g){if(m)var y=h;else if(y=h,ge.hasOwnProperty(y))y=ge[y];else{var b=y.replace(ue,"-$1").toLowerCase().replace(de,"-ms-");y=ge[y]=b}p+=v+y+":",v=h,p+=m=null==g||"boolean"===typeof g||""===g?"":m||"number"!==typeof g||0===g||le.hasOwnProperty(v)&&le[v]?(""+g).trim():g+"px",v=";"}}f=p||null}h=null;e:if(m=o,g=l,-1===m.indexOf("-"))m="string"===typeof g.is;else switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":m=!1;break e;default:m=!0}m?be.hasOwnProperty(_)||(h=O(h=_)&&null!=f?h+'="'+j(f)+'"':""):h=z(_,f),h&&(d+=" "+h)}}c||u&&(d+=' data-reactroot=""');var _=d;l="",oe.hasOwnProperty(o)?_+="/>":(_+=">",l="</"+e.type+">");e:{if(null!=(c=s.dangerouslySetInnerHTML)){if(null!=c.__html){c=c.__html;break e}}else if("string"===typeof(c=s.children)||"number"===typeof c){c=j(c);break e}c=null}return null!=c?(s=[],pe.hasOwnProperty(o)&&"\n"===c.charAt(0)&&(_+="\n"),_+=c):s=he(s.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?ae(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:o,children:s,childIndex:0,context:t,footer:l}),this.previousWasTextNode=!1,_},e}(),Se={renderToString:function(e){e=new we(e,!1);try{return e.read(1/0)}finally{e.destroy()}},renderToStaticMarkup:function(e){e=new we(e,!0);try{return e.read(1/0)}finally{e.destroy()}},renderToNodeStream:function(){throw Error(a(207))},renderToStaticNodeStream:function(){throw Error(a(208))},version:"16.14.0"};e.exports=Se.default||Se},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),a=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function s(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var l=!1,c=null,u=!1,d=null,h={onError:function(e){l=!0,c=e}};function f(e,t,n,r,i,a,o,u,d){l=!1,c=null,s.apply(h,arguments)}var p=null,v=null,m=null;function g(e,t,n){var r=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,r,i,a,s,h,p){if(f.apply(this,arguments),l){if(!l)throw Error(o(198));var v=c;l=!1,c=null,u||(u=!0,d=v)}}(r,t,void 0,e),e.currentTarget=null}var y=null,b={};function _(){if(y)for(var e in b){var t=b[e],n=y.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!w[n]){if(!t.extractEvents)throw Error(o(97,e));for(var r in w[n]=t,n=t.eventTypes){var i=void 0,a=n[r],s=t,l=r;if(S.hasOwnProperty(l))throw Error(o(99,l));S[l]=a;var c=a.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&x(c[i],s,l);i=!0}else a.registrationName?(x(a.registrationName,s,l),i=!0):i=!1;if(!i)throw Error(o(98,r,e))}}}}function x(e,t,n){if(k[e])throw Error(o(100,e));k[e]=t,E[e]=t.eventTypes[n].dependencies}var w=[],S={},k={},E={};function M(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(o(102,t));b[t]=r,n=!0}}n&&_()}var T=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),P=null,A=null,C=null;function R(e){if(e=v(e)){if("function"!==typeof P)throw Error(o(280));var t=e.stateNode;t&&(t=p(t),P(e.stateNode,e.type,t))}}function O(e){A?C?C.push(e):C=[e]:A=e}function L(){if(A){var e=A,t=C;if(C=A=null,R(e),t)for(e=0;e<t.length;e++)R(t[e])}}function F(e,t){return e(t)}function I(e,t,n,r,i){return e(t,n,r,i)}function N(){}var D=F,j=!1,z=!1;function H(){null===A&&null===C||(N(),L())}function B(e,t,n){if(z)return e(t,n);z=!0;try{return D(e,t,n)}finally{z=!1,H()}}var U=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G=Object.prototype.hasOwnProperty,W={},V={};function q(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var X={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){X[e]=new q(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];X[t]=new q(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){X[e]=new q(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){X[e]=new q(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){X[e]=new q(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){X[e]=new q(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){X[e]=new q(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){X[e]=new q(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){X[e]=new q(e,5,!1,e.toLowerCase(),null,!1)}));var Y=/[\-:]([a-z])/g;function K(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Y,K);X[t]=new q(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Y,K);X[t]=new q(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Y,K);X[t]=new q(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){X[e]=new q(e,1,!1,e.toLowerCase(),null,!1)})),X.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){X[e]=new q(e,1,!1,e.toLowerCase(),null,!0)}));var J=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Z(e,t,n,r){var i=X.hasOwnProperty(t)?X[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!G.call(V,e)||!G.call(W,e)&&(U.test(e)?V[e]=!0:(W[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}J.hasOwnProperty("ReactCurrentDispatcher")||(J.ReactCurrentDispatcher={current:null}),J.hasOwnProperty("ReactCurrentBatchConfig")||(J.ReactCurrentBatchConfig={suspense:null});var Q=/^(.*)[\\\/]/,$="function"===typeof Symbol&&Symbol.for,ee=$?Symbol.for("react.element"):60103,te=$?Symbol.for("react.portal"):60106,ne=$?Symbol.for("react.fragment"):60107,re=$?Symbol.for("react.strict_mode"):60108,ie=$?Symbol.for("react.profiler"):60114,ae=$?Symbol.for("react.provider"):60109,oe=$?Symbol.for("react.context"):60110,se=$?Symbol.for("react.concurrent_mode"):60111,le=$?Symbol.for("react.forward_ref"):60112,ce=$?Symbol.for("react.suspense"):60113,ue=$?Symbol.for("react.suspense_list"):60120,de=$?Symbol.for("react.memo"):60115,he=$?Symbol.for("react.lazy"):60116,fe=$?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function ve(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case ue:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return me(e.type);case fe:return me(e.render);case he:if(e=1===e._status?e._result:null)return me(e)}return null}function ge(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=me(e.type);n=null,r&&(n=me(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(Q,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function _e(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function xe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function we(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Se(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ke(e,t){null!=(t=t.checked)&&Z(e,"checked",t,!1)}function Ee(e,t){ke(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Te(e,t.type,n):t.hasOwnProperty("defaultValue")&&Te(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Me(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Te(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Pe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ce(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Oe(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Fe="http://www.w3.org/1999/xhtml",Ie="http://www.w3.org/2000/svg";function Ne(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function De(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ne(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var je,ze,He=(ze=function(e,t){if(e.namespaceURI!==Ie||"innerHTML"in e)e.innerHTML=t;else{for((je=je||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=je.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ze(e,t)}))}:ze);function Be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ue(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ge={animationend:Ue("Animation","AnimationEnd"),animationiteration:Ue("Animation","AnimationIteration"),animationstart:Ue("Animation","AnimationStart"),transitionend:Ue("Transition","TransitionEnd")},We={},Ve={};function qe(e){if(We[e])return We[e];if(!Ge[e])return e;var t,n=Ge[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ve)return We[e]=n[t];return e}T&&(Ve=document.createElement("div").style,"AnimationEvent"in window||(delete Ge.animationend.animation,delete Ge.animationiteration.animation,delete Ge.animationstart.animation),"TransitionEvent"in window||delete Ge.transitionend.transition);var Xe=qe("animationend"),Ye=qe("animationiteration"),Ke=qe("animationstart"),Je=qe("transitionend"),Ze="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qe=new("function"===typeof WeakMap?WeakMap:Map);function $e(e){var t=Qe.get(e);return void 0===t&&(t=new Map,Qe.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(o(188))}function rt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return nt(i),e;if(a===r)return nt(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function at(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function st(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)g(e,t[r],n[r]);else t&&g(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function lt(e){if(null!==e&&(ot=it(ot,e)),e=ot,ot=null,e){if(at(e,st),ot)throw Error(o(95));if(u)throw e=d,u=!1,d=null,e}}function ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!T)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var dt=[];function ht(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>dt.length&&dt.push(e)}function ft(e,t,n,r){if(dt.length){var i=dt.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Ln(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ct(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var s=null,l=0;l<w.length;l++){var c=w[l];c&&(c=c.extractEvents(r,t,a,i,o))&&(s=it(s,c))}lt(s)}}function vt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Kt(t,"scroll",!0);break;case"focus":case"blur":Kt(t,"focus",!0),Kt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ut(e)&&Kt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ze.indexOf(e)&&Yt(e,t)}n.set(e,null)}}var mt,gt,yt,bt=!1,_t=[],xt=null,wt=null,St=null,kt=new Map,Et=new Map,Mt=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Pt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function At(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Ct(e,t){switch(e){case"focus":case"blur":xt=null;break;case"dragenter":case"dragleave":wt=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":kt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function Rt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=At(t,n,r,i,a),null!==t&&(null!==(t=Fn(t))&&gt(t)),e):(e.eventSystemFlags|=r,e)}function Ot(e){var t=Ln(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){yt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Fn(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function Ft(e,t,n){Lt(e)&&n.delete(t)}function It(){for(bt=!1;0<_t.length;){var e=_t[0];if(null!==e.blockedOn){null!==(e=Fn(e.blockedOn))&&mt(e);break}var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:_t.shift()}null!==xt&&Lt(xt)&&(xt=null),null!==wt&&Lt(wt)&&(wt=null),null!==St&&Lt(St)&&(St=null),kt.forEach(Ft),Et.forEach(Ft)}function Nt(e,t){e.blockedOn===t&&(e.blockedOn=null,bt||(bt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,It)))}function Dt(e){function t(t){return Nt(t,e)}if(0<_t.length){Nt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&Nt(xt,e),null!==wt&&Nt(wt,e),null!==St&&Nt(St,e),kt.forEach(t),Et.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Ot(n),null===n.blockedOn&&Mt.shift()}var jt={},zt=new Map,Ht=new Map,Bt=["abort","abort",Xe,"animationEnd",Ye,"animationIteration",Ke,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Je,"transitionEnd","waiting","waiting"];function Ut(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},Ht.set(r,t),zt.set(r,a),jt[i]=a}}Ut("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ut("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ut(Bt,2);for(var Gt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Wt=0;Wt<Gt.length;Wt++)Ht.set(Gt[Wt],0);var Vt=a.unstable_UserBlockingPriority,qt=a.unstable_runWithPriority,Xt=!0;function Yt(e,t){Kt(t,e,!1)}function Kt(e,t,n){var r=Ht.get(t);switch(void 0===r?2:r){case 0:r=Jt.bind(null,t,1,e);break;case 1:r=Zt.bind(null,t,1,e);break;default:r=Qt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Jt(e,t,n,r){j||N();var i=Qt,a=j;j=!0;try{I(i,e,t,n,r)}finally{(j=a)||H()}}function Zt(e,t,n,r){qt(Vt,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){if(Xt)if(0<_t.length&&-1<Tt.indexOf(e))e=At(null,e,t,n,r),_t.push(e);else{var i=$t(e,t,n,r);if(null===i)Ct(e,r);else if(-1<Tt.indexOf(e))e=At(i,e,t,n,r),_t.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return xt=Rt(xt,e,t,n,r,i),!0;case"dragenter":return wt=Rt(wt,e,t,n,r,i),!0;case"mouseover":return St=Rt(St,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return kt.set(a,Rt(kt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Et.set(a,Rt(Et.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Ct(e,r),e=ft(e,r,null,t);try{B(pt,e)}finally{ht(e)}}}}function $t(e,t,n,r){if(null!==(n=Ln(n=ct(r)))){var i=et(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(null!==(n=tt(i)))return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=ft(e,r,n,t);try{B(pt,e)}finally{ht(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var an=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(an[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function sn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ln=Fe;function cn(e,t){var n=$e(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=E[t];for(var r=0;r<t.length;r++)vt(t[r],e,n)}function un(){}function dn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fn(e,t){var n,r=hn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hn(r)}}function pn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vn(){for(var e=window,t=dn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=dn((e=t.contentWindow).document)}return t}function mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gn="$",yn="/$",bn="$?",_n="$!",xn=null,wn=null;function Sn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function kn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var En="function"===typeof setTimeout?setTimeout:void 0,Mn="function"===typeof clearTimeout?clearTimeout:void 0;function Tn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Pn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===gn||n===_n||n===bn){if(0===t)return e;t--}else n===yn&&t++}e=e.previousSibling}return null}var An=Math.random().toString(36).slice(2),Cn="__reactInternalInstance$"+An,Rn="__reactEventHandlers$"+An,On="__reactContainere$"+An;function Ln(e){var t=e[Cn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[On]||n[Cn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Pn(e);null!==e;){if(n=e[Cn])return n;e=Pn(e)}return t}n=(e=n).parentNode}return null}function Fn(e){return!(e=e[Cn]||e[On])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function In(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Nn(e){return e[Rn]||null}function Dn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function jn(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}function zn(e,t,n){(t=jn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Hn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Dn(t);for(t=n.length;0<t--;)zn(n[t],"captured",e);for(t=0;t<n.length;t++)zn(n[t],"bubbled",e)}}function Bn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=jn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Un(e){e&&e.dispatchConfig.registrationName&&Bn(e._targetInst,null,e)}function Gn(e){at(e,Hn)}var Wn=null,Vn=null,qn=null;function Xn(){if(qn)return qn;var e,t,n=Vn,r=n.length,i="value"in Wn?Wn.value:Wn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return qn=i.slice(e,1<t?1-t:void 0)}function Yn(){return!0}function Kn(){return!1}function Jn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Yn:Kn,this.isPropagationStopped=Kn,this}function Zn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Qn(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function $n(e){e.eventPool=[],e.getPooled=Zn,e.release=Qn}i(Jn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){this.isPersistent=Yn},isPersistent:Kn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Kn,this._dispatchInstances=this._dispatchListeners=null}}),Jn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Jn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,$n(n),n},$n(Jn);var er=Jn.extend({data:null}),tr=Jn.extend({data:null}),nr=[9,13,27,32],rr=T&&"CompositionEvent"in window,ir=null;T&&"documentMode"in document&&(ir=document.documentMode);var ar=T&&"TextEvent"in window&&!ir,or=T&&(!rr||ir&&8<ir&&11>=ir),sr=String.fromCharCode(32),lr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},cr=!1;function ur(e,t){switch(e){case"keyup":return-1!==nr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function dr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var hr=!1;var fr={eventTypes:lr,extractEvents:function(e,t,n,r){var i;if(rr)e:{switch(e){case"compositionstart":var a=lr.compositionStart;break e;case"compositionend":a=lr.compositionEnd;break e;case"compositionupdate":a=lr.compositionUpdate;break e}a=void 0}else hr?ur(e,n)&&(a=lr.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=lr.compositionStart);return a?(or&&"ko"!==n.locale&&(hr||a!==lr.compositionStart?a===lr.compositionEnd&&hr&&(i=Xn()):(Vn="value"in(Wn=r)?Wn.value:Wn.textContent,hr=!0)),a=er.getPooled(a,t,n,r),i?a.data=i:null!==(i=dr(n))&&(a.data=i),Gn(a),i=a):i=null,(e=ar?function(e,t){switch(e){case"compositionend":return dr(t);case"keypress":return 32!==t.which?null:(cr=!0,sr);case"textInput":return(e=t.data)===sr&&cr?null:e;default:return null}}(e,n):function(e,t){if(hr)return"compositionend"===e||!rr&&ur(e,t)?(e=Xn(),qn=Vn=Wn=null,hr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return or&&"ko"!==t.locale?null:t.data}}(e,n))?((t=tr.getPooled(lr.beforeInput,t,n,r)).data=e,Gn(t)):t=null,null===i?t:null===t?i:[i,t]}},pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!pr[e.type]:"textarea"===t}var mr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function gr(e,t,n){return(e=Jn.getPooled(mr.change,e,t,n)).type="change",O(n),Gn(e),e}var yr=null,br=null;function _r(e){lt(e)}function xr(e){if(xe(In(e)))return e}function wr(e,t){if("change"===e)return t}var Sr=!1;function kr(){yr&&(yr.detachEvent("onpropertychange",Er),br=yr=null)}function Er(e){if("value"===e.propertyName&&xr(br))if(e=gr(br,e,ct(e)),j)lt(e);else{j=!0;try{F(_r,e)}finally{j=!1,H()}}}function Mr(e,t,n){"focus"===e?(kr(),br=n,(yr=t).attachEvent("onpropertychange",Er)):"blur"===e&&kr()}function Tr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return xr(br)}function Pr(e,t){if("click"===e)return xr(t)}function Ar(e,t){if("input"===e||"change"===e)return xr(t)}T&&(Sr=ut("input")&&(!document.documentMode||9<document.documentMode));var Cr={eventTypes:mr,_isInputEventSupported:Sr,extractEvents:function(e,t,n,r){var i=t?In(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=wr;else if(vr(i))if(Sr)o=Ar;else{o=Tr;var s=Mr}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Pr);if(o&&(o=o(e,t)))return gr(o,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Te(i,"number",i.value)}},Rr=Jn.extend({view:null,detail:null}),Or={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Or[e])&&!!t[e]}function Fr(){return Lr}var Ir=0,Nr=0,Dr=!1,jr=!1,zr=Rr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Fr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ir;return Ir=e.screenX,Dr?"mousemove"===e.type?e.screenX-t:0:(Dr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Nr;return Nr=e.screenY,jr?"mousemove"===e.type?e.screenY-t:0:(jr=!0,0)}}),Hr=zr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Br={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ur={eventTypes:Br,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?Ln(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var s=zr,l=Br.mouseLeave,c=Br.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Hr,l=Br.pointerLeave,c=Br.pointerEnter,u="pointer");if(e=null==o?a:In(o),a=null==t?a:In(t),(l=s.getPooled(l,o,n,r)).type=u+"leave",l.target=e,l.relatedTarget=a,(n=s.getPooled(c,t,n,r)).type=u+"enter",n.target=a,n.relatedTarget=e,u=t,(r=o)&&u)e:{for(c=u,o=0,e=s=r;e;e=Dn(e))o++;for(e=0,t=c;t;t=Dn(t))e++;for(;0<o-e;)s=Dn(s),o--;for(;0<e-o;)c=Dn(c),e--;for(;o--;){if(s===c||s===c.alternate)break e;s=Dn(s),c=Dn(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(o=r.alternate)||o!==c);)s.push(r),r=Dn(r);for(r=[];u&&u!==c&&(null===(o=u.alternate)||o!==c);)r.push(u),u=Dn(u);for(u=0;u<s.length;u++)Bn(s[u],"bubbled",l);for(u=r.length;0<u--;)Bn(r[u],"captured",n);return 0===(64&i)?[l]:[l,n]}};var Gr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Wr=Object.prototype.hasOwnProperty;function Vr(e,t){if(Gr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Wr.call(t,n[r])||!Gr(e[n[r]],t[n[r]]))return!1;return!0}var qr=T&&"documentMode"in document&&11>=document.documentMode,Xr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Yr=null,Kr=null,Jr=null,Zr=!1;function Qr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Zr||null==Yr||Yr!==dn(n)?null:("selectionStart"in(n=Yr)&&mn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Jr&&Vr(Jr,n)?null:(Jr=n,(e=Jn.getPooled(Xr.select,Kr,e,t)).type="select",e.target=Yr,Gn(e),e))}var $r={eventTypes:Xr,extractEvents:function(e,t,n,r,i,a){if(!(a=!(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=$e(i),a=E.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?In(t):window,e){case"focus":(vr(i)||"true"===i.contentEditable)&&(Yr=i,Kr=t,Jr=null);break;case"blur":Jr=Kr=Yr=null;break;case"mousedown":Zr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Zr=!1,Qr(n,r);case"selectionchange":if(qr)break;case"keydown":case"keyup":return Qr(n,r)}return null}},ei=Jn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ti=Jn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ni=Rr.extend({relatedTarget:null});function ri(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ai={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oi=Rr.extend({key:function(e){if(e.key){var t=ii[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ri(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ai[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Fr,charCode:function(e){return"keypress"===e.type?ri(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ri(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),si=zr.extend({dataTransfer:null}),li=Rr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Fr}),ci=Jn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ui=zr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),di={eventTypes:jt,extractEvents:function(e,t,n,r){var i=zt.get(e);if(!i)return null;switch(e){case"keypress":if(0===ri(n))return null;case"keydown":case"keyup":e=oi;break;case"blur":case"focus":e=ni;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=zr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=si;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=li;break;case Xe:case Ye:case Ke:e=ei;break;case Je:e=ci;break;case"scroll":e=Rr;break;case"wheel":e=ui;break;case"copy":case"cut":case"paste":e=ti;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Hr;break;default:e=Jn}return Gn(t=e.getPooled(i,t,n,r)),t}};if(y)throw Error(o(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_(),p=Nn,v=Fn,m=In,M({SimpleEventPlugin:di,EnterLeaveEventPlugin:Ur,ChangeEventPlugin:Cr,SelectEventPlugin:$r,BeforeInputEventPlugin:fr});var hi=[],fi=-1;function pi(e){0>fi||(e.current=hi[fi],hi[fi]=null,fi--)}function vi(e,t){fi++,hi[fi]=e.current,e.current=t}var mi={},gi={current:mi},yi={current:!1},bi=mi;function _i(e,t){var n=e.type.contextTypes;if(!n)return mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function xi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function wi(){pi(yi),pi(gi)}function Si(e,t,n){if(gi.current!==mi)throw Error(o(168));vi(gi,t),vi(yi,n)}function ki(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,me(t)||"Unknown",a));return i({},n,{},r)}function Ei(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mi,bi=gi.current,vi(gi,e),vi(yi,yi.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ki(e,t,bi),r.__reactInternalMemoizedMergedChildContext=e,pi(yi),pi(gi),vi(gi,e)):pi(yi),vi(yi,n)}var Ti=a.unstable_runWithPriority,Pi=a.unstable_scheduleCallback,Ai=a.unstable_cancelCallback,Ci=a.unstable_requestPaint,Ri=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Li=a.unstable_ImmediatePriority,Fi=a.unstable_UserBlockingPriority,Ii=a.unstable_NormalPriority,Ni=a.unstable_LowPriority,Di=a.unstable_IdlePriority,ji={},zi=a.unstable_shouldYield,Hi=void 0!==Ci?Ci:function(){},Bi=null,Ui=null,Gi=!1,Wi=Ri(),Vi=1e4>Wi?Ri:function(){return Ri()-Wi};function qi(){switch(Oi()){case Li:return 99;case Fi:return 98;case Ii:return 97;case Ni:return 96;case Di:return 95;default:throw Error(o(332))}}function Xi(e){switch(e){case 99:return Li;case 98:return Fi;case 97:return Ii;case 96:return Ni;case 95:return Di;default:throw Error(o(332))}}function Yi(e,t){return e=Xi(e),Ti(e,t)}function Ki(e,t,n){return e=Xi(e),Pi(e,t,n)}function Ji(e){return null===Bi?(Bi=[e],Ui=Pi(Li,Qi)):Bi.push(e),ji}function Zi(){if(null!==Ui){var e=Ui;Ui=null,Ai(e)}Qi()}function Qi(){if(!Gi&&null!==Bi){Gi=!0;var e=0;try{var t=Bi;Yi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Bi=null}catch(n){throw null!==Bi&&(Bi=Bi.slice(e+1)),Pi(Li,Zi),n}finally{Gi=!1}}}function $i(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function ea(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ta={current:null},na=null,ra=null,ia=null;function aa(){ia=ra=na=null}function oa(e){var t=ta.current;pi(ta),e.type._context._currentValue=t}function sa(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function la(e,t){na=e,ia=ra=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(No=!0),e.firstContext=null)}function ca(e,t){if(ia!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ia=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ra){if(null===na)throw Error(o(308));ra=t,na.dependencies={expirationTime:0,firstContext:t,responders:null}}else ra=ra.next=t;return e._currentValue}var ua=!1;function da(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ha(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function fa(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function pa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function va(e,t){var n=e.alternate;null!==n&&ha(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function ma(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.baseQueue,s=a.shared.pending;if(null!==s){if(null!==o){var l=o.next;o.next=s.next,s.next=l}o=s,a.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==o){l=o.next;var c=a.baseState,u=0,d=null,h=null,f=null;if(null!==l)for(var p=l;;){if((s=p.expirationTime)<r){var v={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(h=f=v,d=c):f=f.next=v,s>u&&(u=s)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),wl(s,p.suspenseConfig);e:{var m=e,g=p;switch(s=t,v=n,g.tag){case 1:if("function"===typeof(m=g.payload)){c=m.call(v,c,s);break e}c=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(s="function"===typeof(m=g.payload)?m.call(v,c,s):m)||void 0===s)break e;c=i({},c,s);break e;case 2:ua=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=a.effects)?a.effects=[p]:s.push(p))}if(null===(p=p.next)||p===l){if(null===(s=a.shared.pending))break;p=o.next=s.next,s.next=l,a.baseQueue=o=s,a.shared.pending=null}}null===f?d=c:f.next=h,a.baseState=d,a.baseQueue=f,Sl(u),e.expirationTime=u,e.memoizedState=c}}function ga(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var ya=J.ReactCurrentBatchConfig,ba=(new r.Component).refs;function _a(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var xa={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=cl(),i=ya.suspense;(i=fa(r=ul(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),pa(e,i),dl(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=cl(),i=ya.suspense;(i=fa(r=ul(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),pa(e,i),dl(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=cl(),r=ya.suspense;(r=fa(n=ul(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),pa(e,r),dl(e,n)}};function wa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Vr(n,r)||!Vr(i,a))}function Sa(e,t,n){var r=!1,i=mi,a=t.contextType;return"object"===typeof a&&null!==a?a=ca(a):(i=xi(t)?bi:gi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?_i(e,i):mi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=xa,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xa.enqueueReplaceState(t,t.state,null)}function Ea(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ba,da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ca(a):(a=xi(t)?bi:gi.current,i.context=_i(e,a)),ma(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(_a(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&xa.enqueueReplaceState(i,i.state,null),ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Ma=Array.isArray;function Ta(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ba&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Pa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Aa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Gl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=ql(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ta(e,t,n),r.return=e,r):((r=Wl(n.type,n.key,n.props,null,e.mode,r)).ref=Ta(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Vl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=ql(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Wl(t.type,t.key,t.props,null,e.mode,n)).ref=Ta(e,null,t),n.return=e,n;case te:return(t=Xl(t,e.mode,n)).return=e,t}if(Ma(t)||ve(t))return(t=Vl(t,e.mode,n,null)).return=e,t;Pa(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case te:return n.key===i?u(e,t,n,r):null}if(Ma(n)||ve(n))return null!==i?null:d(e,t,n,r,null);Pa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case te:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ma(r)||ve(r))return d(t,e=e.get(n)||null,r,i,null);Pa(t,r)}return null}function v(i,o,s,l){for(var c=null,u=null,d=o,v=o=0,m=null;null!==d&&v<s.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var g=f(i,d,s[v],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),o=a(g,o,v),null===u?c=g:u.sibling=g,u=g,d=m}if(v===s.length)return n(i,d),c;if(null===d){for(;v<s.length;v++)null!==(d=h(i,s[v],l))&&(o=a(d,o,v),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(i,d);v<s.length;v++)null!==(m=p(d,i,v,s[v],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),o=a(m,o,v),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),c}function m(i,s,l,c){var u=ve(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,v=s,m=s=0,g=null,y=l.next();null!==v&&!y.done;m++,y=l.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=f(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,m),null===d?u=b:d.sibling=b,d=b,v=g}if(y.done)return n(i,v),u;if(null===v){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return u}for(v=r(i,v);!y.done;m++,y=l.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return e&&v.forEach((function(e){return t(i,e)})),u}return function(e,r,a,l){var c="object"===typeof a&&null!==a&&a.type===ne&&null===a.key;c&&(a=a.props.children);var u="object"===typeof a&&null!==a;if(u)switch(a.$$typeof){case ee:e:{for(u=a.key,c=r;null!==c;){if(c.key===u){if(7===c.tag){if(a.type===ne){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ta(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===ne?((r=Vl(a.props.children,e.mode,l,a.key)).return=e,e=r):((l=Wl(a.type,a.key,a.props,null,e.mode,l)).ref=Ta(e,r,a),l.return=e,e=l)}return s(e);case te:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xl(a,e.mode,l)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=ql(a,e.mode,l)).return=e,e=r),s(e);if(Ma(a))return v(e,r,a,l);if(ve(a))return m(e,r,a,l);if(u&&Pa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Ca=Aa(!0),Ra=Aa(!1),Oa={},La={current:Oa},Fa={current:Oa},Ia={current:Oa};function Na(e){if(e===Oa)throw Error(o(174));return e}function Da(e,t){switch(vi(Ia,t),vi(Fa,e),vi(La,Oa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:De(null,"");break;default:t=De(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}pi(La),vi(La,t)}function ja(){pi(La),pi(Fa),pi(Ia)}function za(e){Na(Ia.current);var t=Na(La.current),n=De(t,e.type);t!==n&&(vi(Fa,e),vi(La,n))}function Ha(e){Fa.current===e&&(pi(La),pi(Fa))}var Ba={current:0};function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===bn||n.data===_n))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ga(e,t){return{responder:e,props:t}}var Wa=J.ReactCurrentDispatcher,Va=J.ReactCurrentBatchConfig,qa=0,Xa=null,Ya=null,Ka=null,Ja=!1;function Za(){throw Error(o(321))}function Qa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gr(e[n],t[n]))return!1;return!0}function $a(e,t,n,r,i,a){if(qa=a,Xa=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Wa.current=null===e||null===e.memoizedState?So:ko,e=n(r,i),t.expirationTime===qa){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,Ka=Ya=null,t.updateQueue=null,Wa.current=Eo,e=n(r,i)}while(t.expirationTime===qa)}if(Wa.current=wo,t=null!==Ya&&null!==Ya.next,qa=0,Ka=Ya=Xa=null,Ja=!1,t)throw Error(o(300));return e}function eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ka?Xa.memoizedState=Ka=e:Ka=Ka.next=e,Ka}function to(){if(null===Ya){var e=Xa.alternate;e=null!==e?e.memoizedState:null}else e=Ya.next;var t=null===Ka?Xa.memoizedState:Ka.next;if(null!==t)Ka=t,Ya=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Ya=e).memoizedState,baseState:Ya.baseState,baseQueue:Ya.baseQueue,queue:Ya.queue,next:null},null===Ka?Xa.memoizedState=Ka=e:Ka=Ka.next=e}return Ka}function no(e,t){return"function"===typeof t?t(e):t}function ro(e){var t=to(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Ya,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=a=null,c=i;do{var u=c.expirationTime;if(u<qa){var d={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=d,a=r):l=l.next=d,u>Xa.expirationTime&&(Xa.expirationTime=u,Sl(u))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),wl(u,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===l?a=r:l.next=s,Gr(r,t.memoizedState)||(No=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function io(e){var t=to(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Gr(a,t.memoizedState)||(No=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ao(e){var t=eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:no,lastRenderedState:e}).dispatch=xo.bind(null,Xa,e),[t.memoizedState,e]}function oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Xa.updateQueue)?(t={lastEffect:null},Xa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function so(){return to().memoizedState}function lo(e,t,n,r){var i=eo();Xa.effectTag|=e,i.memoizedState=oo(1|t,n,void 0,void 0===r?null:r)}function co(e,t,n,r){var i=to();r=void 0===r?null:r;var a=void 0;if(null!==Ya){var o=Ya.memoizedState;if(a=o.destroy,null!==r&&Qa(r,o.deps))return void oo(t,n,a,r)}Xa.effectTag|=e,i.memoizedState=oo(1|t,n,a,r)}function uo(e,t){return lo(516,4,e,t)}function ho(e,t){return co(516,4,e,t)}function fo(e,t){return co(4,2,e,t)}function po(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,co(4,2,po.bind(null,t,e),n)}function mo(){}function go(e,t){return eo().memoizedState=[e,void 0===t?null:t],e}function yo(e,t){var n=to();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Qa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function bo(e,t){var n=to();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Qa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _o(e,t,n){var r=qi();Yi(98>r?98:r,(function(){e(!0)})),Yi(97<r?97:r,(function(){var r=Va.suspense;Va.suspense=void 0===t?null:t;try{e(!1),n()}finally{Va.suspense=r}}))}function xo(e,t,n){var r=cl(),i=ya.suspense;i={expirationTime:r=ul(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Xa||null!==a&&a===Xa)Ja=!0,i.expirationTime=qa,Xa.expirationTime=qa;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.eagerReducer=a,i.eagerState=s,Gr(s,o))return}catch(l){}dl(e,r)}}var wo={readContext:ca,useCallback:Za,useContext:Za,useEffect:Za,useImperativeHandle:Za,useLayoutEffect:Za,useMemo:Za,useReducer:Za,useRef:Za,useState:Za,useDebugValue:Za,useResponder:Za,useDeferredValue:Za,useTransition:Za},So={readContext:ca,useCallback:go,useContext:ca,useEffect:uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,lo(4,2,po.bind(null,t,e),n)},useLayoutEffect:function(e,t){return lo(4,2,e,t)},useMemo:function(e,t){var n=eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=xo.bind(null,Xa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},eo().memoizedState=e},useState:ao,useDebugValue:mo,useResponder:Ga,useDeferredValue:function(e,t){var n=ao(e),r=n[0],i=n[1];return uo((function(){var n=Va.suspense;Va.suspense=void 0===t?null:t;try{i(e)}finally{Va.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ao(!1),n=t[0];return t=t[1],[go(_o.bind(null,t,e),[t,e]),n]}},ko={readContext:ca,useCallback:yo,useContext:ca,useEffect:ho,useImperativeHandle:vo,useLayoutEffect:fo,useMemo:bo,useReducer:ro,useRef:so,useState:function(){return ro(no)},useDebugValue:mo,useResponder:Ga,useDeferredValue:function(e,t){var n=ro(no),r=n[0],i=n[1];return ho((function(){var n=Va.suspense;Va.suspense=void 0===t?null:t;try{i(e)}finally{Va.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ro(no),n=t[0];return t=t[1],[yo(_o.bind(null,t,e),[t,e]),n]}},Eo={readContext:ca,useCallback:yo,useContext:ca,useEffect:ho,useImperativeHandle:vo,useLayoutEffect:fo,useMemo:bo,useReducer:io,useRef:so,useState:function(){return io(no)},useDebugValue:mo,useResponder:Ga,useDeferredValue:function(e,t){var n=io(no),r=n[0],i=n[1];return ho((function(){var n=Va.suspense;Va.suspense=void 0===t?null:t;try{i(e)}finally{Va.suspense=n}}),[e,t]),r},useTransition:function(e){var t=io(no),n=t[0];return t=t[1],[yo(_o.bind(null,t,e),[t,e]),n]}},Mo=null,To=null,Po=!1;function Ao(e,t){var n=Bl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Co(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ro(e){if(Po){var t=To;if(t){var n=t;if(!Co(e,t)){if(!(t=Tn(n.nextSibling))||!Co(e,t))return e.effectTag=-1025&e.effectTag|2,Po=!1,void(Mo=e);Ao(Mo,n)}Mo=e,To=Tn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Po=!1,Mo=e}}function Oo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Mo=e}function Lo(e){if(e!==Mo)return!1;if(!Po)return Oo(e),Po=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!kn(t,e.memoizedProps))for(t=To;t;)Ao(e,t),t=Tn(t.nextSibling);if(Oo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===yn){if(0===t){To=Tn(e.nextSibling);break e}t--}else n!==gn&&n!==_n&&n!==bn||t++}e=e.nextSibling}To=null}}else To=Mo?Tn(e.stateNode.nextSibling):null;return!0}function Fo(){To=Mo=null,Po=!1}var Io=J.ReactCurrentOwner,No=!1;function Do(e,t,n,r){t.child=null===e?Ra(t,null,n,r):Ca(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var a=t.ref;return la(t,i),r=$a(e,t,n,r,a,i),null===e||No?(t.effectTag|=1,Do(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ts(e,t,i))}function zo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ul(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wl(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ho(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:Vr)(i,r)&&e.ref===t.ref)?ts(e,t,a):(t.effectTag|=1,(e=Gl(o,r)).ref=t.ref,e.return=t,t.child=e)}function Ho(e,t,n,r,i,a){return null!==e&&Vr(e.memoizedProps,r)&&e.ref===t.ref&&(No=!1,i<a)?(t.expirationTime=e.expirationTime,ts(e,t,a)):Uo(e,t,n,r,a)}function Bo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Uo(e,t,n,r,i){var a=xi(n)?bi:gi.current;return a=_i(t,a),la(t,i),n=$a(e,t,n,r,a,i),null===e||No?(t.effectTag|=1,Do(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ts(e,t,i))}function Go(e,t,n,r,i){if(xi(n)){var a=!0;Ei(t)}else a=!1;if(la(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Sa(t,n,r),Ea(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ca(c):c=_i(t,c=xi(n)?bi:gi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&ka(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,ma(t,r,o,i),l=t.memoizedState,s!==r||h!==l||yi.current||ua?("function"===typeof u&&(_a(t,n,u,r),l=t.memoizedState),(s=ua||wa(t,n,s,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,ha(e,t),s=t.memoizedProps,o.props=t.type===t.elementType?s:ea(t.type,s),l=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=ca(c):c=_i(t,c=xi(n)?bi:gi.current),(d="function"===typeof(u=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&ka(t,o,r,c),ua=!1,l=t.memoizedState,o.state=l,ma(t,r,o,i),h=t.memoizedState,s!==r||l!==h||yi.current||ua?("function"===typeof u&&(_a(t,n,u,r),h=t.memoizedState),(u=ua||wa(t,n,s,r,l,h,c))?(d||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=c,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){Bo(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&Mi(t,n,!1),ts(e,t,a);r=t.stateNode,Io.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Ca(t,e.child,null,a),t.child=Ca(t,null,s,a)):Do(e,t,s,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Vo(e){var t=e.stateNode;t.pendingContext?Si(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Si(0,t.context,!1),Da(e,t.containerInfo)}var qo,Xo,Yo,Ko,Jo={dehydrated:null,retryTime:0};function Zo(e,t,n){var r,i=t.mode,a=t.pendingProps,o=Ba.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&o)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),vi(Ba,1&o),null===e){if(void 0!==a.fallback&&Ro(t),s){if(s=a.fallback,(a=Vl(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Vl(s,i,n,null)).return=t,a.sibling=n,t.memoizedState=Jo,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=Ra(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(a=a.fallback,(n=Gl(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Gl(i,a)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Jo,t.child=n,i}return n=Ca(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=a.fallback,(a=Vl(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Vl(s,i,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=Jo,t.child=a,n}return t.memoizedState=null,t.child=Ca(t,e,a.children,n)}function Qo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),sa(e.return,t)}function $o(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function es(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Do(e,t,r.children,n),0!==(2&(r=Ba.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qo(e,n);else if(19===e.tag)Qo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(vi(Ba,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$o(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$o(t,!0,n,null,a,t.lastEffect);break;case"together":$o(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ts(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&Sl(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Gl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ns(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rs(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return xi(t.type)&&wi(),null;case 3:return ja(),pi(yi),pi(gi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Lo(t)||(t.effectTag|=4),Xo(t),null;case 5:Ha(t),n=Na(Ia.current);var a=t.type;if(null!==e&&null!=t.stateNode)Yo(e,t,a,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Na(La.current),Lo(t)){r=t.stateNode,a=t.type;var s=t.memoizedProps;switch(r[Cn]=t,r[Rn]=s,a){case"iframe":case"object":case"embed":Yt("load",r);break;case"video":case"audio":for(e=0;e<Ze.length;e++)Yt(Ze[e],r);break;case"source":Yt("error",r);break;case"img":case"image":case"link":Yt("error",r),Yt("load",r);break;case"form":Yt("reset",r),Yt("submit",r);break;case"details":Yt("toggle",r);break;case"input":Se(r,s),Yt("invalid",r),cn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Yt("invalid",r),cn(n,"onChange");break;case"textarea":Re(r,s),Yt("invalid",r),cn(n,"onChange")}for(var l in on(a,s),e=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(e=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(e=["children",""+c]):k.hasOwnProperty(l)&&null!=c&&cn(n,l)}switch(a){case"input":_e(r),Me(r,s,!0);break;case"textarea":_e(r),Le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=un)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===ln&&(e=Ne(a)),e===ln?"script"===a?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(a,{is:r.is}):(e=l.createElement(a),"select"===a&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,a),e[Cn]=t,e[Rn]=r,qo(e,t,!1,!1),t.stateNode=e,l=sn(a,r),a){case"iframe":case"object":case"embed":Yt("load",e),c=r;break;case"video":case"audio":for(c=0;c<Ze.length;c++)Yt(Ze[c],e);c=r;break;case"source":Yt("error",e),c=r;break;case"img":case"image":case"link":Yt("error",e),Yt("load",e),c=r;break;case"form":Yt("reset",e),Yt("submit",e),c=r;break;case"details":Yt("toggle",e),c=r;break;case"input":Se(e,r),c=we(e,r),Yt("invalid",e),cn(n,"onChange");break;case"option":c=Pe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),Yt("invalid",e),cn(n,"onChange");break;case"textarea":Re(e,r),c=Ce(e,r),Yt("invalid",e),cn(n,"onChange");break;default:c=r}on(a,c);var u=c;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?rn(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&He(e,d):"children"===s?"string"===typeof d?("textarea"!==a||""!==d)&&Be(e,d):"number"===typeof d&&Be(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(k.hasOwnProperty(s)?null!=d&&cn(n,s):null!=d&&Z(e,s,d,l))}switch(a){case"input":_e(e),Me(e,r,!1);break;case"textarea":_e(e),Le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ae(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=un)}Sn(a,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ko(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Na(Ia.current),Na(La.current),Lo(t)?(n=t.stateNode,r=t.memoizedProps,n[Cn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Cn]=t,t.stateNode=n)}return null;case 13:return pi(Ba),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Lo(t):(r=null!==(a=e.memoizedState),n||null===a||null!==(a=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=a,a.nextEffect=s):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ba.current)?Gs===Ls&&(Gs=Ns):(Gs!==Ls&&Gs!==Ns||(Gs=Ds),0!==Ys&&null!==Hs&&(Jl(Hs,Us),Zl(Hs,Ys)))),(n||r)&&(t.effectTag|=4),null);case 4:return ja(),Xo(t),null;case 10:return oa(t),null;case 19:if(pi(Ba),null===(r=t.memoizedState))return null;if(a=0!==(64&t.effectTag),null===(s=r.rendering)){if(a)ns(r,!1);else if(Gs!==Ls||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Ua(s))){for(t.effectTag|=64,ns(r,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(a=r).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=s,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return vi(Ba,1&Ba.current|2),t.child}s=s.sibling}}else{if(!a)if(null!==(e=Ua(s))){if(t.effectTag|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),ns(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Vi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,a=!0,ns(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Vi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Vi(),n.sibling=null,t=Ba.current,vi(Ba,a?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function is(e){switch(e.tag){case 1:xi(e.type)&&wi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(ja(),pi(yi),pi(gi),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Ha(e),null;case 13:return pi(Ba),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return pi(Ba),null;case 4:return ja(),null;case 10:return oa(e),null;default:return null}}function as(e,t){return{value:e,source:t,stack:ge(t)}}qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xo=function(){},Yo=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var s,l,c=t.stateNode;switch(Na(La.current),e=null,n){case"input":o=we(c,o),r=we(c,r),e=[];break;case"option":o=Pe(c,o),r=Pe(c,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=Ce(c,o),r=Ce(c,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(c.onclick=un)}for(s in on(n,r),n=null,o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(l in c=o[s])c.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(k.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var u=r[s];if(c=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&u!==c&&(null!=u||null!=c))if("style"===s)if(c){for(l in c)!c.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&c[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(e||(e=[]),e.push(s,n)),n=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(s,u)):"children"===s?c===u||"string"!==typeof u&&"number"!==typeof u||(e=e||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(k.hasOwnProperty(s)?(null!=u&&cn(a,s),e||c===u||(e=[])):(e=e||[]).push(s,u))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},Ko=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var os="function"===typeof WeakSet?WeakSet:Set;function ss(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ge(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ls(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Il(e,n)}else t.current=null}function cs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ea(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(o(163))}function us(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function ds(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ds(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:ea(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ga(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ga(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&Sn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Dt(n)))))}throw Error(o(163))}function fs(e,t,n){switch("function"===typeof zl&&zl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Yi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(a){Il(i,a)}}e=e.next}while(e!==r)}))}break;case 1:ls(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Il(e,n)}}(t,n);break;case 5:ls(t);break;case 4:bs(e,t,n)}}function ps(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ps(t)}function vs(e){return 5===e.tag||3===e.tag||4===e.tag}function ms(e){e:{for(var t=e.return;null!==t;){if(vs(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(Be(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?gs(e,n,t):ys(e,n,t)}function gs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=un));else if(4!==r&&null!==(e=e.child))for(gs(e,t,n),e=e.sibling;null!==e;)gs(e,t,n),e=e.sibling}function ys(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ys(e,t,n),e=e.sibling;null!==e;)ys(e,t,n),e=e.sibling}function bs(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var l=e,c=a,u=n,d=c;;)if(fs(l,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===c)break e;for(;null===d.sibling;){if(null===d.return||d.return===c)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i?(l=r,c=a.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(fs(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function _s(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void us(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Rn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&ke(n,r),sn(e,i),t=sn(e,r),i=0;i<a.length;i+=2){var s=a[i],l=a[i+1];"style"===s?rn(n,l):"dangerouslySetInnerHTML"===s?He(n,l):"children"===s?Be(n,l):Z(n,s,l,t)}switch(e){case"input":Ee(n,r);break;case"textarea":Oe(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ae(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ae(n,!!r.multiple,r.defaultValue,!0):Ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Dt(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Js=Vi()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=nn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void xs(t);case 19:return void xs(t)}throw Error(o(163))}function xs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new os),t.forEach((function(t){var r=Dl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var ws="function"===typeof WeakMap?WeakMap:Map;function Ss(e,t,n){(n=fa(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$s||($s=!0,el=r),ss(e,t)},n}function ks(e,t,n){(n=fa(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ss(e,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===tl?tl=new Set([this]):tl.add(this),ss(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Es,Ms=Math.ceil,Ts=J.ReactCurrentDispatcher,Ps=J.ReactCurrentOwner,As=0,Cs=8,Rs=16,Os=32,Ls=0,Fs=1,Is=2,Ns=3,Ds=4,js=5,zs=As,Hs=null,Bs=null,Us=0,Gs=Ls,Ws=null,Vs=1073741823,qs=1073741823,Xs=null,Ys=0,Ks=!1,Js=0,Zs=500,Qs=null,$s=!1,el=null,tl=null,nl=!1,rl=null,il=90,al=null,ol=0,sl=null,ll=0;function cl(){return(zs&(Rs|Os))!==As?1073741821-(Vi()/10|0):0!==ll?ll:ll=1073741821-(Vi()/10|0)}function ul(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=qi();if(0===(4&t))return 99===r?1073741823:1073741822;if((zs&Rs)!==As)return Us;if(null!==n)e=$i(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=$i(e,150,100);break;case 97:case 96:e=$i(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==Hs&&e===Us&&--e,e}function dl(e,t){if(50<ol)throw ol=0,sl=null,Error(o(185));if(null!==(e=hl(e,t))){var n=qi();1073741823===t?(zs&Cs)!==As&&(zs&(Rs|Os))===As?ml(e):(pl(e),zs===As&&Zi()):pl(e),(4&zs)===As||98!==n&&99!==n||(null===al?al=new Map([[e,t]]):(void 0===(n=al.get(e))||n>t)&&al.set(e,t))}}function hl(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Hs===i&&(Sl(t),Gs===Ds&&Jl(i,Us)),Zl(i,t)),i}function fl(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Kl(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function pl(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Ji(ml.bind(null,e));else{var t=fl(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=cl();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==ji&&Ai(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Ji(ml.bind(null,e)):Ki(r,vl.bind(null,e),{timeout:10*(1073741821-t)-Vi()}),e.callbackNode=t}}}function vl(e,t){if(ll=0,t)return Ql(e,t=cl()),pl(e),null;var n=fl(e);if(0!==n){if(t=e.callbackNode,(zs&(Rs|Os))!==As)throw Error(o(327));if(Ol(),e===Hs&&n===Us||bl(e,n),null!==Bs){var r=zs;zs|=Rs;for(var i=xl();;)try{El();break}catch(l){_l(e,l)}if(aa(),zs=r,Ts.current=i,Gs===Fs)throw t=Ws,bl(e,n),Jl(e,n),pl(e),t;if(null===Bs)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Gs,Hs=null,r){case Ls:case Fs:throw Error(o(345));case Is:Ql(e,2<n?2:n);break;case Ns:if(Jl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Pl(i)),1073741823===Vs&&10<(i=Js+Zs-Vi())){if(Ks){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,bl(e,n);break}}if(0!==(a=fl(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=En(Al.bind(null,e),i);break}Al(e);break;case Ds:if(Jl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Pl(i)),Ks&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,bl(e,n);break}if(0!==(i=fl(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==qs?r=10*(1073741821-qs)-Vi():1073741823===Vs?r=0:(r=10*(1073741821-Vs)-5e3,0>(r=(i=Vi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ms(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=En(Al.bind(null,e),r);break}Al(e);break;case js:if(1073741823!==Vs&&null!==Xs){a=Vs;var s=Xs;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(a=Vi()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=i?0:i+r-a),10<r){Jl(e,n),e.timeoutHandle=En(Al.bind(null,e),r);break}}Al(e);break;default:throw Error(o(329))}if(pl(e),e.callbackNode===t)return vl.bind(null,e)}}return null}function ml(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(zs&(Rs|Os))!==As)throw Error(o(327));if(Ol(),e===Hs&&t===Us||bl(e,t),null!==Bs){var n=zs;zs|=Rs;for(var r=xl();;)try{kl();break}catch(i){_l(e,i)}if(aa(),zs=n,Ts.current=r,Gs===Fs)throw n=Ws,bl(e,t),Jl(e,t),pl(e),n;if(null!==Bs)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Hs=null,Al(e),pl(e)}return null}function gl(e,t){var n=zs;zs|=1;try{return e(t)}finally{(zs=n)===As&&Zi()}}function yl(e,t){var n=zs;zs&=-2,zs|=Cs;try{return e(t)}finally{(zs=n)===As&&Zi()}}function bl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Mn(n)),null!==Bs)for(n=Bs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&wi();break;case 3:ja(),pi(yi),pi(gi);break;case 5:Ha(r);break;case 4:ja();break;case 13:case 19:pi(Ba);break;case 10:oa(r)}n=n.return}Hs=e,Bs=Gl(e.current,null),Us=t,Gs=Ls,Ws=null,qs=Vs=1073741823,Xs=null,Ys=0,Ks=!1}function _l(e,t){for(;;){try{if(aa(),Wa.current=wo,Ja)for(var n=Xa.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(qa=0,Ka=Ya=Xa=null,Ja=!1,null===Bs||null===Bs.return)return Gs=Fs,Ws=t,Bs=null;e:{var i=e,a=Bs.return,o=Bs,s=t;if(t=Us,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&o.mode)){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.expirationTime=c.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var u=0!==(1&Ba.current),d=a;do{var h;if(h=13===d.tag){var f=d.memoizedState;if(null!==f)h=null!==f.dehydrated;else{var p=d.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!u)}}if(h){var v=d.updateQueue;if(null===v){var m=new Set;m.add(l),d.updateQueue=m}else v.add(l);if(0===(2&d.mode)){if(d.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var g=fa(1073741823,null);g.tag=2,pa(o,g)}o.expirationTime=1073741823;break e}s=void 0,o=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new ws,s=new Set,y.set(l,s)):void 0===(s=y.get(l))&&(s=new Set,y.set(l,s)),!s.has(o)){s.add(o);var b=Nl.bind(null,i,l,o);l.then(b,b)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);s=Error((me(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ge(o))}Gs!==js&&(Gs=Is),s=as(s,o),d=a;do{switch(d.tag){case 3:l=s,d.effectTag|=4096,d.expirationTime=t,va(d,Ss(d,l,t));break e;case 1:l=s;var _=d.type,x=d.stateNode;if(0===(64&d.effectTag)&&("function"===typeof _.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===tl||!tl.has(x)))){d.effectTag|=4096,d.expirationTime=t,va(d,ks(d,l,t));break e}}d=d.return}while(null!==d)}Bs=Tl(Bs)}catch(w){t=w;continue}break}}function xl(){var e=Ts.current;return Ts.current=wo,null===e?wo:e}function wl(e,t){e<Vs&&2<e&&(Vs=e),null!==t&&e<qs&&2<e&&(qs=e,Xs=t)}function Sl(e){e>Ys&&(Ys=e)}function kl(){for(;null!==Bs;)Bs=Ml(Bs)}function El(){for(;null!==Bs&&!zi();)Bs=Ml(Bs)}function Ml(e){var t=Es(e.alternate,e,Us);return e.memoizedProps=e.pendingProps,null===t&&(t=Tl(e)),Ps.current=null,t}function Tl(e){Bs=e;do{var t=Bs.alternate;if(e=Bs.return,0===(2048&Bs.effectTag)){if(t=rs(t,Bs,Us),1===Us||1!==Bs.childExpirationTime){for(var n=0,r=Bs.child;null!==r;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}Bs.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Bs.firstEffect),null!==Bs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Bs.firstEffect),e.lastEffect=Bs.lastEffect),1<Bs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Bs:e.firstEffect=Bs,e.lastEffect=Bs))}else{if(null!==(t=is(Bs)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Bs.sibling))return t;Bs=e}while(null!==Bs);return Gs===Ls&&(Gs=js),null}function Pl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Al(e){var t=qi();return Yi(99,Cl.bind(null,e,t)),null}function Cl(e,t){do{Ol()}while(null!==rl);if((zs&(Rs|Os))!==As)throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Pl(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Hs&&(Bs=Hs=null,Us=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=zs;zs|=Os,Ps.current=null,xn=Xt;var s=vn();if(mn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var u=c.anchorOffset,d=c.focusNode;c=c.focusOffset;try{l.nodeType,d.nodeType}catch(M){l=null;break e}var h=0,f=-1,p=-1,v=0,m=0,g=s,y=null;t:for(;;){for(var b;g!==l||0!==u&&3!==g.nodeType||(f=h+u),g!==d||0!==c&&3!==g.nodeType||(p=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(b=g.firstChild);)y=g,g=b;for(;;){if(g===s)break t;if(y===l&&++v===u&&(f=h),y===d&&++m===c&&(p=h),null!==(b=g.nextSibling))break;y=(g=y).parentNode}g=b}l=-1===f||-1===p?null:{start:f,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;wn={activeElementDetached:null,focusedElem:s,selectionRange:l},Xt=!1,Qs=i;do{try{Rl()}catch(M){if(null===Qs)throw Error(o(330));Il(Qs,M),Qs=Qs.nextEffect}}while(null!==Qs);Qs=i;do{try{for(s=e,l=t;null!==Qs;){var _=Qs.effectTag;if(16&_&&Be(Qs.stateNode,""),128&_){var x=Qs.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&_){case 2:ms(Qs),Qs.effectTag&=-3;break;case 6:ms(Qs),Qs.effectTag&=-3,_s(Qs.alternate,Qs);break;case 1024:Qs.effectTag&=-1025;break;case 1028:Qs.effectTag&=-1025,_s(Qs.alternate,Qs);break;case 4:_s(Qs.alternate,Qs);break;case 8:bs(s,u=Qs,l),ps(u)}Qs=Qs.nextEffect}}catch(M){if(null===Qs)throw Error(o(330));Il(Qs,M),Qs=Qs.nextEffect}}while(null!==Qs);if(w=wn,x=vn(),_=w.focusedElem,l=w.selectionRange,x!==_&&_&&_.ownerDocument&&pn(_.ownerDocument.documentElement,_)){null!==l&&mn(_)&&(x=l.start,void 0===(w=l.end)&&(w=x),"selectionStart"in _?(_.selectionStart=x,_.selectionEnd=Math.min(w,_.value.length)):(w=(x=_.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),u=_.textContent.length,s=Math.min(l.start,u),l=void 0===l.end?s:Math.min(l.end,u),!w.extend&&s>l&&(u=l,l=s,s=u),u=fn(_,s),d=fn(_,l),u&&d&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==d.node||w.focusOffset!==d.offset)&&((x=x.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),s>l?(w.addRange(x),w.extend(d.node,d.offset)):(x.setEnd(d.node,d.offset),w.addRange(x))))),x=[];for(w=_;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<x.length;_++)(w=x[_]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Xt=!!xn,wn=xn=null,e.current=n,Qs=i;do{try{for(_=e;null!==Qs;){var S=Qs.effectTag;if(36&S&&hs(_,Qs.alternate,Qs),128&S){x=void 0;var k=Qs.ref;if(null!==k){var E=Qs.stateNode;Qs.tag,x=E,"function"===typeof k?k(x):k.current=x}}Qs=Qs.nextEffect}}catch(M){if(null===Qs)throw Error(o(330));Il(Qs,M),Qs=Qs.nextEffect}}while(null!==Qs);Qs=null,Hi(),zs=a}else e.current=n;if(nl)nl=!1,rl=e,il=t;else for(Qs=i;null!==Qs;)t=Qs.nextEffect,Qs.nextEffect=null,Qs=t;if(0===(t=e.firstPendingTime)&&(tl=null),1073741823===t?e===sl?ol++:(ol=0,sl=e):ol=0,"function"===typeof jl&&jl(n.stateNode,r),pl(e),$s)throw $s=!1,e=el,el=null,e;return(zs&Cs)!==As||Zi(),null}function Rl(){for(;null!==Qs;){var e=Qs.effectTag;0!==(256&e)&&cs(Qs.alternate,Qs),0===(512&e)||nl||(nl=!0,Ki(97,(function(){return Ol(),null}))),Qs=Qs.nextEffect}}function Ol(){if(90!==il){var e=97<il?97:il;return il=90,Yi(e,Ll)}}function Ll(){if(null===rl)return!1;var e=rl;if(rl=null,(zs&(Rs|Os))!==As)throw Error(o(331));var t=zs;for(zs|=Os,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:us(5,n),ds(5,n)}}catch(r){if(null===e)throw Error(o(330));Il(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return zs=t,Zi(),!0}function Fl(e,t,n){pa(e,t=Ss(e,t=as(n,t),1073741823)),null!==(e=hl(e,1073741823))&&pl(e)}function Il(e,t){if(3===e.tag)Fl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tl||!tl.has(r))){pa(n,e=ks(n,e=as(t,e),1073741823)),null!==(n=hl(n,1073741823))&&pl(n);break}}n=n.return}}function Nl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Hs===e&&Us===n?Gs===Ds||Gs===Ns&&1073741823===Vs&&Vi()-Js<Zs?bl(e,Us):Ks=!0:Kl(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,pl(e)))}function Dl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=ul(t=cl(),e,null)),null!==(e=hl(e,t))&&pl(e)}Es=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||yi.current)No=!0;else{if(r<n){switch(No=!1,t.tag){case 3:Vo(t),Fo();break;case 5:if(za(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:xi(t.type)&&Ei(t);break;case 4:Da(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,vi(ta,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Zo(e,t,n):(vi(Ba,1&Ba.current),null!==(t=ts(e,t,n))?t.sibling:null);vi(Ba,1&Ba.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return es(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),vi(Ba,Ba.current),!r)return null}return ts(e,t,n)}No=!1}}else No=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=_i(t,gi.current),la(t,n),i=$a(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,xi(r)){var a=!0;Ei(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,da(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&_a(t,r,s,e),i.updater=xa,t.stateNode=i,i._reactInternalFiber=t,Ea(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,Do(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ul(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===le)return 11;if(e===de)return 14}return 2}(i),e=ea(i,e),a){case 0:t=Uo(null,t,i,e,n);break e;case 1:t=Go(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=zo(null,t,i,ea(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:ea(r,i),n);case 1:return r=t.type,i=t.pendingProps,Go(e,t,r,i=t.elementType===r?i:ea(r,i),n);case 3:if(Vo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ha(e,t),ma(t,r,null,n),(r=t.memoizedState.element)===i)Fo(),t=ts(e,t,n);else{if((i=t.stateNode.hydrate)&&(To=Tn(t.stateNode.containerInfo.firstChild),Mo=t,i=Po=!0),i)for(n=Ra(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Do(e,t,r,n),Fo();t=t.child}return t;case 5:return za(t),null===e&&Ro(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,kn(r,i)?s=null:null!==a&&kn(r,a)&&(t.effectTag|=16),Bo(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Do(e,t,s,n),t=t.child),t;case 6:return null===e&&Ro(t),null;case 13:return Zo(e,t,n);case 4:return Da(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ca(t,null,r,n):Do(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:ea(r,i),n);case 7:return Do(e,t,t.pendingProps,n),t.child;case 8:case 12:return Do(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var l=t.type._context;if(vi(ta,l._currentValue),l._currentValue=a,null!==s)if(l=s.value,0===(a=Gr(l,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,a):1073741823))){if(s.children===i.children&&!yi.current){t=ts(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&a)){1===l.tag&&((u=fa(n,null)).tag=2,pa(l,u)),l.expirationTime<n&&(l.expirationTime=n),null!==(u=l.alternate)&&u.expirationTime<n&&(u.expirationTime=n),sa(l.return,n),c.expirationTime<n&&(c.expirationTime=n);break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Do(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,la(t,n),r=r(i=ca(i,a.unstable_observedBits)),t.effectTag|=1,Do(e,t,r,n),t.child;case 14:return a=ea(i=t.type,t.pendingProps),zo(e,t,i,a=ea(i.type,a),r,n);case 15:return Ho(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ea(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,xi(r)?(e=!0,Ei(t)):e=!1,la(t,n),Sa(t,r,i),Ea(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return es(e,t,n)}throw Error(o(156,t.tag))};var jl=null,zl=null;function Hl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Bl(e,t,n,r){return new Hl(e,t,n,r)}function Ul(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gl(e,t){var n=e.alternate;return null===n?((n=Bl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wl(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ul(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return Vl(n.children,i,a,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=Bl(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=a,e;case ce:return(e=Bl(13,n,t,i)).type=ce,e.elementType=ce,e.expirationTime=a,e;case ue:return(e=Bl(19,n,t,i)).elementType=ue,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ae:s=10;break e;case oe:s=9;break e;case le:s=11;break e;case de:s=14;break e;case he:s=16,r=null;break e;case fe:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Bl(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function Vl(e,t,n,r){return(e=Bl(7,e,r,t)).expirationTime=n,e}function ql(e,t,n){return(e=Bl(6,e,null,t)).expirationTime=n,e}function Xl(e,t,n){return(t=Bl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Kl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Jl(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Zl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Ql(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function $l(e,t,n,r){var i=t.current,a=cl(),s=ya.suspense;a=ul(a,i,s);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(xi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var c=n.type;if(xi(c)){n=ki(n,c,l);break e}}n=l}else n=mi;return null===t.context?t.context=n:t.pendingContext=n,(t=fa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),pa(i,t),dl(i,a),a}function ec(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tc(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function rc(e,t,n){var r=new Yl(e,t,n=null!=n&&!0===n.hydrate),i=Bl(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,da(i),e[On]=r.current,n&&0!==t&&function(e,t){var n=$e(t);Tt.forEach((function(e){vt(e,t,n)})),Pt.forEach((function(e){vt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=ec(o);s.call(e)}}$l(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var l=i;i=function(){var e=ec(o);l.call(e)}}yl((function(){$l(t,o,e,i)}))}return ec(o)}function oc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}rc.prototype.render=function(e){$l(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;$l(null,e,null,(function(){t[On]=null}))},mt=function(e){if(13===e.tag){var t=$i(cl(),150,100);dl(e,t),nc(e,t)}},gt=function(e){13===e.tag&&(dl(e,3),nc(e,3))},yt=function(e){if(13===e.tag){var t=cl();dl(e,t=ul(t,e,null)),nc(e,t)}},P=function(e,t,n){switch(t){case"input":if(Ee(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Nn(r);if(!i)throw Error(o(90));xe(r),Ee(r,i)}}}break;case"textarea":Oe(e,n);break;case"select":null!=(t=n.value)&&Ae(e,!!n.multiple,t,!1)}},F=gl,I=function(e,t,n,r,i){var a=zs;zs|=4;try{return Yi(98,e.bind(null,t,n,r,i))}finally{(zs=a)===As&&Zi()}},N=function(){(zs&(1|Rs|Os))===As&&(function(){if(null!==al){var e=al;al=null,e.forEach((function(e,t){Ql(t,e),pl(t)})),Zi()}}(),Ol())},D=function(e,t){var n=zs;zs|=2;try{return e(t)}finally{(zs=n)===As&&Zi()}};var sc={Events:[Fn,In,Nn,M,S,Gn,function(e){at(e,Un)},O,L,Qt,lt,Ol,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);jl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},zl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Ln,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=oc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if((zs&(Rs|Os))!==As)throw Error(o(187));var n=zs;zs|=1;try{return Yi(99,e.bind(null,t))}finally{zs=n,Zi()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(o(40));return!!e._reactRootContainer&&(yl((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[On]=null}))})),!0)},t.unstable_batchedUpdates=gl,t.unstable_createPortal=function(e,t){return oc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return ac(e,t,n,!1,r)},t.version="16.14.0"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},8340:function(e,t,n){"use strict";e.exports=n(4424)},77:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var s,l,c,u;if(Array.isArray(e)){if((s=e.length)!=o.length)return!1;for(l=s;0!==l--;)if(!a(e[l],o[l]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!a(l.value[1],o.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((s=e.length)!=o.length)return!1;for(l=s;0!==l--;)if(e[l]!==o[l])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===o.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(o,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!a(e[c[l]],o[c[l]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},9195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case a:case s:case o:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case l:return e;default:return t}}case i:return t}}}function w(e){return x(e)===d}},8228:function(e,t,n){"use strict";n(9195)},2592:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=o(n(2791)),a=o(n(7585));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){return i.default.createElement("input",this.props,this.props.children)}}]),t}(i.default.Component);t.default=(0,a.default)(s)},5532:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(2791)),o=l(n(671)),s=l(n(2007));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this,t=r({},this.props);return t.parentBindings&&delete t.parentBindings,a.default.createElement("div",r({},t,{ref:function(t){e.props.parentBindings.domNode=t}}),this.props.children)}}]),t}(a.default.Component);c.propTypes={name:s.default.string,id:s.default.string},t.default=(0,o.default)(c)},4582:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(2791)),i=a(n(7585));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var s=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return n=i=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),i.render=function(){return r.default.createElement("a",i.props,i.props.children)},o(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default.Component);t.default=(0,i.default)(s)},5667:function(e,t,n){"use strict";t.rU=void 0;var r=f(n(4582)),i=f(n(2592)),a=f(n(5532)),o=f(n(2338)),s=f(n(979)),l=f(n(3688)),c=f(n(4102)),u=f(n(7585)),d=f(n(671)),h=f(n(719));function f(e){return e&&e.__esModule?e:{default:e}}t.rU=r.default,i.default,a.default,o.default,s.default,l.default,c.default,u.default,d.default,h.default,r.default,i.default,a.default,o.default,s.default,l.default,c.default,u.default,d.default,h.default},719:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=n(2791),c=(n(4164),n(5183),n(3688)),u=n(2338),d=n(2007),h=n(5203),f={to:d.string.isRequired,containerId:d.string,container:d.object,activeClass:d.string,spy:d.bool,smooth:d.oneOfType([d.bool,d.string]),offset:d.number,delay:d.number,isDynamic:d.bool,onClick:d.func,duration:d.oneOfType([d.number,d.func]),absolute:d.bool,onSetActive:d.func,onSetInactive:d.func,ignoreCancelEvents:d.bool,hashSpy:d.bool,spyThrottle:d.number},p={Scroll:function(e,t){console.warn("Helpers.Scroll is deprecated since v1.7.0");var n=t||u,d=function(t){function u(e){a(this,u);var t=o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return p.call(t),t.state={active:!1},t}return s(u,t),i(u,[{key:"getScrollSpyContainer",value:function(){var e=this.props.containerId,t=this.props.container;return e?document.getElementById(e):t&&t.nodeType?t:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var e=this.getScrollSpyContainer();c.isMounted(e)||c.mount(e,this.props.spyThrottle),this.props.hashSpy&&(h.isMounted()||h.mount(n),h.mapContainer(this.props.to,e)),this.props.spy&&c.addStateHandler(this.stateHandler),c.addSpyHandler(this.spyHandler,e),this.setState({container:e})}}},{key:"componentWillUnmount",value:function(){c.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var t="";t=this.state&&this.state.active?((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():this.props.className;var n=r({},this.props);for(var i in f)n.hasOwnProperty(i)&&delete n[i];return n.className=t,n.onClick=this.handleClick,l.createElement(e,n)}}]),u}(l.Component),p=function(){var e=this;this.scrollTo=function(t,i){n.scrollTo(t,r({},e.state,i))},this.handleClick=function(t){e.props.onClick&&e.props.onClick(t),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),e.scrollTo(e.props.to,e.props)},this.stateHandler=function(){n.getActiveLink()!==e.props.to&&(null!==e.state&&e.state.active&&e.props.onSetInactive&&e.props.onSetInactive(),e.setState({active:!1}))},this.spyHandler=function(t){var r=e.getScrollSpyContainer();if(!h.isMounted()||h.isInitialized()){var i=e.props.to,a=null,o=0,s=0,l=0;if(r.getBoundingClientRect)l=r.getBoundingClientRect().top;if(!a||e.props.isDynamic){if(!(a=n.get(i)))return;var u=a.getBoundingClientRect();s=(o=u.top-l+t)+u.height}var d=t-e.props.offset,f=d>=Math.floor(o)&&d<Math.floor(s),p=d<Math.floor(o)||d>=Math.floor(s),v=n.getActiveLink();return p?(i===v&&n.setActiveLink(void 0),e.props.hashSpy&&h.getHash()===i&&h.changeHash(),e.props.spy&&e.state.active&&(e.setState({active:!1}),e.props.onSetInactive&&e.props.onSetInactive()),c.updateStates()):f&&v!==i?(n.setActiveLink(i),e.props.hashSpy&&h.changeHash(i),e.props.spy&&(e.setState({active:!0}),e.props.onSetActive&&e.props.onSetActive(i)),c.updateStates()):void 0}}};return d.propTypes=f,d.defaultProps={offset:0},d},Element:function(e){console.warn("Helpers.Element is deprecated since v1.7.0");var t=function(t){function n(e){a(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.childBindings={domNode:null},t}return s(n,t),i(n,[{key:"componentDidMount",value:function(){if("undefined"===typeof window)return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(e){this.props.name!==e.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if("undefined"===typeof window)return!1;u.unregister(this.props.name)}},{key:"registerElems",value:function(e){u.register(e,this.childBindings.domNode)}},{key:"render",value:function(){return l.createElement(e,r({},this.props,{parentBindings:this.childBindings}))}}]),n}(l.Component);return t.propTypes={name:d.string,id:d.string},t}};e.exports=p},4102:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(s(n(5183)),s(n(3987))),a=s(n(8616)),o=s(n(979));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return i.default[e.smooth]||i.default.defaultEasing},c=function(){if("undefined"!==typeof window)return window.requestAnimationFrame||window.webkitRequestAnimationFrame}()||function(e,t,n){window.setTimeout(e,n||1e3/60,(new Date).getTime())},u=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollLeft;var n=void 0!==window.pageXOffset,r="CSS1Compat"===(document.compatMode||"");return n?window.pageXOffset:r?document.documentElement.scrollLeft:document.body.scrollLeft},d=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollTop;var n=void 0!==window.pageXOffset,r="CSS1Compat"===(document.compatMode||"");return n?window.pageYOffset:r?document.documentElement.scrollTop:document.body.scrollTop},h=function e(t,n,r){var i=n.data;if(n.ignoreCancelEvents||!i.cancel)if(i.delta=Math.round(i.targetPosition-i.startPosition),null===i.start&&(i.start=r),i.progress=r-i.start,i.percent=i.progress>=i.duration?1:t(i.progress/i.duration),i.currentPosition=i.startPosition+Math.ceil(i.delta*i.percent),i.containerElement&&i.containerElement!==document&&i.containerElement!==document.body?n.horizontal?i.containerElement.scrollLeft=i.currentPosition:i.containerElement.scrollTop=i.currentPosition:n.horizontal?window.scrollTo(i.currentPosition,0):window.scrollTo(0,i.currentPosition),i.percent<1){var a=e.bind(null,t,n);c.call(window,a)}else o.default.registered.end&&o.default.registered.end(i.to,i.target,i.currentPosition);else o.default.registered.end&&o.default.registered.end(i.to,i.target,i.currentPositionY)},f=function(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null},p=function(e,t,n,r){if(t.data=t.data||{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null},window.clearTimeout(t.data.delayTimeout),a.default.subscribe((function(){t.data.cancel=!0})),f(t),t.data.start=null,t.data.cancel=!1,t.data.startPosition=t.horizontal?u(t):d(t),t.data.targetPosition=t.absolute?e:e+t.data.startPosition,t.data.startPosition!==t.data.targetPosition){var i;t.data.delta=Math.round(t.data.targetPosition-t.data.startPosition),t.data.duration=("function"===typeof(i=t.duration)?i:function(){return i})(t.data.delta),t.data.duration=isNaN(parseFloat(t.data.duration))?1e3:parseFloat(t.data.duration),t.data.to=n,t.data.target=r;var s=l(t),p=h.bind(null,s,t);t&&t.delay>0?t.data.delayTimeout=window.setTimeout((function(){o.default.registered.begin&&o.default.registered.begin(t.data.to,t.data.target),c.call(window,p)}),t.delay):(o.default.registered.begin&&o.default.registered.begin(t.data.to,t.data.target),c.call(window,p))}else o.default.registered.end&&o.default.registered.end(t.data.to,t.data.target,t.data.currentPosition)},v=function(e){return(e=r({},e)).data=e.data||{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null},e.absolute=!0,e};t.default={animateTopScroll:p,getAnimationType:l,scrollToTop:function(e){p(0,v(e))},scrollToBottom:function(e){e=v(e),f(e),p(e.horizontal?function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollWidth-t.offsetWidth;var n=document.body,r=document.documentElement;return Math.max(n.scrollWidth,n.offsetWidth,r.clientWidth,r.scrollWidth,r.offsetWidth)}(e):function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollHeight-t.offsetHeight;var n=document.body,r=document.documentElement;return Math.max(n.scrollHeight,n.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight)}(e),e)},scrollTo:function(e,t){p(e,v(t))},scrollMore:function(e,t){t=v(t),f(t);var n=t.horizontal?u(t):d(t);p(e+n,t)}}},8616:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4360),i=["mousedown","mousewheel","touchmove","keydown"];t.default={subscribe:function(e){return"undefined"!==typeof document&&i.forEach((function(t){return(0,r.addPassiveEventListener)(document,t,e)}))}}},4360:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.addPassiveEventListener=function(e,t,n){var r=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(n){}return e}();e.addEventListener(t,n,!!r&&{passive:!0})},t.removePassiveEventListener=function(e,t,n){e.removeEventListener(t,n)}},671:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(2791)),o=(l(n(4164)),l(n(2338))),s=l(n(2007));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.childBindings={domNode:null},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),i(n,[{key:"componentDidMount",value:function(){if("undefined"===typeof window)return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(e){this.props.name!==e.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if("undefined"===typeof window)return!1;o.default.unregister(this.props.name)}},{key:"registerElems",value:function(e){o.default.register(e,this.childBindings.domNode)}},{key:"render",value:function(){return a.default.createElement(e,r({},this.props,{parentBindings:this.childBindings}))}}]),n}(a.default.Component);return t.propTypes={name:s.default.string,id:s.default.string},t}},979:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={registered:{},scrollEvent:{register:function(e,t){n.registered[e]=t},remove:function(e){n.registered[e]=null}}};t.default=n},5203:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(4360);var r,i=n(5183),a=(r=i)&&r.__esModule?r:{default:r};var o={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,t){this.containers[e]=t},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,t=this.getHash();t?window.setTimeout((function(){e.scrollTo(t,!0),e.initialized=!0}),10):this.initialized=!0},scrollTo:function(e,t){var n=this.scroller;if(n.get(e)&&(t||e!==n.getActiveLink())){var r=this.containers[e]||document;n.scrollTo(e,{container:r})}},getHash:function(){return a.default.getHash()},changeHash:function(e,t){this.isInitialized()&&a.default.getHash()!==e&&a.default.updateHash(e,t)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};t.default=o},7585:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(2791)),o=u(n(3688)),s=u(n(2338)),l=u(n(2007)),c=u(n(5203));function u(e){return e&&e.__esModule?e:{default:e}}var d={to:l.default.string.isRequired,containerId:l.default.string,container:l.default.object,activeClass:l.default.string,activeStyle:l.default.object,spy:l.default.bool,horizontal:l.default.bool,smooth:l.default.oneOfType([l.default.bool,l.default.string]),offset:l.default.number,delay:l.default.number,isDynamic:l.default.bool,onClick:l.default.func,duration:l.default.oneOfType([l.default.number,l.default.func]),absolute:l.default.bool,onSetActive:l.default.func,onSetInactive:l.default.func,ignoreCancelEvents:l.default.bool,hashSpy:l.default.bool,saveHashHistory:l.default.bool,spyThrottle:l.default.number};t.default=function(e,t){var n=t||s.default,l=function(t){function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return u.call(t),t.state={active:!1},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,t),i(s,[{key:"getScrollSpyContainer",value:function(){var e=this.props.containerId,t=this.props.container;return e&&!t?document.getElementById(e):t&&t.nodeType?t:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var e=this.getScrollSpyContainer();o.default.isMounted(e)||o.default.mount(e,this.props.spyThrottle),this.props.hashSpy&&(c.default.isMounted()||c.default.mount(n),c.default.mapContainer(this.props.to,e)),o.default.addSpyHandler(this.spyHandler,e),this.setState({container:e})}}},{key:"componentWillUnmount",value:function(){o.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var t="";t=this.state&&this.state.active?((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():this.props.className;var n={};n=this.state&&this.state.active?r({},this.props.style,this.props.activeStyle):r({},this.props.style);var i=r({},this.props);for(var o in d)i.hasOwnProperty(o)&&delete i[o];return i.className=t,i.style=n,i.onClick=this.handleClick,a.default.createElement(e,i)}}]),s}(a.default.PureComponent),u=function(){var e=this;this.scrollTo=function(t,i){n.scrollTo(t,r({},e.state,i))},this.handleClick=function(t){e.props.onClick&&e.props.onClick(t),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),e.scrollTo(e.props.to,e.props)},this.spyHandler=function(t,r){var i=e.getScrollSpyContainer();if(!c.default.isMounted()||c.default.isInitialized()){var a=e.props.horizontal,o=e.props.to,s=null,l=void 0,u=void 0;if(a){var d=0,h=0,f=0;if(i.getBoundingClientRect)f=i.getBoundingClientRect().left;if(!s||e.props.isDynamic){if(!(s=n.get(o)))return;var p=s.getBoundingClientRect();h=(d=p.left-f+t)+p.width}var v=t-e.props.offset;l=v>=Math.floor(d)&&v<Math.floor(h),u=v<Math.floor(d)||v>=Math.floor(h)}else{var m=0,g=0,y=0;if(i.getBoundingClientRect)y=i.getBoundingClientRect().top;if(!s||e.props.isDynamic){if(!(s=n.get(o)))return;var b=s.getBoundingClientRect();g=(m=b.top-y+r)+b.height}var _=r-e.props.offset;l=_>=Math.floor(m)&&_<Math.floor(g),u=_<Math.floor(m)||_>=Math.floor(g)}var x=n.getActiveLink();if(u){if(o===x&&n.setActiveLink(void 0),e.props.hashSpy&&c.default.getHash()===o){var w=e.props.saveHashHistory,S=void 0!==w&&w;c.default.changeHash("",S)}e.props.spy&&e.state.active&&(e.setState({active:!1}),e.props.onSetInactive&&e.props.onSetInactive(o,s))}if(l&&(x!==o||!1===e.state.active)){n.setActiveLink(o);var k=e.props.saveHashHistory,E=void 0!==k&&k;e.props.hashSpy&&c.default.changeHash(o,E),e.props.spy&&(e.setState({active:!0}),e.props.onSetActive&&e.props.onSetActive(o,s))}}}};return l.propTypes=d,l.defaultProps={offset:0},l}},3688:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3881),a=(r=i)&&r.__esModule?r:{default:r},o=n(4360);var s={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(e,t){if(e){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:66;return(0,a.default)(e,t)}((function(t){s.scrollHandler(e)}),t);s.scrollSpyContainers.push(e),(0,o.addPassiveEventListener)(e,"scroll",n)}},isMounted:function(e){return-1!==s.scrollSpyContainers.indexOf(e)},currentPositionX:function(e){if(e===document){var t=void 0!==window.pageYOffset,n="CSS1Compat"===(document.compatMode||"");return t?window.pageXOffset:n?document.documentElement.scrollLeft:document.body.scrollLeft}return e.scrollLeft},currentPositionY:function(e){if(e===document){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(document.compatMode||"");return t?window.pageYOffset:n?document.documentElement.scrollTop:document.body.scrollTop}return e.scrollTop},scrollHandler:function(e){(s.scrollSpyContainers[s.scrollSpyContainers.indexOf(e)].spyCallbacks||[]).forEach((function(t){return t(s.currentPositionX(e),s.currentPositionY(e))}))},addStateHandler:function(e){s.spySetState.push(e)},addSpyHandler:function(e,t){var n=s.scrollSpyContainers[s.scrollSpyContainers.indexOf(t)];n.spyCallbacks||(n.spyCallbacks=[]),n.spyCallbacks.push(e),e(s.currentPositionX(t),s.currentPositionY(t))},updateStates:function(){s.spySetState.forEach((function(e){return e()}))},unmount:function(e,t){s.scrollSpyContainers.forEach((function(e){return e.spyCallbacks&&e.spyCallbacks.length&&e.spyCallbacks.indexOf(t)>-1&&e.spyCallbacks.splice(e.spyCallbacks.indexOf(t),1)})),s.spySetState&&s.spySetState.length&&s.spySetState.indexOf(e)>-1&&s.spySetState.splice(s.spySetState.indexOf(e),1),document.removeEventListener("scroll",s.scrollHandler)},update:function(){return s.scrollSpyContainers.forEach((function(e){return s.scrollHandler(e)}))}};t.default=s},2338:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(5183)),a=s(n(4102)),o=s(n(979));function s(e){return e&&e.__esModule?e:{default:e}}var l={},c=void 0;t.default={unmount:function(){l={}},register:function(e,t){l[e]=t},unregister:function(e){delete l[e]},get:function(e){return l[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return c=e},getActiveLink:function(){return c},scrollTo:function(e,t){var n=this.get(e);if(n){var s=(t=r({},t,{absolute:!1})).containerId,l=t.container,c=void 0;c=s?document.getElementById(s):l&&l.nodeType?l:document,t.absolute=!0;var u=t.horizontal,d=i.default.scrollOffset(c,n,u)+(t.offset||0);if(!t.smooth)return o.default.registered.begin&&o.default.registered.begin(e,n),c===document?t.horizontal?window.scrollTo(d,0):window.scrollTo(0,d):c.scrollTop=d,void(o.default.registered.end&&o.default.registered.end(e,n));a.default.animateTopScroll(d,t,e,n)}else console.warn("target Element not found")}}},3987:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={defaultEasing:function(e){return e<.5?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}},5183:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){for(var n=e.offsetTop,r=e.offsetParent;r&&!t(r);)n+=r.offsetTop,r=r.offsetParent;return{offsetTop:n,offsetParent:r}};t.default={updateHash:function(e,t){var n=0===e.indexOf("#")?e.substring(1):e,r=n?"#"+n:"",i=window&&window.location,a=r?i.pathname+i.search+r:i.pathname+i.search;t?history.pushState(history.state,"",a):history.replaceState(history.state,"",a)},getHash:function(){return window.location.hash.replace(/^#/,"")},filterElementInContainer:function(e){return function(t){return e.contains?e!=t&&e.contains(t):!!(16&e.compareDocumentPosition(t))}},scrollOffset:function(e,t,r){if(r)return e===document?t.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):"static"!==getComputedStyle(e).position?t.offsetLeft:t.offsetLeft-e.offsetLeft;if(e===document)return t.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if("static"!==getComputedStyle(e).position){if(t.offsetParent!==e){var i=n(t,(function(t){return t===e||t===document})),a=i.offsetTop;if(i.offsetParent!==e)throw new Error("Seems containerElement is not an ancestor of the Element");return a}return t.offsetTop}if(t.offsetParent===e.offsetParent)return t.offsetTop-e.offsetTop;var o=function(e){return e===document};return n(t,o).offsetTop-n(e,o).offsetTop}}},9475:function(e,t,n){"use strict";var r,i=n(2791),a=(r=i)&&"object"===typeof r&&"default"in r?r.default:r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=!("undefined"===typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,n){if("function"!==typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!==typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!==typeof n&&"function"!==typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!==typeof r)throw new Error("Expected WrappedComponent to be a React component.");var l,c=[];function u(){l=e(c.map((function(e){return e.props}))),d.canUseDOM?t(l):n&&(l=n(l))}var d=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.peek=function(){return l},i.rewind=function(){if(i.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=l;return l=void 0,c=[],e};var o=i.prototype;return o.UNSAFE_componentWillMount=function(){c.push(this),u()},o.componentDidUpdate=function(){u()},o.componentWillUnmount=function(){var e=c.indexOf(this);c.splice(e,1),u()},o.render=function(){return a.createElement(r,this.props)},i}(i.PureComponent);return o(d,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")"),o(d,"canUseDOM",s),d}}},9318:function(e,t,n){"use strict";t.s=void 0;var r=a(n(4164)),i=a(n(8340));function a(e){return e&&e.__esModule?e:{default:e}}t.s=function(e,t){navigator.userAgent.match(/Node\.js/i)&&window&&window.reactSnapshotRender?(t.innerHTML=i.default.renderToString(e),window.reactSnapshotRender()):r.default.render(e,t)}},6374:function(e,t,n){"use strict";var r=n(2791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,n){"use strict";var r=n(1725),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function _(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function x(){}function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=_.prototype;var S=w.prototype=new x;S.constructor=w,r(S,_.prototype),S.isPureReactComponent=!0;var k={current:null},E=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,r)&&!M.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:k.current}}function P(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var A=/\/+/g,C=[];function R(e,t,n,r){if(C.length){var i=C.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function O(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>C.length&&C.push(e)}function L(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case a:case o:s=!0}}if(s)return n(r,e,""===t?"."+I(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=t+I(i=e[l],l);s+=L(i,c,n,r)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=m&&e[m]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),l=0;!(i=e.next()).done;)s+=L(i=i.value,c=t+I(i,l++),n,r);else if("object"===i)throw n=""+e,Error(g(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return s}function F(e,t,n){return null==e?0:L(e,"",t,n)}function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function N(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?j(e,r,n,(function(e){return e})):null!=e&&(P(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function j(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(A,"$&/")+"/"),F(e,D,t=R(t,a,r,i)),O(t)}var z={current:null};function H(){var e=z.current;if(null===e)throw Error(g(321));return e}var B={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return j(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;F(e,N,t=R(null,null,t,n)),O(t)},count:function(e){return F(e,(function(){return null}),null)},toArray:function(e){var t=[];return j(e,t,null,(function(e){return e})),t},only:function(e){if(!P(e))throw Error(g(143));return e}},t.Component=_,t.Fragment=s,t.Profiler=c,t.PureComponent=w,t.StrictMode=l,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(g(267,e));var i=r({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)E.call(t,u)&&!M.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return H().useCallback(e,t)},t.useContext=function(e,t){return H().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return H().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return H().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return H().useLayoutEffect(e,t)},t.useMemo=function(e,t){return H().useMemo(e,t)},t.useReducer=function(e,t,n){return H().useReducer(e,t,n)},t.useRef=function(e){return H().useRef(e)},t.useState=function(e){return H().useState(e)},t.version="16.14.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";var n,r,i,a,o;if("undefined"===typeof window||"function"!==typeof MessageChannel){var s=null,l=null,c=function e(){if(null!==s)try{var n=t.unstable_now();s(!0,n),s=null}catch(r){throw setTimeout(e,0),r}},u=Date.now();t.unstable_now=function(){return Date.now()-u},n=function(e){null!==s?setTimeout(n,0,e):(s=e,setTimeout(c,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},a=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,h=window.Date,f=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof d&&"function"===typeof d.now)t.unstable_now=function(){return d.now()};else{var m=h.now();t.unstable_now=function(){return h.now()-m}}var g=!1,y=null,b=-1,_=5,x=0;a=function(){return t.unstable_now()>=x},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,S=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();x=e+_;try{y(!0,e)?S.postMessage(null):(g=!1,y=null)}catch(n){throw S.postMessage(null),n}}else g=!1},n=function(e){y=e,g||(g=!0,S.postMessage(null))},r=function(e,n){b=f((function(){e(t.unstable_now())}),n)},i=function(){p(b),b=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function M(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,l=e[s];if(void 0!==o&&0>T(o,n))void 0!==l&&0>T(l,o)?(e[r]=l,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==l&&0>T(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var P=[],A=[],C=1,R=null,O=3,L=!1,F=!1,I=!1;function N(e){for(var t=E(A);null!==t;){if(null===t.callback)M(A);else{if(!(t.startTime<=e))break;M(A),t.sortIndex=t.expirationTime,k(P,t)}t=E(A)}}function D(e){if(I=!1,N(e),!F)if(null!==E(P))F=!0,n(j);else{var t=E(A);null!==t&&r(D,t.startTime-e)}}function j(e,n){F=!1,I&&(I=!1,i()),L=!0;var o=O;try{for(N(n),R=E(P);null!==R&&(!(R.expirationTime>n)||e&&!a());){var s=R.callback;if(null!==s){R.callback=null,O=R.priorityLevel;var l=s(R.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?R.callback=l:R===E(P)&&M(P),N(n)}else M(P);R=E(P)}if(null!==R)var c=!0;else{var u=E(A);null!==u&&r(D,u.startTime-n),c=!1}return c}finally{R=null,O=o,L=!1}}function z(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var H=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){F||L||(F=!0,n(j))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return E(P)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=H,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();if("object"===typeof o&&null!==o){var l=o.delay;l="number"===typeof l&&0<l?s+l:s,o="number"===typeof o.timeout?o.timeout:z(e)}else o=z(e),l=s;return e={id:C++,callback:a,priorityLevel:e,startTime:l,expirationTime:o=l+o,sortIndex:-1},l>s?(e.sortIndex=l,k(A,e),null===E(P)&&e===E(A)&&(I?i():I=!0,r(D,l-s))):(e.sortIndex=o,k(P,e),F||L||(F=!0,n(j))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();N(e);var n=E(P);return n!==R&&null!==R&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<R.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},7399:function(e){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},3414:function(){},172:function(){},2001:function(){},3779:function(){},6558:function(){},2258:function(){},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},7156:function(e){function t(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function s(e){t(o,i,a,s,l,"next",e)}function l(e){t(o,i,a,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},6521:function(e){e.exports=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")},e.exports.__esModule=!0,e.exports.default=e.exports},8912:function(e){e.exports=function(e,t){return t.get?t.get.call(e):t.value},e.exports.__esModule=!0,e.exports.default=e.exports},3448:function(e){e.exports=function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},2625:function(e){e.exports=function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")},e.exports.__esModule=!0,e.exports.default=e.exports},2506:function(e){e.exports=function(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")},e.exports.__esModule=!0,e.exports.default=e.exports},4069:function(e){e.exports=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)},e.exports.__esModule=!0,e.exports.default=e.exports},468:function(e,t,n){var r=n(8912),i=n(4069);e.exports=function(e,t){var n=i(e,t,"get");return r(e,n)},e.exports.__esModule=!0,e.exports.default=e.exports},9159:function(e,t,n){var r=n(6521);e.exports=function(e,t,n){r(e,t),t.set(e,n)},e.exports.__esModule=!0,e.exports.default=e.exports},5661:function(e,t,n){var r=n(3448),i=n(4069);e.exports=function(e,t,n){var a=i(e,t,"set");return r(e,a,n),n},e.exports.__esModule=!0,e.exports.default=e.exports},4467:function(e){e.exports=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n},e.exports.__esModule=!0,e.exports.default=e.exports},1860:function(e,t,n){var r=n(6521);e.exports=function(e,t){r(e,t),t.add(e)},e.exports.__esModule=!0,e.exports.default=e.exports},1280:function(e,t,n){var r=n(8912),i=n(2625),a=n(2506);e.exports=function(e,t,n){return i(e,t),a(n,"get"),r(e,n)},e.exports.__esModule=!0,e.exports.default=e.exports},2306:function(e,t,n){var r=n(3448),i=n(2625),a=n(2506);e.exports=function(e,t,n,o){return i(e,t),a(n,"set"),r(e,n,o),o},e.exports.__esModule=!0,e.exports.default=e.exports},5764:function(e,t,n){var r=n(2625);e.exports=function(e,t,n){return r(e,t),n},e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var r=n(4062);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),a=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,n){var r=n(4062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},1588:function(e,t,n){var r=n(1753);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2122:function(e,t,n){var r=n(8416);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(R){d=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:k(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}t.wrap=h;var p={};function v(){}function m(){}function g(){}var y={};d(y,l,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(A([])));_&&_!==n&&a.call(_,l)&&(y=_);var x=g.prototype=v.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,o,s,l){var c=f(e[i],e,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==r(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function k(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=f(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function A(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return m.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=d(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,d(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},w(S.prototype),d(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new S(h(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(x),d(x,u,"Generator"),d(x,l,(function(){return this})),d(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),l=a.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),a=n(6116),o=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,n){var r=n(3808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),a=n(6116),o=n(2281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="./";var __webpack_exports__={};!function(){"use strict";var e=__webpack_require__(2791),t=__webpack_require__(9318);function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}var i=__webpack_require__(2007),a=__webpack_require__.n(i);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){return"/"===e.charAt(0)}function l(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var c=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&s(e),o=t&&s(t),c=a||o;if(e&&s(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var d=0,h=i.length;h>=0;h--){var f=i[h];"."===f?l(i,h):".."===f?(l(i,h),d++):d&&(l(i,h),d--)}if(!c)for(;d--;d)i.unshift("..");!c||""===i[0]||i[0]&&s(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p},u=!0,d="Invariant failed";function h(e,t){if(!e){if(u)throw new Error(d);var n="function"===typeof t?t():t,r=n?"".concat(d,": ").concat(n):d;throw new Error(r)}}function f(e){return"/"===e.charAt(0)?e:"/"+e}function p(e){return"/"===e.charAt(0)?e.substr(1):e}function v(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function m(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function g(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function y(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=o({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=c(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function b(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var _=!("undefined"===typeof window||!window.document||!window.document.createElement);function x(e,t){t(window.confirm(e))}var w="popstate",S="hashchange";function k(){try{return window.history.state||{}}catch(e){return{}}}function E(e){void 0===e&&(e={}),_||h(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,s=void 0!==a&&a,l=i.getUserConfirmation,c=void 0===l?x:l,u=i.keyLength,d=void 0===u?6:u,p=e.basename?m(f(e.basename)):"";function E(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return p&&(a=v(a,p)),y(a,r,n)}function M(){return Math.random().toString(36).substr(2,d)}var T=b();function P(e){o(H,e),H.length=t.length,T.notifyListeners(H.location,H.action)}function A(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||O(E(e.state))}function C(){O(E(k()))}var R=!1;function O(e){if(R)R=!1,P();else{T.confirmTransitionTo(e,"POP",c,(function(t){t?P({action:"POP",location:e}):function(e){var t=H.location,n=F.indexOf(t.key);-1===n&&(n=0);var r=F.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(R=!0,N(i))}(e)}))}}var L=E(k()),F=[L.key];function I(e){return p+g(e)}function N(e){t.go(e)}var D=0;function j(e){1===(D+=e)&&1===e?(window.addEventListener(w,A),r&&window.addEventListener(S,C)):0===D&&(window.removeEventListener(w,A),r&&window.removeEventListener(S,C))}var z=!1;var H={length:t.length,action:"POP",location:L,createHref:I,push:function(e,r){var i="PUSH",a=y(e,r,M(),H.location);T.confirmTransitionTo(a,i,c,(function(e){if(e){var r=I(a),o=a.key,l=a.state;if(n)if(t.pushState({key:o,state:l},null,r),s)window.location.href=r;else{var c=F.indexOf(H.location.key),u=F.slice(0,c+1);u.push(a.key),F=u,P({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=y(e,r,M(),H.location);T.confirmTransitionTo(a,i,c,(function(e){if(e){var r=I(a),o=a.key,l=a.state;if(n)if(t.replaceState({key:o,state:l},null,r),s)window.location.replace(r);else{var c=F.indexOf(H.location.key);-1!==c&&(F[c]=a.key),P({action:i,location:a})}else window.location.replace(r)}}))},go:N,goBack:function(){N(-1)},goForward:function(){N(1)},block:function(e){void 0===e&&(e=!1);var t=T.setPrompt(e);return z||(j(1),z=!0),function(){return z&&(z=!1,j(-1)),t()}},listen:function(e){var t=T.appendListener(e);return j(1),function(){j(-1),t()}}};return H}var M="hashchange",T={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+p(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:p,decodePath:f},slash:{encodePath:f,decodePath:f}};function P(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function A(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function C(e){window.location.replace(P(window.location.href)+"#"+e)}function R(e){void 0===e&&(e={}),_||h(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?x:r,a=n.hashType,s=void 0===a?"slash":a,l=e.basename?m(f(e.basename)):"",c=T[s],u=c.encodePath,d=c.decodePath;function p(){var e=d(A());return l&&(e=v(e,l)),y(e)}var w=b();function S(e){o(H,e),H.length=t.length,w.notifyListeners(H.location,H.action)}var k=!1,E=null;function R(){var e=A(),t=u(e);if(e!==t)C(t);else{var n=p(),r=H.location;if(!k&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(E===g(n))return;E=null,function(e){if(k)k=!1,S();else{var t="POP";w.confirmTransitionTo(e,t,i,(function(n){n?S({action:t,location:e}):function(e){var t=H.location,n=I.lastIndexOf(g(t));-1===n&&(n=0);var r=I.lastIndexOf(g(e));-1===r&&(r=0);var i=n-r;i&&(k=!0,N(i))}(e)}))}}(n)}}var O=A(),L=u(O);O!==L&&C(L);var F=p(),I=[g(F)];function N(e){t.go(e)}var D=0;function j(e){1===(D+=e)&&1===e?window.addEventListener(M,R):0===D&&window.removeEventListener(M,R)}var z=!1;var H={length:t.length,action:"POP",location:F,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=P(window.location.href)),n+"#"+u(l+g(e))},push:function(e,t){var n="PUSH",r=y(e,void 0,void 0,H.location);w.confirmTransitionTo(r,n,i,(function(e){if(e){var t=g(r),i=u(l+t);if(A()!==i){E=t,function(e){window.location.hash=e}(i);var a=I.lastIndexOf(g(H.location)),o=I.slice(0,a+1);o.push(t),I=o,S({action:n,location:r})}else S()}}))},replace:function(e,t){var n="REPLACE",r=y(e,void 0,void 0,H.location);w.confirmTransitionTo(r,n,i,(function(e){if(e){var t=g(r),i=u(l+t);A()!==i&&(E=t,C(i));var a=I.indexOf(g(H.location));-1!==a&&(I[a]=t),S({action:n,location:r})}}))},go:N,goBack:function(){N(-1)},goForward:function(){N(1)},block:function(e){void 0===e&&(e=!1);var t=w.setPrompt(e);return z||(j(1),z=!0),function(){return z&&(z=!1,j(-1)),t()}},listen:function(e){var t=w.appendListener(e);return j(1),function(){j(-1),t()}}};return H}function O(e,t,n){return Math.min(Math.max(e,t),n)}var L=__webpack_require__(6151),F=__webpack_require__.n(L);__webpack_require__(8228);function I(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var N=__webpack_require__(2110),D=__webpack_require__.n(N),j=1073741823,z="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof __webpack_require__.g?__webpack_require__.g:{};var H=e.createContext||function(t,n){var i,o,s="__create-react-context-"+function(){var e="__global_unique_id__";return z[e]=(z[e]||0)+1}()+"__",l=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}r(t,e);var i=t.prototype;return i.getChildContext=function(){var e;return(e={})[s]=this.emitter,e},i.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;((a=r)===(o=i)?0!==a||1/a===1/o:a!==a&&o!==o)?t=0:(t="function"===typeof n?n(r,i):j,0!==(t|=0)&&this.emitter.set(e.value,t))}var a,o},i.render=function(){return this.props.children},t}(e.Component);l.childContextTypes=((i={})[s]=a().object.isRequired,i);var c=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).observedBits=void 0,t.state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}r(n,e);var i=n.prototype;return i.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?j:t},i.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?j:e},i.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},i.getValue=function(){return this.context[s]?this.context[s].get():t},i.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(e.Component);return c.contextTypes=((o={})[s]=a().object,o),{Provider:l,Consumer:c}},B=function(e){var t=H();return t.displayName=e,t},U=B("Router-History"),G=B("Router"),W=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(e){n._pendingLocation=e}))),n}r(n,t),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var i=n.prototype;return i.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},i.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},i.render=function(){return e.createElement(G.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},e.createElement(U.Provider,{children:this.props.children||null,value:this.props.history}))},n}(e.Component);e.Component;e.Component;var V={},q=1e4,X=0;function Y(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,s=void 0!==o&&o,l=n.sensitive,c=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=V[n]||(V[n]={});if(r[e])return r[e];var i=[],a={regexp:F()(e,i,t),keys:i};return X<q&&(r[e]=a,X++),a}(n,{end:a,strict:s,sensitive:c}),i=r.regexp,o=r.keys,l=i.exec(e);if(!l)return null;var u=l[0],d=l.slice(1),h=e===u;return a&&!h?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}e.Component;function K(e){return"/"===e.charAt(0)?e:"/"+e}function J(e,t){if(!e)return t;var n=K(e);return 0!==t.pathname.indexOf(n)?t:o({},t,{pathname:t.pathname.substr(n.length)})}function Z(e){return"string"===typeof e?e:g(e)}function Q(e){return function(){h(!1)}}function $(){}e.Component;e.Component;e.useContext;var ee=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=E(e.props),e}return r(n,t),n.prototype.render=function(){return e.createElement(W,{history:this.history,children:this.props.children})},n}(e.Component);e.Component;var te=function(e,t){return"function"===typeof e?e(t):e},ne=function(e,t){return"string"===typeof e?y(e,null,null,t):e},re=function(e){return e},ie=e.forwardRef;"undefined"===typeof ie&&(ie=re);var ae=ie((function(t,n){var r=t.innerRef,i=t.navigate,a=t.onClick,s=I(t,["innerRef","navigate","onClick"]),l=s.target,c=o({},s,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||l&&"_self"!==l||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return c.ref=re!==ie&&n||r,e.createElement("a",c)}));var oe=ie((function(t,n){var r=t.component,i=void 0===r?ae:r,a=t.replace,s=t.to,l=t.innerRef,c=I(t,["component","replace","to","innerRef"]);return e.createElement(G.Consumer,null,(function(t){t||h(!1);var r=t.history,u=ne(te(s,t.location),t.location),d=u?r.createHref(u):"",f=o({},c,{href:d,navigate:function(){var e=te(s,t.location),n=g(t.location)===g(ne(e));(a||n?r.replace:r.push)(e)}});return re!==ie?f.ref=n||l:f.innerRef=l,e.createElement(i,f)}))})),se=function(e){return e},le=e.forwardRef;"undefined"===typeof le&&(le=se);le((function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,a=t.activeClassName,s=void 0===a?"active":a,l=t.activeStyle,c=t.className,u=t.exact,d=t.isActive,f=t.location,p=t.sensitive,v=t.strict,m=t.style,g=t.to,y=t.innerRef,b=I(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return e.createElement(G.Consumer,null,(function(t){t||h(!1);var r=f||t.location,a=ne(te(g,r),r),_=a.pathname,x=_&&_.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=x?Y(r.pathname,{path:x,exact:u,sensitive:p,strict:v}):null,S=!!(d?d(w,r):w),k="function"===typeof c?c(S):c,E="function"===typeof m?m(S):m;S&&(k=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(k,s),E=o({},E,l));var M=o({"aria-current":S&&i||null,className:k,style:E,to:a},b);return se!==le?M.ref=n||y:M.innerRef=y,e.createElement(oe,M)}))}));var ce=__webpack_require__(9475),ue=__webpack_require__.n(ce),de=__webpack_require__(77),he=__webpack_require__.n(de),fe=__webpack_require__(1725),pe=__webpack_require__.n(fe),ve="bodyAttributes",me="htmlAttributes",ge="titleAttributes",ye={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},be=(Object.keys(ye).map((function(e){return ye[e]})),"charset"),_e="cssText",xe="href",we="http-equiv",Se="innerHTML",ke="itemprop",Ee="name",Me="property",Te="rel",Pe="src",Ae="target",Ce={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Re="defaultTitle",Oe="defer",Le="encodeSpecialCharacters",Fe="onChangeClientState",Ie="titleTemplate",Ne=Object.keys(Ce).reduce((function(e,t){return e[Ce[t]]=t,e}),{}),De=[ye.NOSCRIPT,ye.SCRIPT,ye.STYLE],je="data-react-helmet",ze="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Be=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},We=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},Ve=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},qe=function(e){var t=Ze(e,ye.TITLE),n=Ze(e,Ie);if(n&&t)return n.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var r=Ze(e,Re);return t||r||void 0},Xe=function(e){return Ze(e,Fe)||function(){}},Ye=function(e,t){return t.filter((function(t){return"undefined"!==typeof t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return Ue({},e,t)}),{})},Ke=function(e,t){return t.filter((function(e){return"undefined"!==typeof e[ye.BASE]})).map((function(e){return e[ye.BASE]})).reverse().reduce((function(t,n){if(!t.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var a=r[i].toLowerCase();if(-1!==e.indexOf(a)&&n[a])return t.concat(n)}return t}),[])},Je=function(e,t,n){var r={};return n.filter((function(t){return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&nt("Helmet: "+e+' should be of type "Array". Instead found type "'+ze(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,n){var i={};n.filter((function(e){for(var n=void 0,a=Object.keys(e),o=0;o<a.length;o++){var s=a[o],l=s.toLowerCase();-1===t.indexOf(l)||n===Te&&"canonical"===e[n].toLowerCase()||l===Te&&"stylesheet"===e[l].toLowerCase()||(n=l),-1===t.indexOf(s)||s!==Se&&s!==_e&&s!==ke||(n=s)}if(!n||!e[n])return!1;var c=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][c]&&(i[n][c]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var a=Object.keys(i),o=0;o<a.length;o++){var s=a[o],l=pe()({},r[s],i[s]);r[s]=l}return e}),[]).reverse()},Ze=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},Qe=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout((function(){Qe(t)}),0)}}(),$e=function(e){return clearTimeout(e)},et="undefined"!==typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Qe:__webpack_require__.g.requestAnimationFrame||Qe,tt="undefined"!==typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||$e:__webpack_require__.g.cancelAnimationFrame||$e,nt=function(e){return console&&"function"===typeof console.warn&&console.warn(e)},rt=null,it=function(e,t){var n=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,a=e.linkTags,o=e.metaTags,s=e.noscriptTags,l=e.onChangeClientState,c=e.scriptTags,u=e.styleTags,d=e.title,h=e.titleAttributes;st(ye.BODY,r),st(ye.HTML,i),ot(d,h);var f={baseTag:lt(ye.BASE,n),linkTags:lt(ye.LINK,a),metaTags:lt(ye.META,o),noscriptTags:lt(ye.NOSCRIPT,s),scriptTags:lt(ye.SCRIPT,c),styleTags:lt(ye.STYLE,u)},p={},v={};Object.keys(f).forEach((function(e){var t=f[e],n=t.newTags,r=t.oldTags;n.length&&(p[e]=n),r.length&&(v[e]=f[e].oldTags)})),t&&t(),l(e,p,v)},at=function(e){return Array.isArray(e)?e.join(""):e},ot=function(e,t){"undefined"!==typeof e&&document.title!==e&&(document.title=at(e)),st(ye.TITLE,t)},st=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(je),i=r?r.split(","):[],a=[].concat(i),o=Object.keys(t),s=0;s<o.length;s++){var l=o[s],c=t[l]||"";n.getAttribute(l)!==c&&n.setAttribute(l,c),-1===i.indexOf(l)&&i.push(l);var u=a.indexOf(l);-1!==u&&a.splice(u,1)}for(var d=a.length-1;d>=0;d--)n.removeAttribute(a[d]);i.length===a.length?n.removeAttribute(je):n.getAttribute(je)!==o.join(",")&&n.setAttribute(je,o.join(","))}},lt=function(e,t){var n=document.head||document.querySelector(ye.HEAD),r=n.querySelectorAll(e+"["+je+"]"),i=Array.prototype.slice.call(r),a=[],o=void 0;return t&&t.length&&t.forEach((function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===Se)n.innerHTML=t.innerHTML;else if(r===_e)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var s="undefined"===typeof t[r]?"":t[r];n.setAttribute(r,s)}n.setAttribute(je,"true"),i.some((function(e,t){return o=t,n.isEqualNode(e)}))?i.splice(o,1):a.push(n)})),i.forEach((function(e){return e.parentNode.removeChild(e)})),a.forEach((function(e){return n.appendChild(e)})),{oldTags:i,newTags:a}},ct=function(e){return Object.keys(e).reduce((function(t,n){var r="undefined"!==typeof e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r}),"")},ut=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[Ce[n]||n]=e[n],t}),t)},dt=function(t,n,r){switch(t){case ye.TITLE:return{toComponent:function(){return function(t,n,r){var i,a=((i={key:n})[je]=!0,i),o=ut(r,a);return[e.createElement(ye.TITLE,o,n)]}(0,n.title,n.titleAttributes)},toString:function(){return function(e,t,n,r){var i=ct(n),a=at(t);return i?"<"+e+" "+je+'="true" '+i+">"+Ve(a,r)+"</"+e+">":"<"+e+" "+je+'="true">'+Ve(a,r)+"</"+e+">"}(t,n.title,n.titleAttributes,r)}};case ve:case me:return{toComponent:function(){return ut(n)},toString:function(){return ct(n)}};default:return{toComponent:function(){return function(t,n){return n.map((function(n,r){var i,a=((i={key:r})[je]=!0,i);return Object.keys(n).forEach((function(e){var t=Ce[e]||e;if(t===Se||t===_e){var r=n.innerHTML||n.cssText;a.dangerouslySetInnerHTML={__html:r}}else a[t]=n[e]})),e.createElement(t,a)}))}(t,n)},toString:function(){return function(e,t,n){return t.reduce((function(t,r){var i=Object.keys(r).filter((function(e){return!(e===Se||e===_e)})).reduce((function(e,t){var i="undefined"===typeof r[t]?t:t+'="'+Ve(r[t],n)+'"';return e?e+" "+i:i}),""),a=r.innerHTML||r.cssText||"",o=-1===De.indexOf(e);return t+"<"+e+" "+je+'="true" '+i+(o?"/>":">"+a+"</"+e+">")}),"")}(t,n,r)}}}},ht=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,a=e.linkTags,o=e.metaTags,s=e.noscriptTags,l=e.scriptTags,c=e.styleTags,u=e.title,d=void 0===u?"":u,h=e.titleAttributes;return{base:dt(ye.BASE,t,r),bodyAttributes:dt(ve,n,r),htmlAttributes:dt(me,i,r),link:dt(ye.LINK,a,r),meta:dt(ye.META,o,r),noscript:dt(ye.NOSCRIPT,s,r),script:dt(ye.SCRIPT,l,r),style:dt(ye.STYLE,c,r),title:dt(ye.TITLE,{title:d,titleAttributes:h},r)}},ft=function(t){var n,r;return r=n=function(n){function r(){return He(this,r),We(this,n.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),r.prototype.shouldComponentUpdate=function(e){return!he()(this.props,e)},r.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case ye.SCRIPT:case ye.NOSCRIPT:return{innerHTML:t};case ye.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},r.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren,i=e.newChildProps,a=e.nestedChildren;return Ue({},r,((t={})[n.type]=[].concat(r[n.type]||[],[Ue({},i,this.mapNestedChildrenToProps(n,a))]),t))},r.prototype.mapObjectTypeChildren=function(e){var t,n,r=e.child,i=e.newProps,a=e.newChildProps,o=e.nestedChildren;switch(r.type){case ye.TITLE:return Ue({},i,((t={})[r.type]=o,t.titleAttributes=Ue({},a),t));case ye.BODY:return Ue({},i,{bodyAttributes:Ue({},a)});case ye.HTML:return Ue({},i,{htmlAttributes:Ue({},a)})}return Ue({},i,((n={})[r.type]=Ue({},a),n))},r.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=Ue({},t);return Object.keys(e).forEach((function(t){var r;n=Ue({},n,((r={})[t]=e[t],r))})),n},r.prototype.warnOnInvalidChildren=function(e,t){return!0},r.prototype.mapChildrenToProps=function(t,n){var r=this,i={};return e.Children.forEach(t,(function(e){if(e&&e.props){var t=e.props,a=t.children,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[Ne[n]||n]=e[n],t}),t)}(Ge(t,["children"]));switch(r.warnOnInvalidChildren(e,a),e.type){case ye.LINK:case ye.META:case ye.NOSCRIPT:case ye.SCRIPT:case ye.STYLE:i=r.flattenArrayTypeChildren({child:e,arrayTypeChildren:i,newChildProps:o,nestedChildren:a});break;default:n=r.mapObjectTypeChildren({child:e,newProps:n,newChildProps:o,nestedChildren:a})}}})),n=this.mapArrayTypeChildrenToProps(i,n)},r.prototype.render=function(){var n=this.props,r=n.children,i=Ge(n,["children"]),a=Ue({},i);return r&&(a=this.mapChildrenToProps(r,a)),e.createElement(t,a)},Be(r,null,[{key:"canUseDOM",set:function(e){t.canUseDOM=e}}]),r}(e.Component),n.propTypes={base:a().object,bodyAttributes:a().object,children:a().oneOfType([a().arrayOf(a().node),a().node]),defaultTitle:a().string,defer:a().bool,encodeSpecialCharacters:a().bool,htmlAttributes:a().object,link:a().arrayOf(a().object),meta:a().arrayOf(a().object),noscript:a().arrayOf(a().object),onChangeClientState:a().func,script:a().arrayOf(a().object),style:a().arrayOf(a().object),title:a().string,titleAttributes:a().object,titleTemplate:a().string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var e=t.rewind();return e||(e=ht({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),e},r}(ue()((function(e){return{baseTag:Ke([xe,Ae],e),bodyAttributes:Ye(ve,e),defer:Ze(e,Oe),encode:Ze(e,Le),htmlAttributes:Ye(me,e),linkTags:Je(ye.LINK,[Te,xe],e),metaTags:Je(ye.META,[Ee,be,we,Me,ke],e),noscriptTags:Je(ye.NOSCRIPT,[Se],e),onChangeClientState:Xe(e),scriptTags:Je(ye.SCRIPT,[Pe,Se],e),styleTags:Je(ye.STYLE,[_e],e),title:qe(e),titleAttributes:Ye(ge,e)}}),(function(e){rt&&tt(rt),e.defer?rt=et((function(){it(e,(function(){rt=null}))})):(it(e),rt=null)}),ht)((function(){return null})));ft.renderStatic=ft.rewind;var pt=ft,vt=JSON.parse('{"OT":{"u2":"xxxxxxxx","WL":"Hey, I\'m  Xiong\u2014Xu, a front-end engineer based in Shang Hai, China. I love all things technical. Talk soon!","Hw":"personal,website,portfolio,template,computer,science,bremen,germany,react,github,linkedin,google,gitlab,telegram,material,design,ui,webapp"}}'),mt=JSON.parse('{"O":{"T$":"#00bfbf","BD":"#db61a2","Sn":"#111111","ix":"#fafafa","oe":"#DAD7D0","jt":"#292A2C","mc":"#fafafa","UV":"#101113"}}');__webpack_require__(7399);Object.create(null);function gt(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"===typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var yt={};function bt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"===typeof t[0]&&yt[t[0]]||("string"===typeof t[0]&&(yt[t[0]]=new Date),gt.apply(void 0,t))}var _t=function(e,t){return function(){if(e.isInitialized)t();else{e.on("initialized",(function n(){setTimeout((function(){e.off("initialized",n)}),0),t()}))}}};function xt(e,t,n){e.loadNamespaces(t,_t(e,n))}function wt(e,t,n,r){"string"===typeof n&&(n=[n]),n.forEach((function(t){e.options.ns.indexOf(t)<0&&e.options.ns.push(t)})),e.loadLanguages(t,_t(e,r))}function St(e){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},St(e)}function kt(e){var t=function(e,t){if("object"!==St(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==St(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===St(t)?t:String(t)}function Et(e,t,n){return(t=kt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){Et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pt=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,At={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},Ct=function(e){return At[e]},Rt={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(Pt,Ct)}};var Ot;function Lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kt(r.key),r)}}function It(e,t,n){return t&&Ft(e.prototype,t),n&&Ft(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Nt={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Rt=Tt(Tt({},Rt),e)}(e.options.react),function(e){Ot=e}(e)}},Dt=(0,e.createContext)(),jt=function(){function e(){Lt(this,e),this.usedNamespaces={}}return It(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function zt(e){if(Array.isArray(e))return e}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bt(e,t){if(e){if("string"===typeof e)return Ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ht(e,t):void 0}}function Ut(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Gt(e,t){return zt(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||Bt(e,t)||Ut()}var Wt=function(t,n){var r=(0,e.useRef)();return(0,e.useEffect)((function(){r.current=n?r.current:t}),[t,n]),r.current};function Vt(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.i18n,i=(0,e.useContext)(Dt)||{},a=i.i18n,o=i.defaultNS,s=r||a||Ot;if(s&&!s.reportNamespaces&&(s.reportNamespaces=new jt),!s){bt("You will need to pass in an i18next instance by using initReactI18next");var l=function(e,t){return"string"===typeof t?t:t&&"object"===typeof t&&"string"===typeof t.defaultValue?t.defaultValue:Array.isArray(e)?e[e.length-1]:e},c=[l,{},!1];return c.t=l,c.i18n={},c.ready=!1,c}s.options.react&&void 0!==s.options.react.wait&&bt("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var u=Tt(Tt(Tt({},Rt),s.options.react),n),d=u.useSuspense,h=u.keyPrefix,f=t||o||s.options&&s.options.defaultNS;f="string"===typeof f?[f]:f||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(f);var p=(s.isInitialized||s.initializedStoreOnce)&&f.every((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{lng:n.lng,precheck:function(t,r){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.languages[0],i=!!t.options&&t.options.fallbackLng,a=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var o=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!o(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(r,e)||!(t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages))||!(!o(r,e)||i&&!o(a,e)))}(e,t,n):(bt("i18n.languages were undefined or empty",t.languages),!0)}(e,s,u)}));function v(){return s.getFixedT(n.lng||null,"fallback"===u.nsMode?f:f[0],h)}var m=Gt((0,e.useState)(v),2),g=m[0],y=m[1],b=f.join();n.lng&&(b="".concat(n.lng).concat(b));var _=Wt(b),x=(0,e.useRef)(!0);(0,e.useEffect)((function(){var e=u.bindI18n,t=u.bindI18nStore;function r(){x.current&&y(v)}return x.current=!0,p||d||(n.lng?wt(s,n.lng,f,(function(){x.current&&y(v)})):xt(s,f,(function(){x.current&&y(v)}))),p&&_&&_!==b&&x.current&&y(v),e&&s&&s.on(e,r),t&&s&&s.store.on(t,r),function(){x.current=!1,e&&s&&e.split(" ").forEach((function(e){return s.off(e,r)})),t&&s&&t.split(" ").forEach((function(e){return s.store.off(e,r)}))}}),[s,b]);var w=(0,e.useRef)(!0);(0,e.useEffect)((function(){x.current&&!w.current&&y(v),w.current=!1}),[s,h]);var S=[g,s,p];if(S.t=g,S.i18n=s,S.ready=p,p)return S;if(!p&&!d)return S;throw new Promise((function(e){n.lng?wt(s,n.lng,f,(function(){return e()})):xt(s,f,(function(){return e()}))}))}var qt=__webpack_require__(184),Xt=function(){var e=Vt().t;return(0,qt.jsxs)(pt,{children:[(0,qt.jsx)("meta",{name:"theme-color",content:mt.O.T$}),(0,qt.jsxs)("title",{children:[e("Home.meta_name")," | ",e("Home.meta_job"),"  ,",e("Home.meta_city")]}),(0,qt.jsx)("meta",{name:"author",content:e("Home.meta_name")}),(0,qt.jsx)("meta",{name:"description",content:vt.OT.WL}),(0,qt.jsx)("meta",{name:"keywords",content:vt.OT.Hw})]})};function Yt(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}function Kt(e){return String(parseFloat(e)).length===String(e).length}function Jt(e){return parseFloat(e)}function Zt(e){return function(t,n){var r=String(t).match(/[\d.\-+]*\s*(.*)/)[1]||"";if(r===n)return t;var i=Jt(t);if("px"!==r)if("em"===r)i=Jt(t)*Jt(e);else if("rem"===r)return i=Jt(t)*Jt(e),t;var a=i;if("px"!==n)if("em"===n)a=i/Jt(e);else{if("rem"!==n)return t;a=i/Jt(e)}return parseFloat(a.toFixed(5))+n}}function Qt(e){var t=e.lineHeight;return e.pixels/(t*e.htmlFontSize)}function $t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.breakpoints,r=void 0===n?["sm","md","lg"]:n,i=t.disableAlign,a=void 0!==i&&i,s=t.factor,l=void 0===s?2:s,c=t.variants,u=void 0===c?["h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","button","overline"]:c,d=o({},e);d.typography=o({},d.typography);var h=d.typography,f=Zt(h.htmlFontSize),p=r.map((function(e){return d.breakpoints.values[e]}));return u.forEach((function(e){var t=h[e],n=parseFloat(f(t.fontSize,"rem"));if(!(n<=1)){var r=n,i=1+(r-1)/l,s=t.lineHeight;if(!Kt(s)&&!a)throw new Error(Yt(6));Kt(s)||(s=parseFloat(f(s,"rem"))/parseFloat(n));var c=null;a||(c=function(e){return function(e){var t=e.size,n=e.grid,r=t-t%n,i=r+n;return t-r<i-t?r:i}({size:e,grid:Qt({pixels:4,lineHeight:s,htmlFontSize:h.htmlFontSize})})}),h[e]=o({},t,function(e){var t=e.cssProperty,n=e.min,r=e.max,i=e.unit,a=void 0===i?"rem":i,o=e.breakpoints,s=void 0===o?[600,960,1280]:o,l=e.transform,c=void 0===l?null:l,u=Et({},t,"".concat(n).concat(a)),d=(r-n)/s[s.length-1];return s.forEach((function(e){var r=n+d*e;null!==c&&(r=c(r)),u["@media (min-width:".concat(e,"px)")]=Et({},t,"".concat(Math.round(1e4*r)/1e4).concat(a))})),u}({cssProperty:"fontSize",min:i,max:r,unit:"rem",breakpoints:p,transform:c}))}})),d}function en(e,t){if(null==e)return{};var n,r,i=I(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tn(e){return e&&"object"===St(e)&&e.constructor===Object}function nn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?o({},e):e;return tn(e)&&tn(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(tn(t[i])&&i in e?r[i]=nn(e[i],t[i],n):r[i]=t[i])})),r}var rn=["xs","sm","md","lg","xl"];function an(e,t,n){var r;return o({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),o({paddingLeft:t(2),paddingRight:t(2)},n,Et({},e.up("sm"),o({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},Et(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Et(r,e.up("sm"),{minHeight:64}),r)},n)}var on={black:"#000",white:"#fff"},sn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},ln={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},cn={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},un={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},dn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},hn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},fn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function vn(e){if(e.type)return e;if("#"===e.charAt(0))return vn(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Yt(3,e));var r=e.substring(t+1,e.length-1).split(",");return r=r.map((function(e){return parseFloat(e)})),{type:n,values:r}}function mn(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function gn(e){var t="hsl"===(e=vn(e)).type?vn(function(e){var t=(e=vn(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",l=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",l.push(t[3])),mn({type:s,values:l})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function yn(e,t){return e=vn(e),t=pn(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,mn(e)}function bn(e,t){if(e=vn(e),t=pn(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return mn(e)}function _n(e,t){if(e=vn(e),t=pn(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return mn(e)}var xn={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:on.white,default:sn[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},wn={text:{primary:on.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:sn[800],default:"#303030"},action:{active:on.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Sn(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=_n(e.main,i):"dark"===t&&(e.dark=bn(e.main,a)))}function kn(e){var t=e.primary,n=void 0===t?{light:ln[300],main:ln[500],dark:ln[700]}:t,r=e.secondary,i=void 0===r?{light:cn.A200,main:cn.A400,dark:cn.A700}:r,a=e.error,s=void 0===a?{light:un[300],main:un[500],dark:un[700]}:a,l=e.warning,c=void 0===l?{light:dn[300],main:dn[500],dark:dn[700]}:l,u=e.info,d=void 0===u?{light:hn[300],main:hn[500],dark:hn[700]}:u,h=e.success,f=void 0===h?{light:fn[300],main:fn[500],dark:fn[700]}:h,p=e.type,v=void 0===p?"light":p,m=e.contrastThreshold,g=void 0===m?3:m,y=e.tonalOffset,b=void 0===y?.2:y,_=en(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function x(e){var t=function(e,t){var n=gn(e),r=gn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,wn.text.primary)>=g?wn.text.primary:xn.text.primary;return t}var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=o({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Yt(4,t));if("string"!==typeof e.main)throw new Error(Yt(5,JSON.stringify(e.main)));return Sn(e,"light",n,b),Sn(e,"dark",r,b),e.contrastText||(e.contrastText=x(e.main)),e},S={dark:wn,light:xn};return nn(o({common:on,type:v,primary:w(n),secondary:w(i,"A400","A200","A700"),error:w(s),warning:w(c),info:w(d),success:w(f),grey:sn,contrastThreshold:g,getContrastText:x,augmentColor:w,tonalOffset:b},S[v]),_)}function En(e){return Math.round(1e5*e)/1e5}function Mn(e){return En(e)}var Tn={textTransform:"uppercase"},Pn='"Roboto", "Helvetica", "Arial", sans-serif';function An(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?Pn:r,a=n.fontSize,s=void 0===a?14:a,l=n.fontWeightLight,c=void 0===l?300:l,u=n.fontWeightRegular,d=void 0===u?400:u,h=n.fontWeightMedium,f=void 0===h?500:h,p=n.fontWeightBold,v=void 0===p?700:p,m=n.htmlFontSize,g=void 0===m?16:m,y=n.allVariants,b=n.pxToRem,_=en(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var x=s/14,w=b||function(e){return"".concat(e/g*x,"rem")},S=function(e,t,n,r,a){return o({fontFamily:i,fontWeight:e,fontSize:w(t),lineHeight:n},i===Pn?{letterSpacing:"".concat(En(r/t),"em")}:{},a,y)},k={h1:S(c,96,1.167,-1.5),h2:S(c,60,1.2,-.5),h3:S(d,48,1.167,0),h4:S(d,34,1.235,.25),h5:S(d,24,1.334,0),h6:S(f,20,1.6,.15),subtitle1:S(d,16,1.75,.15),subtitle2:S(f,14,1.57,.1),body1:S(d,16,1.5,.15),body2:S(d,14,1.43,.15),button:S(f,14,1.75,.4,Tn),caption:S(d,12,1.66,.4),overline:S(d,12,2.66,1,Tn)};return nn(o({htmlFontSize:g,pxToRem:w,round:Mn,fontFamily:i,fontSize:s,fontWeightLight:c,fontWeightRegular:d,fontWeightMedium:f,fontWeightBold:v},k),_,{clone:!1})}var Cn=.2,Rn=.14,On=.12;function Ln(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(Cn,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(Rn,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(On,")")].join(",")}var Fn=["none",Ln(0,2,1,-1,0,1,1,0,0,1,3,0),Ln(0,3,1,-2,0,2,2,0,0,1,5,0),Ln(0,3,3,-2,0,3,4,0,0,1,8,0),Ln(0,2,4,-1,0,4,5,0,0,1,10,0),Ln(0,3,5,-1,0,5,8,0,0,1,14,0),Ln(0,3,5,-1,0,6,10,0,0,1,18,0),Ln(0,4,5,-2,0,7,10,1,0,2,16,1),Ln(0,5,5,-3,0,8,10,1,0,3,14,2),Ln(0,5,6,-3,0,9,12,1,0,3,16,2),Ln(0,6,6,-3,0,10,14,1,0,4,18,3),Ln(0,6,7,-4,0,11,15,1,0,4,20,3),Ln(0,7,8,-4,0,12,17,2,0,5,22,4),Ln(0,7,8,-4,0,13,19,2,0,5,24,4),Ln(0,7,9,-4,0,14,21,2,0,5,26,4),Ln(0,8,9,-5,0,15,22,2,0,6,28,5),Ln(0,8,10,-5,0,16,24,2,0,6,30,5),Ln(0,8,11,-5,0,17,26,2,0,6,32,5),Ln(0,9,11,-5,0,18,28,2,0,7,34,6),Ln(0,9,12,-6,0,19,29,2,0,7,36,6),Ln(0,10,13,-6,0,20,31,3,0,8,38,7),Ln(0,10,13,-6,0,21,33,3,0,8,40,7),Ln(0,10,14,-6,0,22,35,3,0,8,42,7),Ln(0,11,14,-7,0,23,36,3,0,9,44,8),Ln(0,11,15,-7,0,24,38,3,0,9,46,8)],In={borderRadius:4},Nn={xs:0,sm:600,md:960,lg:1280,xl:1920},Dn={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(Nn[e],"px)")}};var jn=function(e,t){return t?nn(e,t,{clone:!1}):e};var zn={m:"margin",p:"padding"},Hn={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Bn={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Un=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!Bn[e])return[e];e=Bn[e]}var t=Gt(e.split(""),2),n=t[0],r=t[1],i=zn[n],a=Hn[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),Gn=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function Wn(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function Vn(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function qn(e){var t=Wn(e.theme);return Object.keys(e).map((function(n){if(-1===Gn.indexOf(n))return null;var r=Vn(Un(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||Dn;return t.reduce((function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e}),{})}if("object"===St(t)){var i=e.theme.breakpoints||Dn;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(jn,{})}qn.propTypes={},qn.filterProps=Gn;var Xn={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Yn={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Kn(e){return"".concat(Math.round(e),"ms")}var Jn={easing:Xn,duration:Yn,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?Yn.standard:n,i=t.easing,a=void 0===i?Xn.easeInOut:i,o=t.delay,s=void 0===o?0:o;en(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:Kn(r)," ").concat(a," ").concat("string"===typeof s?s:Kn(s))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},Zn={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Qn(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,i=void 0===r?{}:r,a=e.palette,s=void 0===a?{}:a,l=e.spacing,c=e.typography,u=void 0===c?{}:c,d=en(e,["breakpoints","mixins","palette","spacing","typography"]),h=kn(s),f=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,s=void 0===a?5:a,l=en(e,["values","unit","step"]);function c(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function u(e,t){var r=rn.indexOf(t);return r===rn.length-1?c(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[rn[r+1]]?n[rn[r+1]]:t)-s/100).concat(i,")")}return o({keys:rn,values:n,up:c,down:function(e){var t=rn.indexOf(e)+1,r=n[rn[t]];return t===rn.length?c("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-s/100).concat(i,")")},between:u,only:function(e){return u(e,e)},width:function(e){return n[e]}},l)}(n),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Wn({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}(l),v=nn({breakpoints:f,direction:"ltr",mixins:an(f,p,i),overrides:{},palette:h,props:{},shadows:Fn,typography:An(h,u),spacing:p,shape:In,transitions:Jn,zIndex:Zn},d),m=arguments.length,g=new Array(m>1?m-1:0),y=1;y<m;y++)g[y-1]=arguments[y];return v=g.reduce((function(e,t){return nn(e,t)}),v)}var $n=Qn,er="".concat(mt.O.T$),tr="".concat(mt.O.BD),nr="".concat(mt.O.Sn),rr="".concat(mt.O.ix),ir="".concat(mt.O.oe),ar="".concat(mt.O.jt),or="".concat(mt.O.mc),sr="".concat(mt.O.UV),lr=$t($n({palette:{type:"light",primary:{main:er},secondary:{main:tr},background:{default:rr},foreground:{default:nr},iconBackground:{default:"#000000"},iconColor:{default:"#ffffff"}},typography:{fontSize:16,htmlFontSize:16,h2:{fontWeight:500},h5:{fontWeight:500},body1:{fontWeight:500}},info:{background:or,card:ir},overrides:{MuiCssBaseline:{"@global":{body:{color:nr,backgroundColor:rr}}},Nav:{color:rr},MuiIconButton:{root:{boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)","&:hover":{backgroundColor:er},transition:"all 0.5s ease"}},MuiFab:{root:{width:"2.5rem",height:"2.5rem",fontSize:"1.25rem"},primary:{color:nr,backgroundColor:"transparent","&:hover":{color:nr,backgroundColor:er},transition:"all 0.5s ease !important"}},MuiSpeedDialAction:{fab:{color:rr,backgroundColor:"transparent","&:hover":{color:rr,backgroundColor:er},transition:"all 0.5s ease",margin:"0px",marginBottom:"16px"}},MuiTooltip:{tooltip:{backgroundColor:er,color:nr,fontSize:11}}}})),cr=$t($n({palette:{type:"dark",primary:{main:er},secondary:{main:tr},background:{default:nr},foreground:{default:rr},iconBackground:{default:"#f5f5f5"},iconColor:{default:"#000000"}},info:{background:sr,card:ar},typography:{fontSize:16,htmlFontSize:16,h2:{fontWeight:500},h5:{fontWeight:500},body1:{fontWeight:500}},overrides:{MuiCssBaseline:{"@global":{body:{color:rr,backgroundColor:nr}}},"nav-link":{text:{color:rr}},MuiIconButton:{root:{boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)","&:hover":{backgroundColor:er},transition:"all 0.5s ease"}},MuiFab:{root:{width:"2.5rem",height:"2.5rem",fontSize:"1.25rem"},primary:{color:rr,backgroundColor:"transparent","&:hover":{color:rr,backgroundColor:er},transition:"all 0.5s ease !important"}},MuiSpeedDialAction:{fab:{color:rr,backgroundColor:"transparent","&:hover":{color:rr,backgroundColor:er},transition:"all 0.5s ease",margin:"0px",marginBottom:"16px"}},MuiTooltip:{tooltip:{backgroundColor:er,color:rr,fontSize:11}}}}));var ur=e.createContext(null);function dr(){return e.useContext(ur)}var hr="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var fr=function(t){var n=t.children,r=t.theme,i=dr(),a=e.useMemo((function(){var e=null===i?r:function(e,t){return"function"===typeof t?t(e):o({},e,t)}(i,r);return null!=e&&(e[hr]=null!==i),e}),[r,i]);return e.createElement(ur.Provider,{value:a},n)},pr=(0,e.createContext)(),vr=function(t){var n=t.children,r=function(){if(window.matchMedia)return window.matchMedia("(prefers-color-scheme: dark)").matches},i=Gt((0,e.useState)(function(){if("undefined"===typeof localStorage)return!0;var e="dark"in localStorage,t=JSON.parse(localStorage.getItem("dark")),n=r();return e?t:!!n}()?"dark":"light"),2),a=i[0],o=i[1];return(0,e.useEffect)((function(){"undefined"!==typeof localStorage&&localStorage.setItem("dark",JSON.stringify("dark"===a))}),[a]),(0,qt.jsx)(pr.Provider,{value:{theme:a,toggleTheme:function(){o("light"===a?"dark":"light")}},children:(0,qt.jsx)(fr,{theme:"light"===a?lr:cr,children:n})})},mr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gr="object"===("undefined"===typeof window?"undefined":mr(window))&&"object"===("undefined"===typeof document?"undefined":mr(document))&&9===document.nodeType;function yr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var br={}.constructor;function _r(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(_r);if(e.constructor!==br)return e;var t={};for(var n in e)t[n]=_r(e[n]);return t}function xr(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=_r(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var wr=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},Sr=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=wr(e[n]," ");else t=wr(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function kr(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function Er(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function Mr(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var s=kr(n),l=s.linebreak,c=s.space;if(e&&a++,o)if(Array.isArray(o))for(var u=0;u<o.length;u++){var d=o[u];for(var h in d){var f=d[h];null!=f&&(r&&(r+=l),r+=Er(h+":"+c+Sr(f)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=l),r+=Er(p+":"+c+Sr(v)+";",a))}for(var m in t){var g=t[m];null!=g&&"fallbacks"!==m&&(r&&(r+=l),r+=Er(m+":"+c+Sr(g)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+l+r+l),Er(""+e+c+"{"+r,--a)+Er("}",a)):r}var Tr=/([[\].#*$><+~=|^:(),"'`\s])/g,Pr="undefined"!==typeof CSS&&CSS.escape,Ar=function(e){return Pr?Pr(e):e.replace(Tr,"\\$1")},Cr=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var s=a&&o;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var l=this.options.sheet;return l&&l.attached,this},e}(),Rr=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,s=r.sheet,l=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=l(yr(yr(i)),s),i.selectorText="."+Ar(i.id)),i}r(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=Sr(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?o({},e,{allowEmpty:!0}):e;return Mr(this.selectorText,this.style,n)},It(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(Cr),Or={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new Rr(e,t,n)}},Lr={indent:1,children:!0},Fr=/@([\w-]+)/,Ir=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(Fr);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new ai(o({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=Lr);var t=kr(e).linebreak;if(null==e.indent&&(e.indent=Lr.indent),null==e.children&&(e.children=Lr.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),Nr=/@container|@media|@supports\s+/,Dr={onCreateRule:function(e,t,n){return Nr.test(e)?new Ir(e,t,n):null}},jr={indent:1,children:!0},zr=/@keyframes\s+([\w-]+)/,Hr=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(zr);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,a=n.sheet,s=n.generateId;for(var l in this.id=!1===i?this.name:Ar(s(this,a)),this.rules=new ai(o({},n,{parent:this})),t)this.rules.add(l,t[l],o({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=jr);var t=kr(e).linebreak;if(null==e.indent&&(e.indent=jr.indent),null==e.children&&(e.children=jr.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),Br=/@keyframes\s+/,Ur=/\$([\w-]+)/g,Gr=function(e,t){return"string"===typeof e?e.replace(Ur,(function(e,n){return n in t?t[n]:e})):e},Wr=function(e,t,n){var r=e[t],i=Gr(r,n);i!==r&&(e[t]=i)},Vr={onCreateRule:function(e,t,n){return"string"===typeof e&&Br.test(e)?new Hr(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&Wr(e,"animation-name",n.keyframes),"animation"in e&&Wr(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return Gr(e,r.keyframes);default:return e}}},qr=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?o({},e,{allowEmpty:!0}):e;return Mr(this.key,this.style,n)},t}(Cr),Xr={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new qr(e,t,n):null}},Yr=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=kr(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=Mr(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return Mr(this.at,this.style,e)},e}(),Kr=/@font-face/,Jr={onCreateRule:function(e,t,n){return Kr.test(e)?new Yr(e,t,n):null}},Zr=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return Mr(this.key,this.style,e)},e}(),Qr={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new Zr(e,t,n):null}},$r=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),ei={"@charset":!0,"@import":!0,"@namespace":!0},ti={onCreateRule:function(e,t,n){return e in ei?new $r(e,t,n):null}},ni=[Or,Dr,Vr,Xr,Jr,Qr,ti],ri={process:!0},ii={force:!0,process:!0},ai=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,a=r.sheet,s=r.jss,l=r.Renderer,c=r.generateId,u=r.scoped,d=o({classes:this.classes,parent:i,sheet:a,jss:s,Renderer:l,generateId:c,scoped:u,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(d.selector="."+Ar(this.classes[h]));var f=xr(h,t,d);if(!f)return null;this.register(f);var p=void 0===d.index?this.index.length:d.index;return this.index.splice(p,0,f),f},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var a=n;return-1!==i&&(a=o({},n,{index:i})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof Rr?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof Hr&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof Rr?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof Hr&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=ri);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(a.onUpdate(n,t,o,r),r.process&&s&&s!==t.style){for(var l in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[l];c!==s[l]&&t.prop(l,c,ii)}for(var u in s){var d=t.style[u],h=s[u];null==d&&d!==h&&t.prop(u,null,ii)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=kr(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),oi=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=o({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new ai(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),si=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),li=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=I(t,["attached"]),i=kr(r).linebreak,a="",o=0;o<this.registry.length;o++){var s=this.registry[o];null!=n&&s.attached!==n||(a&&(a+=i),a+=s.toString(r))}return a},It(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ci=new li,ui="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),di="2f1acc6c3a606b082e5eef5e54414ffb";null==ui[di]&&(ui[di]=0);var hi=ui[di]++,fi=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+hi+i+t:a+n.key+"-"+hi+(i?"-"+i:"")+"-"+t}},pi=function(e){var t;return function(){return t||(t=e()),t}},vi=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},mi=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=Sr(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,a=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,a,i>-1?"important":"")}}catch(o){return!1}return!0},gi=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},yi=function(e,t){return e.selectorText=t,e.selectorText===t},bi=pi((function(){return document.querySelector("head")}));function _i(e){var t=ci.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=bi(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var xi=pi((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),wi=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},Si=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ki=function(){var e=document.createElement("style");return e.textContent="\n",e},Ei=function(){function e(e){this.getPropertyValue=vi,this.setProperty=mi,this.removeProperty=gi,this.setSelector=yi,this.hasInsertedRules=!1,this.cssRules=[],e&&ci.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||ki(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=xi();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=_i(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else bi().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=Si(n,t);if(!1===(i=wi(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var s=Si(n,t),l=wi(n,o,s);return!1!==l&&(this.hasInsertedRules=!0,this.refCssRule(e,s,l),l)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof oi&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Mi=0,Ti=function(){function e(e){this.id=Mi++,this.version="10.10.0",this.plugins=new si,this.options={id:{minify:!1},createGenerateId:fi,Renderer:gr?Ei:null,plugins:[]},this.generateId=fi({minify:!1});for(var t=0;t<ni.length;t++)this.plugins.use(ni[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=o({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ci.index?0:ci.index+1);var r=new oi(e,o({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ci.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=o({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=xr(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),Pi=function(e){return new Ti(e)},Ai="object"===typeof CSS&&null!=CSS&&"number"in CSS;function Ci(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=Ci(r);a&&(t||(t={}),t[n]=a)}}return t}Pi();function Ri(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=o({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var Oi={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Li=Oi,Fi=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Ii=Date.now(),Ni="fnValues"+Ii,Di="fnStyle"+ ++Ii,ji=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=xr(e,{},n);return r[Di]=t,r},onProcessStyle:function(e,t){if(Ni in t||Di in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Ni]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[Di];a&&(i.style=a(e)||{});var o=i[Ni];if(o)for(var s in o)i.prop(s,o[s](e),r)}}},zi="@global",Hi="@global ",Bi=function(){function e(e,t,n){for(var r in this.type="global",this.at=zi,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new ai(o({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Ui=function(){function e(e,t,n){this.type="global",this.at=zi,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(Hi.length);this.rule=n.jss.createRule(r,t,o({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Gi=/\s*,\s*/g;function Wi(e,t){for(var n=e.split(Gi),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Vi=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===zi)return new Bi(e,t,n);if("@"===e[0]&&e.substr(0,Hi.length)===Hi)return new Ui(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[zi]:null;if(i){for(var a in i)t.addRule(a,i[a],o({},n,{selector:Wi(a,e.selector)}));delete r[zi]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,zi.length)===zi){var a=Wi(i.substr(zi.length),e.selector);t.addRule(a,r[i],o({},n,{selector:a})),delete r[i]}}(e,t))}}},qi=/\s*,\s*/g,Xi=/&/g,Yi=/\$([\w-]+)/g;var Ki=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(qi),r=e.split(qi),i="",a=0;a<n.length;a++)for(var o=n[a],s=0;s<r.length;s++){var l=r[s];i&&(i+=", "),i+=-1!==l.indexOf("&")?l.replace(Xi,o):o+" "+l}return i}function n(e,t,n){if(n)return o({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=o({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,a){if("style"!==i.type)return r;var s,l,c=i,u=c.options.parent;for(var d in r){var h=-1!==d.indexOf("&"),f="@"===d[0];if(h||f){if(s=n(c,u,s),h){var p=t(d,c.selector);l||(l=e(u,a)),p=p.replace(Yi,l);var v=c.key+"-"+d;"replaceRule"in u?u.replaceRule(v,r[d],o({},s,{selector:p})):u.addRule(v,r[d],o({},s,{selector:p}))}else f&&u.addRule(d,{},s).addRule(c.key,r[d],{selector:c.selector});delete r[d]}}return r}}},Ji=/[A-Z]/g,Zi=/^ms-/,Qi={};function $i(e){return"-"+e.toLowerCase()}var ea=function(e){if(Qi.hasOwnProperty(e))return Qi[e];var t=e.replace(Ji,$i);return Qi[e]=Zi.test(t)?"-"+t:t};function ta(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:ea(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(ta):t.fallbacks=ta(e.fallbacks)),t}var na=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=ta(e[t]);return e}return ta(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=ea(t);return t===r?e:(n.prop(r,e),null)}}},ra=Ai&&CSS?CSS.px:"px",ia=Ai&&CSS?CSS.ms:"ms",aa=Ai&&CSS?CSS.percent:"%";function oa(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var sa=oa({"animation-delay":ia,"animation-duration":ia,"background-position":ra,"background-position-x":ra,"background-position-y":ra,"background-size":ra,border:ra,"border-bottom":ra,"border-bottom-left-radius":ra,"border-bottom-right-radius":ra,"border-bottom-width":ra,"border-left":ra,"border-left-width":ra,"border-radius":ra,"border-right":ra,"border-right-width":ra,"border-top":ra,"border-top-left-radius":ra,"border-top-right-radius":ra,"border-top-width":ra,"border-width":ra,"border-block":ra,"border-block-end":ra,"border-block-end-width":ra,"border-block-start":ra,"border-block-start-width":ra,"border-block-width":ra,"border-inline":ra,"border-inline-end":ra,"border-inline-end-width":ra,"border-inline-start":ra,"border-inline-start-width":ra,"border-inline-width":ra,"border-start-start-radius":ra,"border-start-end-radius":ra,"border-end-start-radius":ra,"border-end-end-radius":ra,margin:ra,"margin-bottom":ra,"margin-left":ra,"margin-right":ra,"margin-top":ra,"margin-block":ra,"margin-block-end":ra,"margin-block-start":ra,"margin-inline":ra,"margin-inline-end":ra,"margin-inline-start":ra,padding:ra,"padding-bottom":ra,"padding-left":ra,"padding-right":ra,"padding-top":ra,"padding-block":ra,"padding-block-end":ra,"padding-block-start":ra,"padding-inline":ra,"padding-inline-end":ra,"padding-inline-start":ra,"mask-position-x":ra,"mask-position-y":ra,"mask-size":ra,height:ra,width:ra,"min-height":ra,"max-height":ra,"min-width":ra,"max-width":ra,bottom:ra,left:ra,top:ra,right:ra,inset:ra,"inset-block":ra,"inset-block-end":ra,"inset-block-start":ra,"inset-inline":ra,"inset-inline-end":ra,"inset-inline-start":ra,"box-shadow":ra,"text-shadow":ra,"column-gap":ra,"column-rule":ra,"column-rule-width":ra,"column-width":ra,"font-size":ra,"font-size-delta":ra,"letter-spacing":ra,"text-decoration-thickness":ra,"text-indent":ra,"text-stroke":ra,"text-stroke-width":ra,"word-spacing":ra,motion:ra,"motion-offset":ra,outline:ra,"outline-offset":ra,"outline-width":ra,perspective:ra,"perspective-origin-x":aa,"perspective-origin-y":aa,"transform-origin":aa,"transform-origin-x":aa,"transform-origin-y":aa,"transform-origin-z":aa,"transition-delay":ia,"transition-duration":ia,"vertical-align":ra,"flex-basis":ra,"shape-margin":ra,size:ra,gap:ra,grid:ra,"grid-gap":ra,"row-gap":ra,"grid-row-gap":ra,"grid-column-gap":ra,"grid-template-rows":ra,"grid-template-columns":ra,"grid-auto-rows":ra,"grid-auto-columns":ra,"box-shadow-x":ra,"box-shadow-y":ra,"box-shadow-blur":ra,"box-shadow-spread":ra,"font-line-height":ra,"text-shadow-x":ra,"text-shadow-y":ra,"text-shadow-blur":ra});function la(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=la(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=la(i,t[i],n);else for(var a in t)t[a]=la(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||sa[e];return!o||0===t&&o===ra?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var ca=function(e){void 0===e&&(e={});var t=oa(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=la(r,e[r],t);return e},onChangeValue:function(e,n){return la(n,e,t)}}};function ua(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function da(e){return function(e){if(Array.isArray(e))return Ht(e)}(e)||ua(e)||Bt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ha="",fa="",pa="",va="",ma=gr&&"ontouchstart"in document.documentElement;if(gr){var ga={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},ya=document.createElement("p").style;for(var ba in ga)if(ba+"Transform"in ya){ha=ba,fa=ga[ba];break}"Webkit"===ha&&"msHyphens"in ya&&(ha="ms",fa=ga.ms,va="edge"),"Webkit"===ha&&"-apple-trailing-word"in ya&&(pa="apple")}var _a={js:ha,css:fa,vendor:pa,browser:va,isTouch:ma};var xa={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===_a.js?"-webkit-"+e:_a.css+e)}},wa={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===_a.js?_a.css+"print-"+e:e)}},Sa=/[-\s]+(.)?/g;function ka(e,t){return t?t.toUpperCase():""}function Ea(e){return e.replace(Sa,ka)}function Ma(e){return Ea("-"+e)}var Ta,Pa={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===_a.js){var n="mask-image";if(Ea(n)in t)return e;if(_a.js+Ma(n)in t)return _a.css+e}return e}},Aa={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==_a.vendor||_a.isTouch?e:_a.css+e)}},Ca={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:_a.css+e)}},Ra={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:_a.css+e)}},Oa={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===_a.js||"ms"===_a.js&&"edge"!==_a.browser?_a.css+e:e)}},La={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===_a.js||"ms"===_a.js||"apple"===_a.vendor?_a.css+e:e)}},Fa={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===_a.js?"WebkitColumn"+Ma(e)in t&&_a.css+"column-"+e:"Moz"===_a.js&&("page"+Ma(e)in t&&"page-"+e))}},Ia={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===_a.js)return e;var n=e.replace("-inline","");return _a.js+Ma(n)in t&&_a.css+n}},Na={supportedProperty:function(e,t){return Ea(e)in t&&e}},Da={supportedProperty:function(e,t){var n=Ma(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:_a.js+n in t?_a.css+e:"Webkit"!==_a.js&&"Webkit"+n in t&&"-webkit-"+e}},ja={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===_a.js?""+_a.css+e:e)}},za={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===_a.js?_a.css+"scroll-chaining":e)}},Ha={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Ba={supportedProperty:function(e,t){var n=Ha[e];return!!n&&(_a.js+Ma(n)in t&&_a.css+n)}},Ua={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Ga=Object.keys(Ua),Wa=function(e){return _a.css+e},Va={supportedProperty:function(e,t,n){var r=n.multiple;if(Ga.indexOf(e)>-1){var i=Ua[e];if(!Array.isArray(i))return _a.js+Ma(i)in t&&_a.css+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(_a.js+Ma(i[0])in t))return!1;return i.map(Wa)}return!1}},qa=[xa,wa,Pa,Aa,Ca,Ra,Oa,La,Fa,Ia,Na,Da,ja,za,Ba,Va],Xa=qa.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Ya=qa.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,da(t.noPrefill)),e}),[]),Ka={};if(gr){Ta=document.createElement("p");var Ja=window.getComputedStyle(document.documentElement,"");for(var Za in Ja)isNaN(Za)||(Ka[Ja[Za]]=Ja[Za]);Ya.forEach((function(e){return delete Ka[e]}))}function Qa(e,t){if(void 0===t&&(t={}),!Ta)return e;if(null!=Ka[e])return Ka[e];"transition"!==e&&"transform"!==e||(t[e]=e in Ta.style);for(var n=0;n<Xa.length&&(Ka[e]=Xa[n](e,Ta.style,t),!Ka[e]);n++);try{Ta.style[e]=""}catch(r){return!1}return Ka[e]}var $a,eo={},to={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},no=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function ro(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Qa(t):", "+Qa(n);return r||(t||n)}function io(e,t){var n=t;if(!$a||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=eo[r])return eo[r];try{$a.style[e]=n}catch(i){return eo[r]=!1,!1}if(to[e])n=n.replace(no,ro);else if(""===$a.style[e]&&("-ms-flex"===(n=_a.css+n)&&($a.style[e]="-ms-flexbox"),$a.style[e]=n,""===$a.style[e]))return eo[r]=!1,!1;return $a.style[e]="",eo[r]=n,eo[r]}gr&&($a=document.createElement("p"));var ao=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=Qa(n);a&&a!==n&&(i=!0);var o=!1,s=io(a,Sr(r));s&&s!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===_a.js?e:"@"+_a.css+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return io(t,Sr(e))||e}}};var oo=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var so=Pi({plugins:[ji(),Vi(),Ki(),na(),ca(),"undefined"===typeof window?null:ao(),oo()]}),lo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,s=""===o?"":"".concat(o,"-"),l=0,c=function(){return l+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Fi.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[hr]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(s).concat(i).concat(c())}}(),co={disableGeneration:!1,generateClassName:lo,jss:so,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},uo=e.createContext(co);var ho=-1e9;var fo={};function po(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,a=e.stylesCreator,s=e.name;if(!i.disableGeneration){var l=Li.get(i.sheetsManager,a,r);l||(l={refs:0,staticSheet:null,dynamicStyles:null},Li.set(i.sheetsManager,a,r,l));var c=o({},a.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var u=i.sheetsRegistry;if(0===l.refs){var d;i.sheetsCache&&(d=Li.get(i.sheetsCache,a,r));var h=a.create(r,s);d||((d=i.jss.createStyleSheet(h,o({link:!1},c))).attach(),i.sheetsCache&&Li.set(i.sheetsCache,a,r,d)),u&&u.add(d),l.staticSheet=d,l.dynamicStyles=Ci(h)}if(l.dynamicStyles){var f=i.jss.createStyleSheet(l.dynamicStyles,o({link:!0},c));f.update(t),f.attach(),n.dynamicSheet=f,n.classes=Ri({baseClasses:l.staticSheet.classes,newClasses:f.classes}),u&&u.add(f)}else n.classes=l.staticSheet.classes;l.refs+=1}}function vo(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.name,i=n.classNamePrefix,a=n.Component,s=n.defaultTheme,l=void 0===s?fo:s,c=en(n,["name","classNamePrefix","Component","defaultTheme"]),u=function(e){var t="function"===typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(l){throw l}if(!r||!n.overrides||!n.overrides[r])return i;var a=n.overrides[r],s=o({},i);return Object.keys(a).forEach((function(e){s[e]=nn(s[e],a[e])})),s},options:{}}}(t),d=r||i||"makeStyles";u.options={index:ho+=1,name:r,meta:d,classNamePrefix:d};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=dr()||l,i=o({},e.useContext(uo),c),s=e.useRef(),d=e.useRef();!function(t,n){var r,i=e.useRef([]),a=e.useMemo((function(){return{}}),n);i.current!==a&&(i.current=a,r=t()),e.useEffect((function(){return function(){r&&r()}}),[a])}((function(){var e={name:r,state:{},stylesCreator:u,stylesOptions:i,theme:n};return po(e,t),d.current=!1,s.current=e,function(){!function(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Li.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Li.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}(e)}}),[n,u]),e.useEffect((function(){d.current&&function(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}(s.current,t),d.current=!0}));var h=function(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Ri({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}(s.current,t.classes,a);return h}}var mo=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var i=n.defaultTheme,a=n.withTheme,s=void 0!==a&&a,l=n.name,c=en(n,["defaultTheme","withTheme","name"]);var u=l,d=vo(t,o({defaultTheme:i,Component:r,name:l||r.displayName,classNamePrefix:u},c)),h=e.forwardRef((function(t,n){t.classes;var a,c=t.innerRef,u=en(t,["classes","innerRef"]),h=d(o({},r.defaultProps,t)),f=u;return("string"===typeof l||s)&&(a=dr()||i,l&&(f=function(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}({theme:a,name:l,props:u})),s&&!f.theme&&(f.theme=a)),e.createElement(r,o({ref:c||n,classes:h},f))}));return D()(h,r),h}},go=$n();var yo=function(e,t){return mo(e,o({defaultTheme:go},t))},bo={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},_o=function(e){return o({color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};var xo=yo((function(e){return{"@global":{html:bo,"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:o({margin:0},_o(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})}}}),{name:"MuiCssBaseline"})((function(t){var n=t.children,r=void 0===n?null:n;return t.classes,e.createElement(e.Fragment,null,r)})),wo=__webpack_require__(1694),So=__webpack_require__.n(wo),ko=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},Eo=e.createContext(null);__webpack_require__(2176);function Mo(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function To(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Po(t,n){return Object.keys(n).reduce((function(r,i){var a,s=r,l=s[Mo(i)],c=s[i],u=I(s,[Mo(i),i].map(To)),d=n[i],h=function(t,n,r){var i=(0,e.useRef)(void 0!==t),a=(0,e.useState)(n),o=a[0],s=a[1],l=void 0!==t,c=i.current;return i.current=l,!l&&c&&o!==n&&s(n),[l?t:o,(0,e.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}(c,l,t[d]),f=h[0],p=h[1];return o({},u,((a={})[i]=f,a[d]=p,a))}),t)}function Ao(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Co(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Ro(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Ao.__suppressDeprecationWarning=!0,Co.__suppressDeprecationWarning=!0,Ro.__suppressDeprecationWarning=!0;var Oo=/-(.)/g;var Lo=["xxl","xl","lg","md","sm","xs"],Fo="xs",Io=e.createContext({prefixes:{},breakpoints:Lo,minBreakpoint:Fo});Io.Consumer,Io.Provider;function No(t,n){var r=(0,e.useContext)(Io).prefixes;return t||r[n]||n}function Do(){return(0,e.useContext)(Io).breakpoints}function jo(){return(0,e.useContext)(Io).minBreakpoint}var zo=["className","bsPrefix","as"],Ho=function(e){return e[0].toUpperCase()+(t=e,t.replace(Oo,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function Bo(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?Ho(t):r,a=n.Component,o=n.defaultProps,s=e.forwardRef((function(e,n){var r=e.className,i=e.bsPrefix,o=e.as,s=void 0===o?a||"div":o,l=en(e,zo),c=No(i,t);return(0,qt.jsx)(s,Tt({ref:n,className:So()(r,c)},l))}));return s.defaultProps=o,s.displayName=i,s}var Uo=["bsPrefix","className","as"],Go=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=en(e,Uo);n=No(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,qt.jsx)(o,Tt(Tt({},a),{},{ref:t,className:So()(r,n)}))}));Go.displayName="NavbarBrand";var Wo=Go;function Vo(e){return e&&e.ownerDocument||document}function qo(e,t){return function(e){var t=Vo(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Xo=/([A-Z])/g;var Yo=/^ms-/;function Ko(e){return function(e){return e.replace(Xo,"-$1").toLowerCase()}(e).replace(Yo,"-ms-")}var Jo=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Zo=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Ko(t))||qo(e).getPropertyValue(Ko(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!Jo.test(e))}(i)?n+=Ko(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(Ko(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},Qo=__webpack_require__(4164),$o=!1,es=e.createContext(null),ts="unmounted",ns="exited",rs="entering",is="entered",as="exiting",os=function(t){function n(e,n){var r;r=t.call(this,e,n)||this;var i,a=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?a?(i=ns,r.appearStatus=rs):i=is:i=e.unmountOnExit||e.mountOnEnter?ts:ns,r.state={status:i},r.nextCallback=null,r}r(n,t),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===ts?{status:ns}:null};var i=n.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==rs&&n!==is&&(t=rs):n!==rs&&n!==is||(t=as)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===rs){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Qo.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ns&&this.setState({status:ts})},i.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Qo.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||$o?this.safeSetState({status:is},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:rs},(function(){t.props.onEntering(a,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:is},(function(){t.props.onEntered(a,o)}))}))})))},i.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Qo.findDOMNode(this);t&&!$o?(this.props.onExit(r),this.safeSetState({status:as},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:ns},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:ns},(function(){e.props.onExited(r)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Qo.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var t=this.state.status;if(t===ts)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,I(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(es.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},n}(e.Component);function ss(){}os.contextType=es,os.propTypes={},os.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ss,onEntering:ss,onEntered:ss,onExit:ss,onExiting:ss,onExited:ss},os.UNMOUNTED=ts,os.EXITED=ns,os.ENTERING=rs,os.ENTERED=is,os.EXITING=as;var ls=os,cs=!("undefined"===typeof window||!window.document||!window.document.createElement),us=!1,ds=!1;try{var hs={get passive(){return us=!0},get once(){return ds=us=!0}};cs&&(window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,!0))}catch(sC){}var fs=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!ds){var i=r.once,a=r.capture,o=n;!ds&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,us?r:a)}e.addEventListener(t,n,r)};var ps=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var vs=function(e,t,n,r){return fs(e,t,n,r),function(){ps(e,t,n,r)}};function ms(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=vs(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function gs(e,t,n,r){null==n&&(n=function(e){var t=Zo(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=ms(e,n,r),a=vs(e,"transitionend",t);return function(){i(),a()}}function ys(e,t){var n=Zo(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function bs(e,t){var n=ys(e,"transitionDuration"),r=ys(e,"transitionDelay"),i=gs(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var _s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function xs(e){e.offsetHeight}var ws=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var Ss=function(t,n){return(0,e.useMemo)((function(){return function(e,t){var n=ws(e),r=ws(t);return function(e){n&&n(e),r&&r(e)}}(t,n)}),[t,n])};var ks,Es=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],Ms=e.forwardRef((function(t,n){var r=t.onEnter,i=t.onEntering,a=t.onEntered,o=t.onExit,s=t.onExiting,l=t.onExited,c=t.addEndListener,u=t.children,d=t.childRef,h=en(t,Es),f=(0,e.useRef)(null),p=Ss(f,d),v=function(e){var t;p((t=e)&&"setState"in t?Qo.findDOMNode(t):null!=t?t:null)},m=function(e){return function(t){e&&f.current&&e(f.current,t)}},g=(0,e.useCallback)(m(r),[r]),y=(0,e.useCallback)(m(i),[i]),b=(0,e.useCallback)(m(a),[a]),_=(0,e.useCallback)(m(o),[o]),x=(0,e.useCallback)(m(s),[s]),w=(0,e.useCallback)(m(l),[l]),S=(0,e.useCallback)(m(c),[c]);return(0,qt.jsx)(ls,Tt(Tt({ref:n},h),{},{onEnter:g,onEntered:b,onEntering:y,onExit:_,onExited:w,onExiting:x,addEndListener:S,nodeRef:f,children:"function"===typeof u?function(e,t){return u(e,Tt(Tt({},t),{},{ref:v}))}:e.cloneElement(u,{ref:v})}))})),Ts=Ms,Ps=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],As={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Cs(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=As[e];return n+parseInt(Zo(t,r[0]),10)+parseInt(Zo(t,r[1]),10)}var Rs=(Et(ks={},ns,"collapse"),Et(ks,as,"collapsing"),Et(ks,rs,"collapsing"),Et(ks,is,"collapse show"),ks),Os={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:Cs},Ls=e.forwardRef((function(t,n){var r=t.onEnter,i=t.onEntering,a=t.onEntered,o=t.onExit,s=t.onExiting,l=t.className,c=t.children,u=t.dimension,d=void 0===u?"height":u,h=t.getDimensionValue,f=void 0===h?Cs:h,p=en(t,Ps),v="function"===typeof d?d():d,m=(0,e.useMemo)((function(){return _s((function(e){e.style[v]="0"}),r)}),[v,r]),g=(0,e.useMemo)((function(){return _s((function(e){var t="scroll".concat(v[0].toUpperCase()).concat(v.slice(1));e.style[v]="".concat(e[t],"px")}),i)}),[v,i]),y=(0,e.useMemo)((function(){return _s((function(e){e.style[v]=null}),a)}),[v,a]),b=(0,e.useMemo)((function(){return _s((function(e){e.style[v]="".concat(f(v,e),"px"),xs(e)}),o)}),[o,f,v]),_=(0,e.useMemo)((function(){return _s((function(e){e.style[v]=null}),s)}),[v,s]);return(0,qt.jsx)(Ts,Tt(Tt({ref:n,addEndListener:bs},p),{},{"aria-expanded":p.role?p.in:null,onEnter:m,onEntering:g,onEntered:y,onExit:b,onExiting:_,childRef:c.ref,children:function(t,n){return e.cloneElement(c,Tt(Tt({},n),{},{className:So()(l,c.props.className,Rs[t],"width"===v&&"collapse-horizontal")}))}}))}));Ls.defaultProps=Os;var Fs=Ls,Is=e.createContext(null);Is.displayName="NavbarContext";var Ns=Is,Ds=["children","bsPrefix"],js=e.forwardRef((function(t,n){var r=t.children,i=t.bsPrefix,a=en(t,Ds);i=No(i,"navbar-collapse");var o=(0,e.useContext)(Ns);return(0,qt.jsx)(Fs,Tt(Tt({in:!(!o||!o.expanded)},a),{},{children:(0,qt.jsx)("div",{ref:n,className:i,children:r})}))}));js.displayName="NavbarCollapse";var zs=js;var Hs=function(t){var n=(0,e.useRef)(t);return(0,e.useEffect)((function(){n.current=t}),[t]),n};function Bs(t){var n=Hs(t);return(0,e.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var Us=["bsPrefix","className","children","label","as","onClick"],Gs=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,a=t.children,o=t.label,s=t.as,l=void 0===s?"button":s,c=t.onClick,u=en(t,Us);r=No(r,"navbar-toggler");var d=(0,e.useContext)(Ns)||{},h=d.onToggle,f=d.expanded,p=Bs((function(e){c&&c(e),h&&h()}));return"button"===l&&(u.type="button"),(0,qt.jsx)(l,Tt(Tt({},u),{},{ref:n,onClick:p,"aria-label":o,className:So()(i,r,!f&&"collapsed"),children:a||(0,qt.jsx)("span",{className:"".concat(r,"-icon")})}))}));Gs.displayName="NavbarToggle",Gs.defaultProps={label:"Toggle navigation"};var Ws=Gs,Vs="undefined"!==typeof __webpack_require__.g&&__webpack_require__.g.navigator&&"ReactNative"===__webpack_require__.g.navigator.product,qs="undefined"!==typeof document||Vs?e.useLayoutEffect:e.useEffect,Xs=new WeakMap,Ys=function(e,t){if(e&&t){var n=Xs.get(t)||new Map;Xs.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function Ks(t,n){void 0===n&&(n="undefined"===typeof window?void 0:window);var r=Ys(t,n),i=(0,e.useState)((function(){return!!r&&r.matches})),a=i[0],o=i[1];return qs((function(){var e=Ys(t,n);if(!e)return o(!1);var r=Xs.get(n),i=function(){o(e.matches)};return e.refCount++,e.addListener(i),i(),function(){e.removeListener(i),e.refCount--,e.refCount<=0&&(null==r||r.delete(e.media)),e=void 0}}),[t]),a}var Js=function(t){var n=Object.keys(t);function r(e,t){return e===t?t:e?e+" and "+t:t}function i(e){var r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(e),i=t[r];return"(max-width: "+(i="number"===typeof i?i-.2+"px":"calc("+i+" - 0.2px)")+")"}return function(n,a,o){var s,l;"object"===typeof n?(s=n,o=a,a=!0):((l={})[n]=a=a||!0,s=l);var c=(0,e.useMemo)((function(){return Object.entries(s).reduce((function(e,n){var a=n[0],o=n[1];return"up"!==o&&!0!==o||(e=r(e,function(e){var n=t[e];return"number"===typeof n&&(n+="px"),"(min-width: "+n+")"}(a))),"down"!==o&&!0!==o||(e=r(e,i(a))),e}),"")}),[JSON.stringify(s)]);return Ks(c,o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Zs=Js;function Qs(e){void 0===e&&(e=Vo());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(sC){return e.body}}function $s(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function el(t){var n=function(t){var n=(0,e.useRef)(t);return n.current=t,n}(t);(0,e.useEffect)((function(){return function(){return n.current()}}),[])}var tl="data-rr-ui-",nl="rrUi";function rl(e){return"".concat(tl).concat(e)}var il=rl("modal-open"),al=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;Lt(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return It(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=Et({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(Zo(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(il,""),Zo(r,t)}},{key:"reset",value:function(){var e=this;da(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(il),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),ol=al,sl=(0,e.createContext)(cs?window:void 0);sl.Provider;function ll(){return(0,e.useContext)(sl)}var cl=function(e,t){return cs?null==e?(t||Vo()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null};var ul=function(t){var n=t.children,r=t.in,i=t.onExited,a=t.mountOnEnter,o=t.unmountOnExit,s=(0,e.useRef)(null),l=(0,e.useRef)(r),c=Bs(i);(0,e.useEffect)((function(){r?l.current=!0:c(s.current)}),[r,c]);var u=Ss(s,n.ref),d=(0,e.cloneElement)(n,{ref:u});return r?d:o||!l.current&&a?null:d};function dl(t){var n=t.children,r=t.in,i=t.onExited,a=t.onEntered,o=t.transition,s=Gt((0,e.useState)(!r),2),l=s[0],c=s[1];r&&l&&c(!1);var u=function(t){var n=t.in,r=t.onTransition,i=(0,e.useRef)(null),a=(0,e.useRef)(!0),o=Bs(r);return qs((function(){if(i.current){var e=!1;return o({in:n,element:i.current,initial:a.current,isStale:function(){return e}}),function(){e=!0}}}),[n,o]),qs((function(){return a.current=!1,function(){a.current=!0}}),[]),i}({in:!!r,onTransition:function(e){Promise.resolve(o(e)).then((function(){e.isStale()||(e.in?null==a||a(e.element,e.initial):(c(!0),null==i||i(e.element)))}),(function(t){throw e.in||c(!0),t}))}}),d=Ss(u,n.ref);return l&&!r?null:(0,e.cloneElement)(n,{ref:d})}function hl(e,t,n){return e?(0,qt.jsx)(e,Object.assign({},n)):t?(0,qt.jsx)(dl,Object.assign({},n,{transition:t})):(0,qt.jsx)(ul,Object.assign({},n))}var fl,pl=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function vl(t){var n=ll(),r=t||function(e){return fl||(fl=new ol({ownerDocument:null==e?void 0:e.document})),fl}(n),i=(0,e.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,e.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,e.useCallback)((function(e){i.current.backdrop=e}),[])})}var ml=(0,e.forwardRef)((function(t,n){var r=t.show,i=void 0!==r&&r,a=t.role,o=void 0===a?"dialog":a,s=t.className,l=t.style,c=t.children,u=t.backdrop,d=void 0===u||u,h=t.keyboard,f=void 0===h||h,p=t.onBackdropClick,v=t.onEscapeKeyDown,m=t.transition,g=t.runTransition,y=t.backdropTransition,b=t.runBackdropTransition,_=t.autoFocus,x=void 0===_||_,w=t.enforceFocus,S=void 0===w||w,k=t.restoreFocus,E=void 0===k||k,M=t.restoreFocusOptions,T=t.renderDialog,P=t.renderBackdrop,A=void 0===P?function(e){return(0,qt.jsx)("div",Object.assign({},e))}:P,C=t.manager,R=t.container,O=t.onShow,L=t.onHide,F=void 0===L?function(){}:L,I=t.onExit,N=t.onExited,D=t.onExiting,j=t.onEnter,z=t.onEntering,H=t.onEntered,B=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,pl),U=function(t,n){var r=ll(),i=Gt((0,e.useState)((function(){return cl(t,null==r?void 0:r.document)})),2),a=i[0],o=i[1];if(!a){var s=cl(t);s&&o(s)}return(0,e.useEffect)((function(){n&&a&&n(a)}),[n,a]),(0,e.useEffect)((function(){var e=cl(t);e!==a&&o(e)}),[t,a]),a}(R),G=vl(C),W=function(){var t=(0,e.useRef)(!0),n=(0,e.useRef)((function(){return t.current}));return(0,e.useEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]),n.current}(),V=function(t){var n=(0,e.useRef)(null);return(0,e.useEffect)((function(){n.current=t})),n.current}(i),q=Gt((0,e.useState)(!i),2),X=q[0],Y=q[1],K=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,(function(){return G}),[G]),cs&&!V&&i&&(K.current=Qs()),i&&X&&Y(!1);var J=Bs((function(){if(G.add(),ne.current=vs(document,"keydown",ee),te.current=vs(document,"focus",(function(){return setTimeout(Q)}),!0),O&&O(),x){var e=Qs(document);G.dialog&&e&&!$s(G.dialog,e)&&(K.current=e,G.dialog.focus())}})),Z=Bs((function(){var e;(G.remove(),null==ne.current||ne.current(),null==te.current||te.current(),E)&&(null==(e=K.current)||null==e.focus||e.focus(M),K.current=null)}));(0,e.useEffect)((function(){i&&U&&J()}),[i,U,J]),(0,e.useEffect)((function(){X&&Z()}),[X,Z]),el((function(){Z()}));var Q=Bs((function(){if(S&&W()&&G.isTopModal()){var e=Qs();G.dialog&&e&&!$s(G.dialog,e)&&G.dialog.focus()}})),$=Bs((function(e){e.target===e.currentTarget&&(null==p||p(e),!0===d&&F())})),ee=Bs((function(e){f&&27===e.keyCode&&G.isTopModal()&&(null==v||v(e),e.defaultPrevented||F())})),te=(0,e.useRef)(),ne=(0,e.useRef)();if(!U)return null;var re=Object.assign({role:o,ref:G.setDialogRef,"aria-modal":"dialog"===o||void 0},B,{style:l,className:s,tabIndex:-1}),ie=T?T(re):(0,qt.jsx)("div",Object.assign({},re,{children:e.cloneElement(c,{role:"document"})}));ie=hl(m,g,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!i,onExit:I,onExiting:D,onExited:function(){Y(!0),null==N||N.apply(void 0,arguments)},onEnter:j,onEntering:z,onEntered:H,children:ie});var ae=null;return d&&(ae=A({ref:G.setBackdropRef,onClick:$}),ae=hl(y,b,{in:!!i,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ae})),(0,qt.jsx)(qt.Fragment,{children:Qo.createPortal((0,qt.jsxs)(qt.Fragment,{children:[ae,ie]}),U)})}));ml.displayName="Modal";var gl,yl=Object.assign(ml,{Manager:ol}),bl=["className","children","transitionClasses"],_l=(Et(gl={},rs,"show"),Et(gl,is,"show"),gl),xl=e.forwardRef((function(t,n){var r=t.className,i=t.children,a=t.transitionClasses,o=void 0===a?{}:a,s=en(t,bl),l=(0,e.useCallback)((function(e,t){xs(e),null==s.onEnter||s.onEnter(e,t)}),[s]);return(0,qt.jsx)(Ts,Tt(Tt({ref:n,addEndListener:bs},s),{},{onEnter:l,childRef:i.ref,children:function(t,n){return e.cloneElement(i,Tt(Tt({},n),{},{className:So()("fade",r,i.props.className,_l[t],o[t])}))}}))}));xl.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},xl.displayName="Fade";var wl,Sl=xl,kl=Bo("offcanvas-body"),El=["bsPrefix","className","children"],Ml=(Et(wl={},rs,"show"),Et(wl,is,"show"),wl),Tl=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,a=t.children,o=en(t,El);return r=No(r,"offcanvas"),(0,qt.jsx)(Ts,Tt(Tt({ref:n,addEndListener:bs},o),{},{childRef:a.ref,children:function(t,n){return e.cloneElement(a,Tt(Tt({},n),{},{className:So()(i,a.props.className,(t===rs||t===as)&&"".concat(r,"-toggling"),Ml[t])}))}}))}));Tl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Tl.displayName="OffcanvasToggling";var Pl=Tl,Al=e.createContext({onHide:function(){}}),Cl=["className","variant"],Rl={"aria-label":a().string,onClick:a().func,variant:a().oneOf(["white"])},Ol=e.forwardRef((function(e,t){var n=e.className,r=e.variant,i=en(e,Cl);return(0,qt.jsx)("button",Tt({ref:t,type:"button",className:So()("btn-close",r&&"btn-close-".concat(r),n)},i))}));Ol.displayName="CloseButton",Ol.propTypes=Rl,Ol.defaultProps={"aria-label":"Close"};var Ll=Ol,Fl=["closeLabel","closeVariant","closeButton","onHide","children"],Il=e.forwardRef((function(t,n){var r=t.closeLabel,i=t.closeVariant,a=t.closeButton,o=t.onHide,s=t.children,l=en(t,Fl),c=(0,e.useContext)(Al),u=Bs((function(){null==c||c.onHide(),null==o||o()}));return(0,qt.jsxs)("div",Tt(Tt({ref:n},l),{},{children:[s,a&&(0,qt.jsx)(Ll,{"aria-label":r,variant:i,onClick:u})]}))}));Il.defaultProps={closeLabel:"Close",closeButton:!1};var Nl=Il,Dl=["bsPrefix","className"],jl=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=en(e,Dl);return n=No(n,"offcanvas-header"),(0,qt.jsx)(Nl,Tt(Tt({ref:t},i),{},{className:So()(r,n)}))}));jl.displayName="OffcanvasHeader",jl.defaultProps={closeLabel:"Close",closeButton:!1};var zl=jl,Hl=function(t){return e.forwardRef((function(e,n){return(0,qt.jsx)("div",Tt(Tt({},e),{},{ref:n,className:So()(e.className,t)}))}))},Bl=Bo("offcanvas-title",{Component:Hl("h5")});function Ul(e){return Ul=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ul(e)}function Gl(){return Gl="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ul(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Gl.apply(this,arguments)}function Wl(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)}function Vl(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(sC){return!1}}function ql(e,t){if(t&&("object"===St(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yr(e)}function Xl(e){var t=Vl();return function(){var n,r=Ul(e);if(t){var i=Ul(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ql(this,n)}}var Yl=Function.prototype.bind.call(Function.prototype.call,[].slice);function Kl(e,t){return Yl(e.querySelectorAll(t))}function Jl(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Zl,Ql=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",$l=".sticky-top",ec=".navbar-toggler",tc=function(e){Wl(n,e);var t=Xl(n);function n(){return Lt(this,n),t.apply(this,arguments)}return It(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,Zo(t,Et({},e,"".concat(parseFloat(Zo(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Zo(t,Et({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;Gl(Ul(n.prototype),"setContainerStyle",this).call(this,e);var r,i,a=this.getElement();if(i="modal-open",(r=a).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Kl(a,Ql).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)})),Kl(a,$l).forEach((function(n){return t.adjustAndStore(s,n,-e.scrollBarWidth)})),Kl(a,ec).forEach((function(n){return t.adjustAndStore(s,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;Gl(Ul(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,a=this.getElement();i="modal-open",(r=a).classList?r.classList.remove(i):"string"===typeof r.className?r.className=Jl(r.className,i):r.setAttribute("class",Jl(r.className&&r.className.baseVal||"",i));var o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Kl(a,Ql).forEach((function(e){return t.restore(o,e)})),Kl(a,$l).forEach((function(e){return t.restore(s,e)})),Kl(a,ec).forEach((function(e){return t.restore(s,e)}))}}]),n}(ol);var nc=tc,rc=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function ic(e){return(0,qt.jsx)(Pl,Tt({},e))}function ac(e){return(0,qt.jsx)(Sl,Tt({},e))}var oc=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,a=t.children,o=t["aria-labelledby"],s=t.placement,l=t.responsive,c=t.show,u=t.backdrop,d=t.keyboard,h=t.scroll,f=t.onEscapeKeyDown,p=t.onShow,v=t.onHide,m=t.container,g=t.autoFocus,y=t.enforceFocus,b=t.restoreFocus,_=t.restoreFocusOptions,x=t.onEntered,w=t.onExit,S=t.onExiting,k=t.onEnter,E=t.onEntering,M=t.onExited,T=t.backdropClassName,P=t.manager,A=t.renderStaticNode,C=en(t,rc),R=(0,e.useRef)();r=No(r,"offcanvas");var O=((0,e.useContext)(Ns)||{}).onToggle,L=Gt((0,e.useState)(!1),2),F=L[0],I=L[1],N=Zs(l||"xs","up");(0,e.useEffect)((function(){I(l?c&&!N:c)}),[c,l,N]);var D=Bs((function(){null==O||O(),null==v||v()})),j=(0,e.useMemo)((function(){return{onHide:D}}),[D]);var z=(0,e.useCallback)((function(e){return(0,qt.jsx)("div",Tt(Tt({},e),{},{className:So()("".concat(r,"-backdrop"),T)}))}),[T,r]),H=function(e){return(0,qt.jsx)("div",Tt(Tt(Tt({},e),C),{},{className:So()(i,l?"".concat(r,"-").concat(l):r,"".concat(r,"-").concat(s)),"aria-labelledby":o,children:a}))};return(0,qt.jsxs)(qt.Fragment,{children:[!F&&(l||A)&&H({}),(0,qt.jsx)(Al.Provider,{value:j,children:(0,qt.jsx)(yl,{show:F,ref:n,backdrop:u,container:m,keyboard:d,autoFocus:g,enforceFocus:y&&!h,restoreFocus:b,restoreFocusOptions:_,onEscapeKeyDown:f,onShow:p,onHide:D,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==k||k.apply(void 0,[e].concat(n))},onEntering:E,onEntered:x,onExit:w,onExiting:S,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==M||M.apply(void 0,n)},manager:P||(h?(R.current||(R.current=new nc({handleContainerOverflow:!1})),R.current):function(e){return Zl||(Zl=new tc(e)),Zl}()),transition:ic,backdropTransition:ac,renderBackdrop:z,renderDialog:H})})]})}));oc.displayName="Offcanvas",oc.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};var sc=Object.assign(oc,{Body:kl,Header:zl,Title:Bl}),lc=e.forwardRef((function(t,n){var r=(0,e.useContext)(Ns);return(0,qt.jsx)(sc,Tt(Tt({ref:n,show:!(null==r||!r.expanded)},t),{},{renderStaticNode:!0}))}));lc.displayName="NavbarOffcanvas";var cc=lc,uc=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],dc=Bo("navbar-text",{Component:"span"}),hc=e.forwardRef((function(t,n){var r=Po(t,{expanded:"onToggle"}),i=r.bsPrefix,a=r.expand,o=r.variant,s=r.bg,l=r.fixed,c=r.sticky,u=r.className,d=r.as,h=void 0===d?"nav":d,f=r.expanded,p=r.onToggle,v=r.onSelect,m=r.collapseOnSelect,g=en(r,uc),y=No(i,"navbar"),b=(0,e.useCallback)((function(){null==v||v.apply(void 0,arguments),m&&f&&(null==p||p(!1))}),[v,m,f,p]);void 0===g.role&&"nav"!==h&&(g.role="navigation");var _="".concat(y,"-expand");"string"===typeof a&&(_="".concat(_,"-").concat(a));var x=(0,e.useMemo)((function(){return{onToggle:function(){return null==p?void 0:p(!f)},bsPrefix:y,expanded:!!f,expand:a}}),[y,f,a,p]);return(0,qt.jsx)(Ns.Provider,{value:x,children:(0,qt.jsx)(Eo.Provider,{value:b,children:(0,qt.jsx)(h,Tt(Tt({ref:n},g),{},{className:So()(u,y,a&&_,o&&"".concat(y,"-").concat(o),s&&"bg-".concat(s),c&&"sticky-".concat(c),l&&"fixed-".concat(l))}))})})}));hc.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},hc.displayName="Navbar";var fc=Object.assign(hc,{Brand:Wo,Collapse:zs,Offcanvas:cc,Text:dc,Toggle:Ws});__webpack_require__(3573);var pc=e.createContext(null);pc.displayName="NavContext";var vc=pc,mc=e.createContext(null),gc=["as","disabled"];function yc(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,s=e.onClick,l=e.tabIndex,c=void 0===l?0:l,u=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var d={tagName:t};if("button"===t)return[{type:u||"button",disabled:n},d];var h=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:h,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),h(e))}},d]}var bc=e.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,gc),a=Gt(yc(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,qt.jsx)(s,Object.assign({},i,o,{ref:t}))}));bc.displayName="Button";var _c=bc,xc=["as","active","eventKey"];function wc(t){var n=t.key,r=t.onClick,i=t.active,a=t.id,o=t.role,s=t.disabled,l=(0,e.useContext)(Eo),c=(0,e.useContext)(vc),u=(0,e.useContext)(mc),d=i,h={role:o};if(c){o||"tablist"!==c.role||(h.role="tab");var f=c.getControllerId(null!=n?n:null),p=c.getControlledId(null!=n?n:null);h[rl("event-key")]=n,h.id=f||a,!(d=null==i&&null!=n?c.activeKey===n:i)&&(null!=u&&u.unmountOnExit||null!=u&&u.mountOnEnter)||(h["aria-controls"]=p)}return"tab"===h.role&&(h["aria-selected"]=d,d||(h.tabIndex=-1),s&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=Bs((function(e){s||(null==r||r(e),null!=n&&l&&!e.isPropagationStopped()&&l(n,e))})),[h,{isActive:d}]}var Sc=e.forwardRef((function(e,t){var n=e.as,r=void 0===n?_c:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,xc),s=Gt(wc(Object.assign({key:ko(a,o.href),active:i},o)),2),l=s[0],c=s[1];return l[rl("active")]=c.isActive,(0,qt.jsx)(r,Object.assign({},o,l,{ref:t}))}));Sc.displayName="NavItem";var kc=Sc,Ec=["as","onSelect","activeKey","role","onKeyDown"];var Mc=function(){},Tc=rl("event-key"),Pc=e.forwardRef((function(t,n){var r,i,a=t.as,o=void 0===a?"div":a,s=t.onSelect,l=t.activeKey,c=t.role,u=t.onKeyDown,d=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,Ec),h=(0,e.useReducer)((function(e){return!e}),!1)[1],f=(0,e.useRef)(!1),p=(0,e.useContext)(Eo),v=(0,e.useContext)(mc);v&&(c=c||"tablist",l=v.activeKey,r=v.getControlledId,i=v.getControllerId);var m=(0,e.useRef)(null),g=function(e){var t=m.current;if(!t)return null;var n=Kl(t,"[".concat(Tc,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},y=function(e,t){null!=e&&(null==s||s(e,t),null==p||p(e,t))};(0,e.useEffect)((function(){if(m.current&&f.current){var e=m.current.querySelector("[".concat(Tc,"][aria-selected=true]"));null==e||e.focus()}f.current=!1}));var b=Ss(n,m);return(0,qt.jsx)(Eo.Provider,{value:y,children:(0,qt.jsx)(vc.Provider,{value:{role:c,activeKey:ko(l),getControlledId:r||Mc,getControllerId:i||Mc},children:(0,qt.jsx)(o,Object.assign({},d,{onKeyDown:function(e){if(null==u||u(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=g(-1);break;case"ArrowRight":case"ArrowDown":t=g(1);break;default:return}if(t)e.preventDefault(),y(t.dataset[(n="EventKey","".concat(nl).concat(n))]||null,e),f.current=!0,h()}},ref:b,role:c}))})})}));Pc.displayName="Nav";var Ac=Object.assign(Pc,{Item:kc}),Cc=e.createContext(null);Cc.displayName="CardHeaderContext";var Rc=Cc,Oc=Bo("nav-item");new WeakMap;var Lc=["onKeyDown"];var Fc=e.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Lc),a=Gt(yc(Object.assign({tagName:"a"},i)),1)[0],o=Bs((function(e){a.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,qt.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,qt.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));Fc.displayName="Anchor";var Ic=Fc,Nc=["bsPrefix","className","as","active","eventKey"],Dc=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?Ic:i,o=e.active,s=e.eventKey,l=en(e,Nc);n=No(n,"nav-link");var c=Gt(wc(Tt({key:ko(s,l.href),active:o},l)),2),u=c[0],d=c[1];return(0,qt.jsx)(a,Tt(Tt(Tt({},l),u),{},{ref:t,className:So()(r,n,l.disabled&&"disabled",d.isActive&&"active")}))}));Dc.displayName="NavLink",Dc.defaultProps={disabled:!1};var jc=Dc,zc=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],Hc=e.forwardRef((function(t,n){var r,i,a,o=Po(t,{activeKey:"onSelect"}),s=o.as,l=void 0===s?"div":s,c=o.bsPrefix,u=o.variant,d=o.fill,h=o.justify,f=o.navbar,p=o.navbarScroll,v=o.className,m=o.activeKey,g=en(o,zc),y=No(c,"nav"),b=!1,_=(0,e.useContext)(Ns),x=(0,e.useContext)(Rc);return _?(i=_.bsPrefix,b=null==f||f):x&&(a=x.cardHeaderBsPrefix),(0,qt.jsx)(Ac,Tt({as:l,ref:n,activeKey:m,className:So()(v,(r={},Et(r,y,!b),Et(r,"".concat(i,"-nav"),b),Et(r,"".concat(i,"-nav-scroll"),b&&p),Et(r,"".concat(a,"-").concat(u),!!a),Et(r,"".concat(y,"-").concat(u),!!u),Et(r,"".concat(y,"-fill"),d),Et(r,"".concat(y,"-justified"),h),r))},g))}));Hc.displayName="Nav",Hc.defaultProps={justify:!1,fill:!1};var Bc=Object.assign(Hc,{Item:Oc,Link:jc}),Uc=["bsPrefix","fluid","as","className"],Gc=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,o=e.className,s=en(e,Uc),l=No(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,qt.jsx)(a,Tt(Tt({ref:t},s),{},{className:So()(o,r?"".concat(l).concat(c):l)}))}));Gc.displayName="Container",Gc.defaultProps={fluid:!1};var Wc=Gc,Vc=__webpack_require__(5667);function qc(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=qc(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var Xc=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=qc(e))&&(r&&(r+=" "),r+=t);return r};function Yc(e){if("string"!==typeof e)throw new Error(Yt(7));return e.charAt(0).toUpperCase()+e.slice(1)}var Kc=e.forwardRef((function(t,n){var r=t.children,i=t.classes,a=t.className,s=t.color,l=void 0===s?"inherit":s,c=t.component,u=void 0===c?"svg":c,d=t.fontSize,h=void 0===d?"medium":d,f=t.htmlColor,p=t.titleAccess,v=t.viewBox,m=void 0===v?"0 0 24 24":v,g=en(t,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return e.createElement(u,o({className:Xc(i.root,a,"inherit"!==l&&i["color".concat(Yc(l))],"default"!==h&&"medium"!==h&&i["fontSize".concat(Yc(h))]),focusable:"false",viewBox:m,color:f,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:n},g),r,p?e.createElement("title",null,p):null)}));Kc.muiName="SvgIcon";var Jc=yo((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(Kc);function Zc(t,n){var r=function(n,r){return e.createElement(Jc,o({ref:r},n),t)};return r.muiName=Jc.muiName,e.memo(e.forwardRef(r))}var Qc=Zc(e.createElement("path",{d:"M12 5.69l5 4.5V18h-2v-6H9v6H7v-7.81l5-4.5M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3z"})),$c=Zc(e.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})),eu=Zc(e.createElement("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z"})),tu=Zc(e.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}));function nu(){return dr()||go}var ru=function(){var t=nu(),n=Gt((0,e.useState)(!1),2),r=n[0],i=n[1],a=Gt((0,e.useState)(!1),2),o=a[0],s=a[1],l=Vt().t;return window.addEventListener("scroll",(function(){window.scrollY>=20?s(!0):s(!1)})),(0,qt.jsx)(fc,{expanded:r,fixed:"top",expand:"md",className:o?"sticky":"navbar",children:(0,qt.jsxs)(Wc,{style:{justifyContent:"start"},children:[(0,qt.jsxs)(fc.Toggle,{"aria-controls":"responsive-navbar-nav",onClick:function(){i(!r&&"expanded"),s(!r)},children:[(0,qt.jsx)("span",{style:{background:t.palette.foreground.default}}),(0,qt.jsx)("span",{style:{background:t.palette.foreground.default}}),(0,qt.jsx)("span",{style:{background:t.palette.foreground.default}})]}),(0,qt.jsx)(fc.Collapse,{id:"responsive-navbar-nav",style:{justifyContent:"start"},children:(0,qt.jsxs)(Bc,{defaultActiveKey:"#home",children:[(0,qt.jsx)(Bc.Item,{style:{color:t.palette.foreground.default},children:(0,qt.jsxs)(Vc.rU,{to:"Home",onClick:function(){i(!1),s(!1)},smooth:!0,duration:200,children:[(0,qt.jsx)(Qc,{style:{marginBottom:"2px"}})," ",l("Home.nav_home")]})}),(0,qt.jsx)(Bc.Item,{style:{color:t.palette.foreground.default},children:(0,qt.jsxs)(Vc.rU,{to:"About",onClick:function(){i(!1),s(!1)},smooth:!0,duration:200,children:[(0,qt.jsx)($c,{style:{marginBottom:"2px"}})," ",l("Home.nav_about")]})}),(0,qt.jsx)(Bc.Item,{style:{color:t.palette.foreground.default},children:(0,qt.jsxs)(Vc.rU,{to:"Project",onClick:function(){i(!1),s(!1)},smooth:!0,duration:200,children:[(0,qt.jsx)(eu,{style:{marginBottom:"2px"}})," ",l("Home.nav_project")]})}),(0,qt.jsx)(Bc.Item,{style:{color:t.palette.foreground.default},children:(0,qt.jsxs)(Vc.rU,{to:"Resume",onClick:function(){i(!1),s(!1)},smooth:!0,duration:200,children:[(0,qt.jsx)(tu,{style:{marginBottom:"2px"}}),"  ",l("Home.nav_Resume")]})})]})})]})})};var iu={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},au=function(){function e(t){Lt(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(t,n)}return It(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||iu,this.options=t,this.debug=t.debug}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"===typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,Tt(Tt({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}(),ou=new au,su=function(){function e(){Lt(this,e),this.observers={}}return It(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(n))}))}}]),e}();function lu(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function cu(e){return null==e?"":""+e}function uu(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"===typeof e}for(var a="string"!==typeof t?[].concat(t):t.split(".");a.length>1;){if(i())return{};var o=r(a.shift());!e[o]&&n&&(e[o]=new n),e=Object.prototype.hasOwnProperty.call(e,o)?e[o]:{}}return i()?{}:{obj:e,k:r(a.shift())}}function du(e,t,n){var r=uu(e,t,Object);r.obj[r.k]=n}function hu(e,t){var n=uu(e,t),r=n.obj,i=n.k;if(r)return r[i]}function fu(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"===typeof e[r]||e[r]instanceof String||"string"===typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):fu(e[r],t[r],n):e[r]=t[r]);return e}function pu(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var vu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function mu(e){return"string"===typeof e?e.replace(/[&<>"'\/]/g,(function(e){return vu[e]})):e}var gu=[" ",",","?","!",";"];function yu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,a=0;a<r.length;++a){if(!i)return;if("string"===typeof i[r[a]]&&a+1<r.length)return;if(void 0===i[r[a]]){for(var o=2,s=r.slice(a,a+o).join(n),l=i[s];void 0===l&&r.length>a+o;)o++,l=i[s=r.slice(a,a+o).join(n)];if(void 0===l)return;if(null===l)return null;if(t.endsWith(s)){if("string"===typeof l)return l;if(s&&"string"===typeof l[s])return l[s]}var c=r.slice(a+o).join(n);return c?yu(l,c,n):void 0}i=i[r[a]]}return i}}function bu(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}var _u=function(e){Wl(n,e);var t=Xl(n);function n(e){var r;Lt(this,n);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return(r=t.call(this)).data=e||{},r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return It(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,a=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,o=[e,t];n&&"string"!==typeof n&&(o=o.concat(n)),n&&"string"===typeof n&&(o=o.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(o=e.split("."));var s=hu(this.data,o);return s||!a||"string"!==typeof n?s:yu(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=[e,t];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(r=t,t=(o=e.split("."))[1]),this.addNamespaces(t),du(this.data,o,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!==typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},o=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(o=e.split("."))[1]),this.addNamespaces(t);var s=hu(this.data,o)||{};r?fu(s,n,i):s=Tt(Tt({},s),n),du(this.data,o,s),a.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?Tt(Tt({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(su),xu={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var a=this;return e.forEach((function(e){a.processors[e]&&(t=a.processors[e].process(t,n,r,i))})),t}},wu={},Su=function(e){Wl(n,e);var t=Xl(n);function n(e){var r;Lt(this,n);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,yr(r=t.call(this))),r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=ou.create("translator"),r}return It(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(void 0===e||null===e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],a=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!function(e,t,n){t=t||"",n=n||"";var r=gu.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var i=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),a=!i.test(e);if(!a){var o=e.indexOf(n);o>0&&!i.test(e.substring(0,o))&&(a=!0)}return a}(e,n,r);if(a&&!o){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:i};var l=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(l[0])>-1)&&(i=l.shift()),e=l.join(r)}return"string"===typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,t,r){var i=this;if("object"!==typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"===typeof t&&(t=Tt({},t)),t||(t={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);var a=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),l=s.key,c=s.namespaces,u=c[c.length-1],d=t.lng||this.language,h=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&"cimode"===d.toLowerCase()){if(h){var f=t.nsSeparator||this.options.nsSeparator;return a?{res:"".concat(u).concat(f).concat(l),usedKey:l,exactUsedKey:l,usedLng:d,usedNS:u}:"".concat(u).concat(f).concat(l)}return a?{res:l,usedKey:l,exactUsedKey:l,usedLng:d,usedNS:u}:l}var p=this.resolve(e,t),v=p&&p.res,m=p&&p.usedKey||l,g=p&&p.exactUsedKey||l,y=Object.prototype.toString.apply(v),b=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject;if(_&&v&&("string"!==typeof v&&"boolean"!==typeof v&&"number"!==typeof v)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(y)<0&&("string"!==typeof b||"[object Array]"!==y)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,v,Tt(Tt({},t),{},{ns:c})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");return a?(p.res=x,p):x}if(o){var w="[object Array]"===y,S=w?[]:{},k=w?g:m;for(var E in v)if(Object.prototype.hasOwnProperty.call(v,E)){var M="".concat(k).concat(o).concat(E);S[E]=this.translate(M,Tt(Tt({},t),{joinArrays:!1,ns:c})),S[E]===M&&(S[E]=v[E])}v=S}}else if(_&&"string"===typeof b&&"[object Array]"===y)(v=v.join(b))&&(v=this.extendTranslation(v,e,t,r));else{var T=!1,P=!1,A=void 0!==t.count&&"string"!==typeof t.count,C=n.hasDefaultValue(t),R=A?this.pluralResolver.getSuffix(d,t.count,t):"",O=t.ordinal&&A?this.pluralResolver.getSuffix(d,t.count,{ordinal:!1}):"",L=t["defaultValue".concat(R)]||t["defaultValue".concat(O)]||t.defaultValue;!this.isValidLookup(v)&&C&&(T=!0,v=L),this.isValidLookup(v)||(P=!0,v=l);var F=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&P?void 0:v,I=C&&L!==v&&this.options.updateMissing;if(P||T||I){if(this.logger.log(I?"updateKey":"missingKey",d,u,l,I?L:v),o){var N=this.resolve(l,Tt(Tt({},t),{},{keySeparator:!1}));N&&N.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var D=[],j=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&j&&j[0])for(var z=0;z<j.length;z++)D.push(j[z]);else"all"===this.options.saveMissingTo?D=this.languageUtils.toResolveHierarchy(t.lng||this.language):D.push(t.lng||this.language);var H=function(e,n,r){var a=C&&r!==v?r:F;i.options.missingKeyHandler?i.options.missingKeyHandler(e,u,n,a,I,t):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(e,u,n,a,I,t),i.emit("missingKey",e,u,n,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?D.forEach((function(e){i.pluralResolver.getSuffixes(e,t).forEach((function(n){H([e],l+n,t["defaultValue".concat(n)]||L)}))})):H(D,l,L))}v=this.extendTranslation(v,e,t,p,r),P&&v===l&&this.options.appendNamespaceToMissingKey&&(v="".concat(u,":").concat(l)),(P||T)&&this.options.parseMissingKeyHandler&&(v="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(u,":").concat(l):l,T?v:void 0):this.options.parseMissingKeyHandler(v))}return a?(p.res=v,p):v}},{key:"extendTranslation",value:function(e,t,n,r,i){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,Tt(Tt({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(Tt(Tt({},n),{interpolation:Tt(Tt({},this.options.interpolation),n.interpolation)}));var o,s="string"===typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var l=e.match(this.interpolator.nestingRegexp);o=l&&l.length}var c=n.replace&&"string"!==typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=Tt(Tt({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),s){var u=e.match(this.interpolator.nestingRegexp);o<(u&&u.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return i&&i[0]===r[0]&&!n.context?(a.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):a.translate.apply(a,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,h="string"===typeof d?[d]:d;return void 0!==e&&null!==e&&h&&h.length&&!1!==n.applyPostProcessor&&(e=xu.handle(h,e,t,this.options&&this.options.postProcessPassResolved?Tt({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,a,o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e&&(e=[e]),e.forEach((function(e){if(!o.isValidLookup(t)){var l=o.extractFromKey(e,s),c=l.key;n=c;var u=l.namespaces;o.options.fallbackNS&&(u=u.concat(o.options.fallbackNS));var d=void 0!==s.count&&"string"!==typeof s.count,h=d&&!s.ordinal&&0===s.count&&o.pluralResolver.shouldUseIntlApi(),f=void 0!==s.context&&("string"===typeof s.context||"number"===typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:o.languageUtils.toResolveHierarchy(s.lng||o.language,s.fallbackLng);u.forEach((function(e){o.isValidLookup(t)||(a=e,!wu["".concat(p[0],"-").concat(e)]&&o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(a)&&(wu["".concat(p[0],"-").concat(e)]=!0,o.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!o.isValidLookup(t)){i=n;var a,l=[c];if(o.i18nFormat&&o.i18nFormat.addLookupKeys)o.i18nFormat.addLookupKeys(l,c,n,e,s);else{var u;d&&(u=o.pluralResolver.getSuffix(n,s.count,s));var p="".concat(o.options.pluralSeparator,"zero"),v="".concat(o.options.pluralSeparator,"ordinal").concat(o.options.pluralSeparator);if(d&&(l.push(c+u),s.ordinal&&0===u.indexOf(v)&&l.push(c+u.replace(v,o.options.pluralSeparator)),h&&l.push(c+p)),f){var m="".concat(c).concat(o.options.contextSeparator).concat(s.context);l.push(m),d&&(l.push(m+u),s.ordinal&&0===u.indexOf(v)&&l.push(m+u.replace(v,o.options.pluralSeparator)),h&&l.push(m+p))}}for(;a=l.pop();)o.isValidLookup(t)||(r=a,t=o.getResource(n,e,a,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:a}}},{key:"isValidLookup",value:function(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),n}(su);function ku(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Eu=function(){function e(t){Lt(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ou.create("languageUtils")}return It(e,[{key:"getScriptPartFromCode",value:function(e){if(!(e=bu(e))||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!(e=bu(e))||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"===typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=ku(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=ku(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=ku(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){return e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:0===e.indexOf(r)?e:void 0}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),"string"===typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],a=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"===typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):"string"===typeof e&&a(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&a(n.formatLanguageCode(e))})),i}}]),e}(),Mu=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Tu={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},Pu=["v1","v2","v3"],Au=["v4"],Cu={zero:0,one:1,two:2,few:3,many:4,other:5};var Ru=function(){function e(t){Lt(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=ou.create("pluralResolver"),this.options.compatibilityJSON&&!Au.includes(this.options.compatibilityJSON)||"undefined"!==typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){var e={};return Mu.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:Tu[t.fc]}}))})),e}()}return It(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(bu(e),{type:t.ordinal?"ordinal":"cardinal"})}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return Cu[e]-Cu[t]})).map((function(e){return"".concat(t.options.prepend).concat(n.ordinal?"ordinal".concat(t.options.prepend):"").concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var a=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"===typeof i?"_plural_".concat(i.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?a():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!Pu.includes(this.options.compatibilityJSON)}}]),e}();function Ou(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=function(e,t,n){var r=hu(e,n);return void 0!==r?r:hu(t,n)}(e,t,n);return!a&&i&&"string"===typeof n&&void 0===(a=yu(e,n,r))&&(a=yu(t,n,r)),a}var Lu=function(){function e(){Lt(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=ou.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return It(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:mu,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?pu(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?pu(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?pu(t.nestingPrefix):t.nestingPrefixEscaped||pu("$t("),this.nestingSuffix=t.nestingSuffix?pu(t.nestingSuffix):t.nestingSuffixEscaped||pu(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,a,o,s=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(s.formatSeparator)<0){var i=Ou(t,l,e,s.options.keySeparator,s.options.ignoreJSONStructure);return s.alwaysFormat?s.format(i,void 0,n,Tt(Tt(Tt({},r),t),{},{interpolationkey:e})):i}var a=e.split(s.formatSeparator),o=a.shift().trim(),c=a.join(s.formatSeparator).trim();return s.format(Ou(t,l,o,s.options.keySeparator,s.options.ignoreJSONStructure),c,n,Tt(Tt(Tt({},r),t),{},{interpolationkey:o}))};this.resetRegExp();var d=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,h=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?c(s.escape(e)):c(e)}}].forEach((function(t){for(o=0;i=t.regex.exec(e);){var n=i[1].trim();if(void 0===(a=u(n)))if("function"===typeof d){var l=d(e,i,r);a="string"===typeof l?l:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))a="";else{if(h){a=i[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),a=""}else"string"===typeof a||s.useRawValueToEscape||(a=cu(a));var c=t.safeValue(a);if(e=e.replace(i[0],c),h?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++o>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i,a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),a="{".concat(r[1]);e=r[0];var o=(a=this.interpolate(a,i)).match(/'/g),s=a.match(/"/g);(o&&o.length%2===0&&!s||s.length%2!==0)&&(a=a.replace(/'/g,'"'));try{i=JSON.parse(a),t&&(i=Tt(Tt({},t),i))}catch(sC){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),sC),"".concat(e).concat(n).concat(a)}return delete i.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){var l=[];(i=(i=Tt({},o)).replace&&"string"!==typeof i.replace?i.replace:i).applyPostProcessor=!1,delete i.defaultValue;var c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=u.shift(),l=u,c=!0}if((r=t(s.call(this,n[1].trim(),i),i))&&n[0]===e&&"string"!==typeof r)return r;"string"!==typeof r&&(r=cu(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),c&&(r=l.reduce((function(e,t){return a.format(e,t,o.lng,Tt(Tt({},o),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function Fu(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if("currency"===t&&i.indexOf(":")<0)n.currency||(n.currency=i.trim());else if("relativetime"===t&&i.indexOf(":")<0)n.range||(n.range=i.trim());else{i.split(";").forEach((function(e){if(e){var t,r=e.split(":"),i=zt(t=r)||ua(t)||Bt(t)||Ut(),a=i[0],o=i.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[a.trim()]||(n[a.trim()]=o),"false"===o&&(n[a.trim()]=!1),"true"===o&&(n[a.trim()]=!0),isNaN(o)||(n[a.trim()]=parseInt(o,10))}}))}}return{formatName:t,formatOptions:n}}function Iu(e){var t={};return function(n,r,i){var a=r+JSON.stringify(i),o=t[a];return o||(o=e(bu(r),i),t[a]=o),o(n)}}var Nu=function(){function e(){Lt(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=ou.create("formatter"),this.options=t,this.formats={number:Iu((function(e,t){var n=new Intl.NumberFormat(e,Tt({},t));return function(e){return n.format(e)}})),currency:Iu((function(e,t){var n=new Intl.NumberFormat(e,Tt(Tt({},t),{},{style:"currency"}));return function(e){return n.format(e)}})),datetime:Iu((function(e,t){var n=new Intl.DateTimeFormat(e,Tt({},t));return function(e){return n.format(e)}})),relativetime:Iu((function(e,t){var n=new Intl.RelativeTimeFormat(e,Tt({},t));return function(e){return n.format(e,t.range||"day")}})),list:Iu((function(e,t){var n=new Intl.ListFormat(e,Tt({},t));return function(e){return n.format(e)}}))},this.init(t)}return It(e,[{key:"init",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=Iu(t)}},{key:"format",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.split(this.formatSeparator).reduce((function(e,t){var a=Fu(t),o=a.formatName,s=a.formatOptions;if(r.formats[o]){var l=e;try{var c=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},u=c.locale||c.lng||i.locale||i.lng||n;l=r.formats[o](e,u,Tt(Tt(Tt({},s),i),c))}catch(d){r.logger.warn(d)}return l}return r.logger.warn("there was no format function for ".concat(o)),e}),e)}}]),e}();var Du=function(e){Wl(n,e);var t=Xl(n);function n(e,r,i){var a;Lt(this,n);var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(a=t.call(this)).backend=e,a.store=r,a.services=i,a.languageUtils=i.languageUtils,a.options=o,a.logger=ou.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=o.maxParallelReads||10,a.readingCalls=0,a.maxRetries=o.maxRetries>=0?o.maxRetries:5,a.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(i,o.backend,o),a}return It(n,[{key:"queueLoad",value:function(e,t,n,r){var i=this,a={},o={},s={},l={};return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?void 0===o[s]&&(o[s]=!0):(i.state[s]=1,r=!1,void 0===o[s]&&(o[s]=!0),void 0===a[s]&&(a[s]=!0),void 0===l[t]&&(l[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],a=r[1];t&&this.emit("failedLoading",i,a,t),n&&this.store.addResourceBundle(i,a,n),this.state[e]=t?-1:2;var o={};this.queue.forEach((function(n){!function(e,t,n,r){var i=uu(e,t,Object),a=i.obj,o=i.k;a[o]=a[o]||[],r&&(a[o]=a[o].concat(n)),r||a[o].push(n)}(n.loaded,[i],a),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){o[e]||(o[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===o[e][t]&&(o[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",o),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads)this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:a,callback:o});else{this.readingCalls++;var s=function(s,l){if(r.readingCalls--,r.waitingReads.length>0){var c=r.waitingReads.shift();r.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}s&&l&&i<r.maxRetries?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*a,o)}),a):o(s,l)},l=this.backend[n].bind(this.backend);if(2!==l.length)return l(e,t,s);try{var c=l(e,t);c&&"function"===typeof c.then?c.then((function(e){return s(null,e)})).catch(s):s(null,c)}catch(u){s(u)}}}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"===typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"===typeof t&&(t=[t]);var a=this.queueLoad(e,t,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(function(r,o){r&&t.logger.warn("".concat(n,"loading namespace ").concat(a," for language ").concat(i," failed"),r),!r&&o&&t.logger.log("".concat(n,"loaded namespace ").concat(a," for language ").concat(i),o),t.loaded(e,r,o)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(void 0!==n&&null!==n&&""!==n){if(this.backend&&this.backend.create){var s=Tt(Tt({},a),{},{isUpdate:i}),l=this.backend.create.bind(this.backend);if(l.length<6)try{var c;(c=5===l.length?l(e,t,n,r,s):l(e,t,n,r))&&"function"===typeof c.then?c.then((function(e){return o(null,e)})).catch(o):o(null,c)}catch(u){o(u)}else l(e,t,n,r,o,s)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}}]),n}(su);function ju(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===typeof e[1]&&(t=e[1]),"string"===typeof e[1]&&(t.defaultValue=e[1]),"string"===typeof e[2]&&(t.tDescription=e[2]),"object"===typeof e[2]||"object"===typeof e[3]){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function zu(e){return"string"===typeof e.ns&&(e.ns=[e.ns]),"string"===typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"===typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Hu(){}var Bu=function(e){Wl(n,e);var t=Xl(n);function n(){var e;Lt(this,n);var r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if((e=t.call(this)).options=zu(i),e.services={},e.logger=ou,e.modules={external:[]},r=yr(e),Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach((function(e){"function"===typeof r[e]&&(r[e]=r[e].bind(r))})),a&&!e.isInitialized&&!i.isClone){if(!e.options.initImmediate)return e.init(i,a),ql(e,yr(e));setTimeout((function(){e.init(i,a)}),0)}return e}return It(n,[{key:"init",value:function(){var e=this,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;"function"===typeof n&&(r=n,n={}),!n.defaultNS&&!1!==n.defaultNS&&n.ns&&("string"===typeof n.ns?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));var i=ju();function a(e){return e?"function"===typeof e?new e:e:null}if(this.options=Tt(Tt(Tt({},i),this.options),zu(n)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=Tt(Tt({},i.interpolation),this.options.interpolation)),void 0!==n.keySeparator&&(this.options.userDefinedKeySeparator=n.keySeparator),void 0!==n.nsSeparator&&(this.options.userDefinedNsSeparator=n.nsSeparator),!this.options.isClone){var o;this.modules.logger?ou.init(a(this.modules.logger),this.options):ou.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!==typeof Intl&&(o=Nu);var s=new Eu(this.options);this.store=new _u(this.options.resources,this.options);var l=this.services;l.logger=ou,l.resourceStore=this.store,l.languageUtils=s,l.pluralResolver=new Ru(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(l.formatter=a(o),l.formatter.init(l,this.options),this.options.interpolation.format=l.formatter.format.bind(l.formatter)),l.interpolator=new Lu(this.options),l.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},l.backendConnector=new Du(a(this.modules.backend),l.resourceStore,l,this.options),l.backendConnector.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))})),this.modules.languageDetector&&(l.languageDetector=a(this.modules.languageDetector),l.languageDetector.init&&l.languageDetector.init(l,this.options.detection,this.options)),this.modules.i18nFormat&&(l.i18nFormat=a(this.modules.i18nFormat),l.i18nFormat.init&&l.i18nFormat.init(this)),this.translator=new Su(this.services,this.options),this.translator.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,r||(r=Hu),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(n){e[n]=function(){var e;return(e=t.store)[n].apply(e,arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(n){e[n]=function(){var e;return(e=t.store)[n].apply(e,arguments),t}}));var u=lu(),d=function(){var t=function(t,n){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),u.resolve(n),r(t,n)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),u}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hu,r="string"===typeof e?e:this.language;if("function"===typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return n();var i=[],a=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){i.indexOf(e)<0&&i.push(e)}))};if(r)a(r);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return a(e)}));this.options.preload&&this.options.preload.forEach((function(e){return a(e)})),this.services.backendConnector.load(i,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)}))}else n(null)}},{key:"reloadResources",value:function(e,t,n){var r=lu();return e||(e=this.languages),t||(t=this.options.ns),n||(n=Hu),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&xu.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this,r=this;this.isLanguageChangingTo=e;var i=lu();this.emit("languageChanging",e);var a=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},o=function(o){e||o||!n.services.languageDetector||(o=[]);var s="string"===typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);s&&(n.language||a(s),n.translator.language||n.translator.changeLanguage(s),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage&&n.services.languageDetector.cacheUserLanguage(s)),n.loadResources(s,(function(e){!function(e,o){o?(a(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,i.resolve((function(){return r.t.apply(r,arguments)})),t&&t(e,(function(){return r.t.apply(r,arguments)}))}(e,s)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),i}},{key:"getFixedT",value:function(e,t,n){var r=this,i=function e(t,i){var a;if("object"!==typeof i){for(var o=arguments.length,s=new Array(o>2?o-2:0),l=2;l<o;l++)s[l-2]=arguments[l];a=r.options.overloadTranslationOptionHandler([t,i].concat(s))}else a=Tt({},i);a.lng=a.lng||e.lng,a.lngs=a.lngs||e.lngs,a.ns=a.ns||e.ns,a.keyPrefix=a.keyPrefix||n||e.keyPrefix;var c,u=r.options.keySeparator||".";return c=a.keyPrefix&&Array.isArray(t)?t.map((function(e){return"".concat(a.keyPrefix).concat(u).concat(e)})):a.keyPrefix?"".concat(a.keyPrefix).concat(u).concat(t):t,r.t(c,a)};return"string"===typeof e?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=n.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,a=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var o=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,o);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!o(r,e)||i&&!o(a,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=lu();return this.options.ns?("string"===typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=lu();"string"===typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";var t=this.services&&this.services.languageUtils||new Eu(ju());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hu,i=t.forkResourceStore;i&&delete t.forkResourceStore;var a=Tt(Tt(Tt({},this.options),t),{isClone:!0}),o=new n(a);void 0===t.debug&&void 0===t.prefix||(o.logger=o.logger.clone(t));return["store","services","language"].forEach((function(t){o[t]=e[t]})),o.services=Tt({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},i&&(o.store=new _u(this.store.data,a),o.services.resourceStore=o.store),o.translator=new Su(o.services,a),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))})),o.init(a,r),o.translator.options=a,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}],[{key:"createInstance",value:function(){return new n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}}]),n}(su),Uu=Bu.createInstance();Uu.createInstance=Bu.createInstance;Uu.createInstance,Uu.dir,Uu.init,Uu.loadResources,Uu.reloadResources,Uu.use,Uu.changeLanguage,Uu.getFixedT,Uu.t,Uu.exists,Uu.setDefaultNamespace,Uu.hasLoadedNamespace,Uu.loadNamespaces,Uu.loadLanguages;var Gu={"en-US":{translation:{Home:{name:"Hey, I'm Maksim Hsu",introduction:"a unknown",job:"front-end developer from China",goodMorning:"Have a good morning",goodAfternoon:"Have a good afternoon",goodEvening:"Have a good evening",goodNight:"Have a good night",goodWeekend:"Have a good Weekend",nav_home:"Home",nav_about:"About",nav_project:"Project",nav_Resume:"Resume",meta_name:"Maksim Hsu",meta_city:"Shanghai",meta_country:"China",meta_job:"front-end engineer",ToggleTheme:"Toggle theme",ToggleLang:"Toggle language"},Project:{},About:{title:"About me",introduction_job:"Hi,there.I am a front-end developer with more than 3 years of working experience. I am currently working in an Internet company in Shanghai, mainly responsible for the front-end development work within the company. ",introduction_like:"I like some cool things, and I like to study new technologies and share new technologies.",introduction_skill:"I specialize in using",introduction_build:"to craft eye-catching websites, always aiming for user-friendly online experiences.",introduction_spare:"Beyond my professional work, I have a passion for creating cool websites using",introduction_F_project:" I love translating creative ideas into digital creations with unique designs. (Like this portfolio)",introduction_contact:"Apart from my work, I am also excited about connecting with like-minded individuals who share the same interests. If you are looking for an experienced and enthusiastic developer, I am excited to collaborate and create stunning web experiences together\uff01"}}},"zh-CN":{translation:{Home:{name:"\u6b22\u8fce\uff0c\u6211\u662f\u5f90\u96c4",introduction:"\u4e00\u540d\u4f4d\u4e8e\u4e0a\u6d77",job:"\u4e0d\u77e5\u540d\u7684\u524d\u7aef\u5f00\u53d1\u8005",goodMorning:"\u65e9\u4e0a\u597d",goodAfternoon:"\u4e0b\u5348\u597d",goodEvening:"\u665a\u4e0a\u597d",goodNight:"\u8fd8\u4e0d\u7761\u5462\uff0c\u591c\u732b\u5b50",goodWeekend:"\u5468\u672b\u6109\u5feb",nav_home:"\u9996\u9875",nav_about:"\u5173\u4e8e\u6211",nav_project:"\u9879\u76ee",nav_Resume:"\u7b80\u5386",meta_name:"\u5f90\u96c4",meta_city:"\u4e0a\u6d77",meta_country:"\u4e2d\u56fd",meta_job:"\u524d\u7aef\u5f00\u53d1\u5de5\u7a0b\u5e08",ToggleTheme:"\u5207\u6362\u4e3b\u9898",ToggleLang:"\u5207\u6362\u8bed\u8a00"},Project:{},About:{title:"\u5173\u4e8e\u6211",introduction_job:"\u55e8\uff01\u6211\u662f\u4e00\u540d\u4ece\u4e8b\u524d\u7aef\u5f00\u53d13\u5e74\u591a\u7684\u7a0b\u5e8f\u733f\uff0c\u76ee\u524d\u5c31\u804c\u4e8e\u4e0a\u6d77\u67d0\u4e92\u8054\u7f51\u516c\u53f8\u3002",introduction_like:"\u6211\u559c\u6b22\u4e00\u4e9b\u70ab\u9177\u7684\u4e1c\u897f\uff0c\u540c\u65f6\u559c\u6b22\u7814\u7a76\u65b0\u7684\u6280\u672f\uff0c\u559c\u6b22\u5206\u4eab\u65b0\u7684\u6280\u672f\u3002",introduction_skill:"\u6211\u64c5\u957f\u4f7f\u7528",introduction_build:"\u6784\u5efa\u5f15\u4eba\u77a9\u76ee\u4e14\u7a33\u5b9a\u7684\u7f51\u7ad9\uff0c\u59cb\u7ec8\u8ffd\u6c42\u7528\u6237\u53cb\u597d\u7684\u5728\u7ebf\u4f53\u9a8c\u3002",introduction_spare:"\u9664\u4e86\u5de5\u4f5c\uff0c\u6211\u4e5f\u4f1a\u7528\u4e00\u4e9b\u5176\u4ed6\u6280\u672f\uff0c\u4f8b\u5982",introduction_F_project:"\u7b49\u5176\u4ed6\u5de5\u5177\u521b\u9020\u4e2a\u4eba\u559c\u6b22\u7684\u70ab\u9177\u7f51\u7ad9\u3002(\u6bd4\u5982\u8fd9\u4e2aportfolio)",introduction_contact:"\u70ed\u70c8\u6b22\u8fce\u4e0e\u6709\u5171\u540c\u7231\u597d\u7684\u4eba\u4e92\u76f8\u4ea4\u6d41\u3002\u53e6\u5916\u5982\u679c\u4f60\u9700\u8981\u4e00\u4f4d\u6709\u7740\u5de5\u4f5c\u7ecf\u9a8c\u3001\u5145\u6ee1\u6fc0\u60c5\u7684\u5f00\u53d1\u8005\uff0c\u975e\u5e38\u671f\u5f85\u80fd\u4e0e\u60a8\u5408\u4f5c\uff01"}}}},Wu=sessionStorage.getItem("lang"),Vu=navigator.language;Wu||(Wu="zh-CN"===Vu?"zh-CN":"en-US"),console.log("resources",Gu),Uu.use(Nt).init({resources:Gu,lng:Wu,interpolation:{escapeValue:!1}});var qu=e.forwardRef((function(t,n){var r=t.classes,i=t.className,a=t.component,s=void 0===a?"div":a,l=t.disableGutters,c=void 0!==l&&l,u=t.fixed,d=void 0!==u&&u,h=t.maxWidth,f=void 0===h?"lg":h,p=en(t,["classes","className","component","disableGutters","fixed","maxWidth"]);return e.createElement(s,o({className:Xc(r.root,i,d&&r.fixed,c&&r.disableGutters,!1!==f&&r["maxWidth".concat(Yc(String(f)))]),ref:n},p))})),Xu=yo((function(e){return{root:Et({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,n){var r=e.breakpoints.values[n];return 0!==r&&(t[e.breakpoints.up(n)]={maxWidth:r}),t}),{}),maxWidthXs:Et({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Et({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Et({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Et({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Et({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(qu),Yu={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},Ku=e.forwardRef((function(t,n){var r=t.align,i=void 0===r?"inherit":r,a=t.classes,s=t.className,l=t.color,c=void 0===l?"initial":l,u=t.component,d=t.display,h=void 0===d?"initial":d,f=t.gutterBottom,p=void 0!==f&&f,v=t.noWrap,m=void 0!==v&&v,g=t.paragraph,y=void 0!==g&&g,b=t.variant,_=void 0===b?"body1":b,x=t.variantMapping,w=void 0===x?Yu:x,S=en(t,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),k=u||(y?"p":w[_]||Yu[_])||"span";return e.createElement(k,o({className:Xc(a.root,s,"inherit"!==_&&a[_],"initial"!==c&&a["color".concat(Yc(c))],m&&a.noWrap,p&&a.gutterBottom,y&&a.paragraph,"inherit"!==i&&a["align".concat(Yc(i))],"initial"!==h&&a["display".concat(Yc(h))]),ref:n},S))})),Ju=yo((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(Ku);var Zu=function(e){return vo(e,o({defaultTheme:go},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))},Qu=function(){return Qu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Qu.apply(this,arguments)};var $u,ed=function(e,t,n,r,i,a){return t>e?r[t]:e>=n&&t<e-n?i[t]:function(e){return e[Math.floor(Math.random()*e.length)]}(a)},td={chars:["-",".","/","^","*","!","}","<","~","$","0","1","2","3","4","5","a","b","c","d","e","f"],interval:50},nd=function(t){var n=(0,e.useState)(""),r=n[0],i=n[1],a=(0,e.useState)(""),o=a[0],s=a[1],l=Qu(Qu({},td),t),c=l.chars,u=l.interval;return(0,e.useEffect)((function(){var e=0,t=setInterval((function(){s((function(n){if(n===r)return clearInterval(t),r;var i=n?n.length:0,a=r.length,o=Math.max(i,a);return function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}(new Array(o)).map((function(t,i){return ed(e,i,o,n,r,c)})).join("")})),e++}),u);return function(){return clearInterval(t)}}),[r,c,u]),{result:o,dencrypt:i}},rd={chars:["-",".","/","*","!","?","#","%","&","@","$","\u20ac","(",")","[","]","{","}","<",">","~","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],interval:50},id=function(t){var n=nd(rd),r=n.result,i=n.dencrypt;return(0,e.useEffect)((function(){var e=setTimeout((function(){i(t.text||"")}),0);return function(){return clearTimeout(e)}}),[i,t.text]),(0,qt.jsxs)("p",{children:[r,"\xa0"]})},ad=vt.OT.u2.split(" "),od=ad[0],sd=ad[ad.length-1],ld=(od.charAt(0).toUpperCase().concat(sd.charAt(0).toUpperCase()),Zu((function(e){return{main:{marginTop:"auto",marginBottom:"auto","@media (max-width: 768px)":{marginLeft:e.spacing(4)}}}}))),cd=function(){var e=ld(),t=Vt().t;return(0,qt.jsxs)(Xu,{component:"main",className:"".concat(e.main),maxWidth:"md",children:[(0,qt.jsx)(Ju,{variant:"h2",component:"h1",gutterBottom:!0,children:(0,qt.jsx)(id,{text:"".concat(t("Home.name"))})}),(0,qt.jsxs)(Ju,{variant:"h5",component:"h2",gutterBottom:!0,children:[(0,qt.jsx)(id,{text:"".concat(t("Home.introduction"))}),(0,qt.jsx)(id,{text:"".concat(t("Home.job"))})]})]})};function ud(){ud=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(P){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new E(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var d={};function h(){}function f(){}function p(){}var v={};l(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(M([])));g&&g!==t&&n.call(g,a)&&(v=g);var y=p.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==St(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function M(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(_.prototype),l(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=M,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:M(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function dd(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function hd(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Bt(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}var fd=0,pd=1,vd=2,md=1,gd=2,yd=3,bd=0,_d=1,xd=2,wd=0,Sd=1,kd=2,Ed=3,Md=4,Td=5,Pd=100,Ad=101,Cd=102,Rd=103,Od=104,Ld=200,Fd=201,Id=202,Nd=203,Dd=204,jd=205,zd=206,Hd=207,Bd=208,Ud=209,Gd=210,Wd=0,Vd=1,qd=2,Xd=3,Yd=4,Kd=5,Jd=6,Zd=7,Qd=0,$d=1,eh=2,th=0,nh=1,rh=2,ih=3,ah=4,oh=5,sh=301,lh=302,ch=303,uh=304,dh=306,hh=307,fh=1e3,ph=1001,vh=1002,mh=1003,gh=1004,yh=1005,bh=1006,_h=1007,xh=1008,wh=1009,Sh=1010,kh=1011,Eh=1012,Mh=1013,Th=1014,Ph=1015,Ah=1016,Ch=1017,Rh=1018,Oh=1019,Lh=1020,Fh=1021,Ih=1022,Nh=1023,Dh=1024,jh=1025,zh=1026,Hh=1027,Bh=1028,Uh=1029,Gh=1030,Wh=1031,Vh=1032,qh=1033,Xh=33776,Yh=33777,Kh=33778,Jh=33779,Zh=35840,Qh=35841,$h=35842,ef=35843,tf=36196,nf=37492,rf=37496,af=37808,of=37809,sf=37810,lf=37811,cf=37812,uf=37813,df=37814,hf=37815,ff=37816,pf=37817,vf=37818,mf=37819,gf=37820,yf=37821,bf=36492,_f=37840,xf=37841,wf=37842,Sf=37843,kf=37844,Ef=37845,Mf=37846,Tf=37847,Pf=37848,Af=37849,Cf=37850,Rf=37851,Of=37852,Lf=37853,Ff=2201,If=2300,Nf=2301,Df=2302,jf=2400,zf=2401,Hf=2402,Bf=2500,Uf=2501,Gf=3e3,Wf=3001,Vf=3007,qf=3002,Xf=3003,Yf=3004,Kf=3005,Jf=3006,Zf=3200,Qf=3201,$f=0,ep=1,tp=7680,np=519,rp=35044,ip=35048,ap="300 es";function op(){}Object.assign(op.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e)}}}});for(var sp=[],lp=0;lp<256;lp++)sp[lp]=(lp<16?"0":"")+lp.toString(16);var cp,up=1234567,dp={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(sp[255&e]+sp[e>>8&255]+sp[e>>16&255]+sp[e>>24&255]+"-"+sp[255&t]+sp[t>>8&255]+"-"+sp[t>>16&15|64]+sp[t>>24&255]+"-"+sp[63&n|128]+sp[n>>8&255]+"-"+sp[n>>16&255]+sp[n>>24&255]+sp[255&r]+sp[r>>8&255]+sp[r>>16&255]+sp[r>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},damp:function(e,t,n,r){return dp.lerp(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(dp.euclideanModulo(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(up=e%2147483647),((up=16807*up%2147483647)-1)/2147483646},degToRad:function(e){return e*dp.DEG2RAD},radToDeg:function(e){return e*dp.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),c=a((t+r)/2),u=o((t+r)/2),d=a((t-r)/2),h=o((t-r)/2),f=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*u,l*d,l*h,s*c);break;case"YZY":e.set(l*h,s*u,l*d,s*c);break;case"ZXZ":e.set(l*d,l*h,s*u,s*c);break;case"XZX":e.set(s*u,l*p,l*f,s*c);break;case"YXY":e.set(l*f,s*u,l*p,s*c);break;case"ZYZ":e.set(l*p,l*f,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}},hp=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Lt(this,e),Object.defineProperty(this,"isVector2",{value:!0}),this.x=t,this.y=n}return It(e,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}}]),e}(),fp=function(){function e(){Lt(this,e),Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return It(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,l){var c=this.elements;return c[0]=e,c[1]=r,c[2]=o,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=a,c[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],c=n[4],u=n[7],d=n[2],h=n[5],f=n[8],p=r[0],v=r[3],m=r[6],g=r[1],y=r[4],b=r[7],_=r[2],x=r[5],w=r[8];return i[0]=a*p+o*g+s*_,i[3]=a*v+o*y+s*x,i[6]=a*m+o*b+s*w,i[1]=l*p+c*g+u*_,i[4]=l*v+c*y+u*x,i[7]=l*m+c*b+u*w,i[2]=d*p+h*g+f*_,i[5]=d*v+h*y+f*x,i[8]=d*m+h*b+f*w,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8];return t*a*c-t*o*l-n*i*c+n*o*s+r*i*l-r*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=c*a-o*l,d=o*s-c*i,h=l*i-a*s,f=t*u+n*d+r*h;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);var p=1/f;return e[0]=u*p,e[1]=(r*l-c*n)*p,e[2]=(o*n-r*a)*p,e[3]=d*p,e[4]=(c*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=h*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).copy(this).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],a=r[3],o=r[6],s=r[1],l=r[4],c=r[7];return r[0]=t*i+n*s,r[3]=t*a+n*l,r[6]=t*o+n*c,r[1]=-n*i+t*s,r[4]=-n*a+t*l,r[7]=-n*o+t*c,this}},{key:"translate",value:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}}]),e}(),pp={getDataURL:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===cp&&(cp=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),cp.width=e.width,cp.height=e.height;var n=cp.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=cp}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},vp=0;function mp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mp.DEFAULT_IMAGE,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mp.DEFAULT_MAPPING,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ph,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ph,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:bh,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:xh,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Nh,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:wh,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Gf;Object.defineProperty(this,"id",{value:vp++}),this.uuid=dp.generateUUID(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=a,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=s,this.offset=new hp(0,0),this.repeat=new hp(1,1),this.center=new hp(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new fp,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.version=0,this.onUpdate=null}function gp(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?pp.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}mp.DEFAULT_IMAGE=void 0,mp.DEFAULT_MAPPING=300,mp.prototype=Object.assign(Object.create(op.prototype),{constructor:mp,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=dp.generateUUID()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)r[a].isDataTexture?i.push(gp(r[a].image)):i.push(gp(r[a]))}else i=gp(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case fh:e.x=e.x-Math.floor(e.x);break;case ph:e.x=e.x<0?0:1;break;case vh:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case fh:e.y=e.y-Math.floor(e.y);break;case ph:e.y=e.y<0?0:1;break;case vh:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(mp.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}});var yp=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Lt(this,e),Object.defineProperty(this,"isVector4",{value:!0}),this.x=t,this.y=n,this.z=r,this.w=i}return It(e,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=.01,o=.1,s=e.elements,l=s[0],c=s[4],u=s[8],d=s[1],h=s[5],f=s[9],p=s[2],v=s[6],m=s[10];if(Math.abs(c-d)<a&&Math.abs(u-p)<a&&Math.abs(f-v)<a){if(Math.abs(c+d)<o&&Math.abs(u+p)<o&&Math.abs(f+v)<o&&Math.abs(l+h+m-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var g=(l+1)/2,y=(h+1)/2,b=(m+1)/2,_=(c+d)/4,x=(u+p)/4,w=(f+v)/4;return g>y&&g>b?g<a?(n=0,r=.707106781,i=.707106781):(r=_/(n=Math.sqrt(g)),i=x/n):y>b?y<a?(n=.707106781,r=0,i=.707106781):(n=_/(r=Math.sqrt(y)),i=w/r):b<a?(n=.707106781,r=.707106781,i=0):(n=x/(i=Math.sqrt(b)),r=w/i),this.set(n,r,i,t),this}var S=Math.sqrt((v-f)*(v-f)+(u-p)*(u-p)+(d-c)*(d-c));return Math.abs(S)<.001&&(S=1),this.x=(v-f)/S,this.y=(u-p)/S,this.z=(d-c)/S,this.w=Math.acos((l+h+m-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}]),e}(),bp=function(e){Wl(n,e);var t=Xl(n);function n(e,r,i){var a;return Lt(this,n),a=t.call(this),Object.defineProperty(yr(a),"isWebGLRenderTarget",{value:!0}),a.width=e,a.height=r,a.scissor=new yp(0,0,e,r),a.scissorTest=!1,a.viewport=new yp(0,0,e,r),i=i||{},a.texture=new mp(void 0,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),a.texture.image={},a.texture.image.width=e,a.texture.image.height=r,a.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,a.texture.minFilter=void 0!==i.minFilter?i.minFilter:bh,a.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,a.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,a.depthTexture=void 0!==i.depthTexture?i.depthTexture:null,a}return It(n,[{key:"setSize",value:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(op),_p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Lt(this,e),Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=t,this._y=n,this._z=r,this._w=i}return It(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),c=o(r/2),u=o(i/2),d=s(n/2),h=s(r/2),f=s(i/2);switch(a){case"XYZ":this._x=d*c*u+l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u-d*h*f;break;case"YXZ":this._x=d*c*u+l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u+d*h*f;break;case"ZXY":this._x=d*c*u-l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u-d*h*f;break;case"ZYX":this._x=d*c*u-l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u+d*h*f;break;case"YZX":this._x=d*c*u+l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u-d*h*f;break;case"XZY":this._x=d*c*u-l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u+d*h*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],c=t[6],u=t[10],d=n+o+u;if(d>0){var h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(c-s)*h,this._y=(i-l)*h,this._z=(a-r)*h}else if(n>o&&n>u){var f=2*Math.sqrt(1+n-o-u);this._w=(c-s)/f,this._x=.25*f,this._y=(r+a)/f,this._z=(i+l)/f}else if(o>u){var p=2*Math.sqrt(1+o-n-u);this._w=(i-l)/p,this._x=(r+a)/p,this._y=.25*p,this._z=(s+c)/p}else{var v=2*Math.sqrt(1+u-n-o);this._w=(a-r)/v,this._x=(i+l)/v,this._y=(s+c)/v,this._z=.25*v}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(dp.clamp(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+a*o+r*l-i*s,this._y=r*c+a*s+i*o-n*l,this._z=i*c+a*l+n*s-r*o,this._w=a*c-n*o-r*s-i*l,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-t;return this._w=l*a+t*this._w,this._x=l*n+t*this._x,this._y=l*r+t*this._y,this._z=l*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var c=Math.sqrt(s),u=Math.atan2(c,o),d=Math.sin((1-t)*u)/c,h=Math.sin(t*u)/c;return this._w=a*d+this._w*h,this._x=n*d+this._x*h,this._y=r*d+this._y*h,this._z=i*d+this._z*h,this._onChangeCallback(),this}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}],[{key:"slerp",value:function(e,t,n,r){return n.copy(e).slerp(t,r)}},{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3],d=i[a+0],h=i[a+1],f=i[a+2],p=i[a+3];if(u!==p||s!==d||l!==h||c!==f){var v=1-o,m=s*d+l*h+c*f+u*p,g=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var b=Math.sqrt(y),_=Math.atan2(b,m*g);v=Math.sin(v*_)/b,o=Math.sin(o*_)/b}var x=o*g;if(s=s*v+d*x,l=l*v+h*x,c=c*v+f*x,u=u*v+p*x,v===1-o){var w=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=w,l*=w,c*=w,u*=w}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],l=n[r+2],c=n[r+3],u=i[a],d=i[a+1],h=i[a+2],f=i[a+3];return e[t]=o*f+c*u+s*h-l*d,e[t+1]=s*f+c*d+l*u-o*h,e[t+2]=l*f+c*h+o*d-s*u,e[t+3]=c*f-o*u-s*d-l*h,e}}]),e}(),xp=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Lt(this,e),Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=n,this.z=r}return It(e,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Sp.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(Sp.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*r-o*n,c=s*n+o*t-i*r,u=s*r+i*n-a*t,d=-i*t-a*n-o*r;return this.x=l*s+d*-i+c*-o-u*-a,this.y=c*s+d*-a+u*-i-l*-o,this.z=u*s+d*-o+l*-a-c*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return wp.copy(this).projectOnVector(e),this.sub(wp)}},{key:"reflect",value:function(e){return this.sub(wp.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(dp.clamp(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}]),e}(),wp=new xp,Sp=new _p,kp=function(){function e(t,n){Lt(this,e),Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==t?t:new xp(1/0,1/0,1/0),this.max=void 0!==n?n:new xp(-1/0,-1/0,-1/0)}return It(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=e.length;s<l;s+=3){var c=e[s],u=e[s+1],d=e[s+2];c<t&&(t=c),u<n&&(n=u),d<r&&(r=d),c>i&&(i=c),u>a&&(a=u),d>o&&(o=d)}return this.min.set(t,n,r),this.max.set(i,a,o),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=e.count;s<l;s++){var c=e.getX(s),u=e.getY(s),d=e.getZ(s);c<t&&(t=c),u<n&&(n=u),d<r&&(r=d),c>i&&(i=c),u>a&&(a=u),d>o&&(o=d)}return this.min.set(t,n,r),this.max.set(i,a,o),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Tp.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){return this.makeEmpty(),this.expandByObject(e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new xp),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new xp),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),Pp.copy(t.boundingBox),Pp.applyMatrix4(e.matrixWorld),this.union(Pp));for(var n=e.children,r=0,i=n.length;r<i;r++)this.expandByObject(n[r]);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new xp),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,Tp),Tp.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(Ip),Np.subVectors(this.max,Ip),Ap.subVectors(e.a,Ip),Cp.subVectors(e.b,Ip),Rp.subVectors(e.c,Ip),Op.subVectors(Cp,Ap),Lp.subVectors(Rp,Cp),Fp.subVectors(Ap,Rp);var t=[0,-Op.z,Op.y,0,-Lp.z,Lp.y,0,-Fp.z,Fp.y,Op.z,0,-Op.x,Lp.z,0,-Lp.x,Fp.z,0,-Fp.x,-Op.y,Op.x,0,-Lp.y,Lp.x,0,-Fp.y,Fp.x,0];return!!Ep(t,Ap,Cp,Rp,Np)&&(!!Ep(t=[1,0,0,0,1,0,0,0,1],Ap,Cp,Rp,Np)&&(Dp.crossVectors(Op,Lp),Ep(t=[Dp.x,Dp.y,Dp.z],Ap,Cp,Rp,Np)))}},{key:"clampPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new xp),t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return Tp.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(Tp).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(Mp[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Mp[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Mp[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Mp[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Mp[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Mp[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Mp[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Mp[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Mp)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();function Ep(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){jp.fromArray(e,a);var s=i.x*Math.abs(jp.x)+i.y*Math.abs(jp.y)+i.z*Math.abs(jp.z),l=t.dot(jp),c=n.dot(jp),u=r.dot(jp);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>s)return!1}return!0}var Mp=[new xp,new xp,new xp,new xp,new xp,new xp,new xp,new xp],Tp=new xp,Pp=new kp,Ap=new xp,Cp=new xp,Rp=new xp,Op=new xp,Lp=new xp,Fp=new xp,Ip=new xp,Np=new xp,Dp=new xp,jp=new xp,zp=new kp,Hp=function(){function e(t,n){Lt(this,e),this.center=void 0!==t?t:new xp,this.radius=void 0!==n?n:-1}return It(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):zp.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new xp),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new kp),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}]),e}(),Bp=new xp,Up=new xp,Gp=new xp,Wp=new xp,Vp=new xp,qp=new xp,Xp=new xp,Yp=function(){function e(t,n){Lt(this,e),this.origin=void 0!==t?t:new xp,this.direction=void 0!==n?n:new xp(0,0,-1)}return It(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new xp),t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,Bp)),this}},{key:"closestPointToPoint",value:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new xp),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=Bp.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Bp.copy(this.direction).multiplyScalar(t).add(this.origin),Bp.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){Up.copy(e).add(t).multiplyScalar(.5),Gp.copy(t).sub(e).normalize(),Wp.copy(this.origin).sub(Up);var i,a,o,s,l=.5*e.distanceTo(t),c=-this.direction.dot(Gp),u=Wp.dot(this.direction),d=-Wp.dot(Gp),h=Wp.lengthSq(),f=Math.abs(1-c*c);if(f>0)if(a=c*u-d,s=l*f,(i=c*d-u)>=0)if(a>=-s)if(a<=s){var p=1/f;o=(i*=p)*(i+c*(a*=p)+2*u)+a*(c*i+a+2*d)+h}else a=l,o=-(i=Math.max(0,-(c*a+u)))*i+a*(a+2*d)+h;else a=-l,o=-(i=Math.max(0,-(c*a+u)))*i+a*(a+2*d)+h;else a<=-s?o=-(i=Math.max(0,-(-c*l+u)))*i+(a=i>0?-l:Math.min(Math.max(-l,-d),l))*(a+2*d)+h:a<=s?(i=0,o=(a=Math.min(Math.max(-l,-d),l))*(a+2*d)+h):o=-(i=Math.max(0,-(c*l+u)))*i+(a=i>0?l:Math.min(Math.max(-l,-d),l))*(a+2*d)+h;else a=c>0?-l:l,o=-(i=Math.max(0,-(c*a+u)))*i+a*(a+2*d)+h;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(Gp).multiplyScalar(a).add(Up),o}},{key:"intersectSphere",value:function(e,t){Bp.subVectors(e.center,this.origin);var n=Bp.dot(this.direction),r=Bp.dot(Bp)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,o,s,l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,r=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,r=(e.min.x-d.x)*l),c>=0?(i=(e.min.y-d.y)*c,a=(e.max.y-d.y)*c):(i=(e.max.y-d.y)*c,a=(e.min.y-d.y)*c),n>a||i>r?null:((i>n||n!==n)&&(n=i),(a<r||r!==r)&&(r=a),u>=0?(o=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(o=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,Bp)}},{key:"intersectTriangle",value:function(e,t,n,r,i){Vp.subVectors(t,e),qp.subVectors(n,e),Xp.crossVectors(Vp,qp);var a,o=this.direction.dot(Xp);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Wp.subVectors(this.origin,e);var s=a*this.direction.dot(qp.crossVectors(Wp,qp));if(s<0)return null;var l=a*this.direction.dot(Vp.cross(Wp));if(l<0)return null;if(s+l>o)return null;var c=-a*Wp.dot(Xp);return c<0?null:this.at(c/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}]),e}(),Kp=function(){function e(){Lt(this,e),Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return It(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,l,c,u,d,h,f,p,v){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=a,m[9]=o,m[13]=s,m[2]=l,m[6]=c,m[10]=u,m[14]=d,m[3]=h,m[7]=f,m[11]=p,m[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/Jp.setFromMatrixColumn(e,0).length(),i=1/Jp.setFromMatrixColumn(e,1).length(),a=1/Jp.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){var d=a*c,h=a*u,f=o*c,p=o*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=h+f*l,t[5]=d-p*l,t[9]=-o*s,t[2]=p-d*l,t[6]=f+h*l,t[10]=a*s}else if("YXZ"===e.order){var v=s*c,m=s*u,g=l*c,y=l*u;t[0]=v+y*o,t[4]=g*o-m,t[8]=a*l,t[1]=a*u,t[5]=a*c,t[9]=-o,t[2]=m*o-g,t[6]=y+v*o,t[10]=a*s}else if("ZXY"===e.order){var b=s*c,_=s*u,x=l*c,w=l*u;t[0]=b-w*o,t[4]=-a*u,t[8]=x+_*o,t[1]=_+x*o,t[5]=a*c,t[9]=w-b*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var S=a*c,k=a*u,E=o*c,M=o*u;t[0]=s*c,t[4]=E*l-k,t[8]=S*l+M,t[1]=s*u,t[5]=M*l+S,t[9]=k*l-E,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var T=a*s,P=a*l,A=o*s,C=o*l;t[0]=s*c,t[4]=C-T*u,t[8]=A*u+P,t[1]=u,t[5]=a*c,t[9]=-o*c,t[2]=-l*c,t[6]=P*u+A,t[10]=T-C*u}else if("XZY"===e.order){var R=a*s,O=a*l,L=o*s,F=o*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=R*u+F,t[5]=a*c,t[9]=O*u-L,t[2]=L*u-O,t[6]=o*c,t[10]=F*u+R}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(Qp,e,$p)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return nv.subVectors(e,t),0===nv.lengthSq()&&(nv.z=1),nv.normalize(),ev.crossVectors(n,nv),0===ev.lengthSq()&&(1===Math.abs(n.z)?nv.x+=1e-4:nv.z+=1e-4,nv.normalize(),ev.crossVectors(n,nv)),ev.normalize(),tv.crossVectors(nv,ev),r[0]=ev.x,r[4]=tv.x,r[8]=nv.x,r[1]=ev.y,r[5]=tv.y,r[9]=nv.y,r[2]=ev.z,r[6]=tv.z,r[10]=nv.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],c=n[1],u=n[5],d=n[9],h=n[13],f=n[2],p=n[6],v=n[10],m=n[14],g=n[3],y=n[7],b=n[11],_=n[15],x=r[0],w=r[4],S=r[8],k=r[12],E=r[1],M=r[5],T=r[9],P=r[13],A=r[2],C=r[6],R=r[10],O=r[14],L=r[3],F=r[7],I=r[11],N=r[15];return i[0]=a*x+o*E+s*A+l*L,i[4]=a*w+o*M+s*C+l*F,i[8]=a*S+o*T+s*R+l*I,i[12]=a*k+o*P+s*O+l*N,i[1]=c*x+u*E+d*A+h*L,i[5]=c*w+u*M+d*C+h*F,i[9]=c*S+u*T+d*R+h*I,i[13]=c*k+u*P+d*O+h*N,i[2]=f*x+p*E+v*A+m*L,i[6]=f*w+p*M+v*C+m*F,i[10]=f*S+p*T+v*R+m*I,i[14]=f*k+p*P+v*O+m*N,i[3]=g*x+y*E+b*A+_*L,i[7]=g*w+y*M+b*C+_*F,i[11]=g*S+y*T+b*R+_*I,i[15]=g*k+y*P+b*O+_*N,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],c=e[2],u=e[6],d=e[10],h=e[14];return e[3]*(+i*s*u-r*l*u-i*o*d+n*l*d+r*o*h-n*s*h)+e[7]*(+t*s*h-t*l*d+i*a*d-r*a*h+r*l*c-i*s*c)+e[11]*(+t*l*u-t*o*h-i*a*u+n*a*h+i*o*c-n*l*c)+e[15]*(-r*o*c-t*s*u+t*o*d+r*a*u-n*a*d+n*s*c)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],f=e[12],p=e[13],v=e[14],m=e[15],g=u*v*l-p*d*l+p*s*h-o*v*h-u*s*m+o*d*m,y=f*d*l-c*v*l-f*s*h+a*v*h+c*s*m-a*d*m,b=c*p*l-f*u*l+f*o*h-a*p*h-c*o*m+a*u*m,_=f*u*s-c*p*s-f*o*d+a*p*d+c*o*v-a*u*v,x=t*g+n*y+r*b+i*_;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var w=1/x;return e[0]=g*w,e[1]=(p*d*i-u*v*i-p*r*h+n*v*h+u*r*m-n*d*m)*w,e[2]=(o*v*i-p*s*i+p*r*l-n*v*l-o*r*m+n*s*m)*w,e[3]=(u*s*i-o*d*i-u*r*l+n*d*l+o*r*h-n*s*h)*w,e[4]=y*w,e[5]=(c*v*i-f*d*i+f*r*h-t*v*h-c*r*m+t*d*m)*w,e[6]=(f*s*i-a*v*i-f*r*l+t*v*l+a*r*m-t*s*m)*w,e[7]=(a*d*i-c*s*i+c*r*l-t*d*l-a*r*h+t*s*h)*w,e[8]=b*w,e[9]=(f*u*i-c*p*i-f*n*h+t*p*h+c*n*m-t*u*m)*w,e[10]=(a*p*i-f*o*i+f*n*l-t*p*l-a*n*m+t*o*m)*w,e[11]=(c*o*i-a*u*i-c*n*l+t*u*l+a*n*h-t*o*h)*w,e[12]=_*w,e[13]=(c*p*r-f*u*r+f*n*d-t*p*d-c*n*v+t*u*v)*w,e[14]=(f*o*r-a*p*r-f*n*s+t*p*s+a*n*v-t*o*v)*w,e[15]=(a*u*r-c*o*r+c*n*s-t*u*s-a*n*d+t*o*d)*w,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,c=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,c*o+n,c*s-r*a,0,l*s-r*o,c*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,c=a+a,u=o+o,d=i*l,h=i*c,f=i*u,p=a*c,v=a*u,m=o*u,g=s*l,y=s*c,b=s*u,_=n.x,x=n.y,w=n.z;return r[0]=(1-(p+m))*_,r[1]=(h+b)*_,r[2]=(f-y)*_,r[3]=0,r[4]=(h-b)*x,r[5]=(1-(d+m))*x,r[6]=(v+g)*x,r[7]=0,r[8]=(f+y)*w,r[9]=(v-g)*w,r[10]=(1-(d+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=Jp.set(r[0],r[1],r[2]).length(),a=Jp.set(r[4],r[5],r[6]).length(),o=Jp.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Zp.copy(this);var s=1/i,l=1/a,c=1/o;return Zp.elements[0]*=s,Zp.elements[1]*=s,Zp.elements[2]*=s,Zp.elements[4]*=l,Zp.elements[5]*=l,Zp.elements[6]*=l,Zp.elements[8]*=c,Zp.elements[9]*=c,Zp.elements[10]*=c,t.setFromRotationMatrix(Zp),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*i/(t-e),l=2*i/(n-r),c=(t+e)/(t-e),u=(n+r)/(n-r),d=-(a+i)/(a-i),h=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=l,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=d,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o=this.elements,s=1/(t-e),l=1/(n-r),c=1/(a-i),u=(t+e)*s,d=(n+r)*l,h=(a+i)*c;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-d,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-h,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),Jp=new xp,Zp=new Kp,Qp=new xp(0,0,0),$p=new xp(1,1,1),ev=new xp,tv=new xp,nv=new xp,rv=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DefaultOrder;Lt(this,e),Object.defineProperty(this,"isEuler",{value:!0}),this._x=t,this._y=n,this._z=r,this._order=i}return It(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e,t,n){var r=dp.clamp,i=e.elements,a=i[0],o=i[4],s=i[8],l=i[1],c=i[5],u=i[9],d=i[2],h=i[6],f=i[10];switch(t=t||this._order){case"XYZ":this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-r(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,f),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,a),this._z=0);break;case"ZXY":this._x=Math.asin(r(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-d,f),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-r(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(r(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(s,f));break;case"XZY":this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return iv.makeRotationFromQuaternion(e),this.setFromRotationMatrix(iv,t,n)}},{key:"setFromVector3",value:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)}},{key:"reorder",value:function(e){return av.setFromEuler(this),this.setFromQuaternion(av,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"toVector3",value:function(e){return e?e.set(this._x,this._y,this._z):new xp(this._x,this._y,this._z)}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}]),e}();rv.DefaultOrder="XYZ",rv.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var iv=new Kp,av=new _p,ov=function(){function e(){Lt(this,e),this.mask=1}return It(e,[{key:"set",value:function(e){this.mask=1<<e|0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}}]),e}(),sv=0,lv=new xp,cv=new _p,uv=new Kp,dv=new xp,hv=new xp,fv=new xp,pv=new _p,vv=new xp(1,0,0),mv=new xp(0,1,0),gv=new xp(0,0,1),yv={type:"added"},bv={type:"removed"};function _v(){Object.defineProperty(this,"id",{value:sv++}),this.uuid=dp.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=_v.DefaultUp.clone();var e=new xp,t=new rv,n=new _p,r=new xp(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Kp},normalMatrix:{value:new fp}}),this.matrix=new Kp,this.matrixWorld=new Kp,this.matrixAutoUpdate=_v.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ov,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}_v.DefaultUp=new xp(0,1,0),_v.DefaultMatrixAutoUpdate=!0,_v.prototype=Object.assign(Object.create(op.prototype),{constructor:_v,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return cv.setFromAxisAngle(e,t),this.quaternion.multiply(cv),this},rotateOnWorldAxis:function(e,t){return cv.setFromAxisAngle(e,t),this.quaternion.premultiply(cv),this},rotateX:function(e){return this.rotateOnAxis(vv,e)},rotateY:function(e){return this.rotateOnAxis(mv,e)},rotateZ:function(e){return this.rotateOnAxis(gv,e)},translateOnAxis:function(e,t){return lv.copy(e).applyQuaternion(this.quaternion),this.position.add(lv.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(vv,e)},translateY:function(e){return this.translateOnAxis(mv,e)},translateZ:function(e){return this.translateOnAxis(gv,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(uv.copy(this.matrixWorld).invert())},lookAt:function(e,t,n){e.isVector3?dv.copy(e):dv.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),hv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?uv.lookAt(hv,dv,this.up):uv.lookAt(dv,hv,this.up),this.quaternion.setFromRotationMatrix(uv),r&&(uv.extractRotation(r.matrixWorld),cv.setFromRotationMatrix(uv),this.quaternion.premultiply(cv.invert()))},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(yv)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(bv)),this},clear:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(bv)}return this.children.length=0,this},attach:function(e){return this.updateWorldMatrix(!0,!1),uv.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),uv.multiply(e.parent.matrixWorld)),e.applyMatrix4(uv),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new xp),this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new _p),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(hv,e,fv),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new xp),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(hv,pv,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new xp),this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var c=o[s];i(e.shapes,c)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var u=[],d=0,h=this.material.length;d<h;d++)u.push(i(e.materials,this.material[d]));r.material=u}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var f=0;f<this.children.length;f++)r.children.push(this.children[f].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var v=this.animations[p];r.animations.push(i(e.animations,v))}}if(t){var m=S(e.geometries),g=S(e.materials),y=S(e.textures),b=S(e.images),_=S(e.shapes),x=S(e.skeletons),w=S(e.animations);m.length>0&&(n.geometries=m),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),b.length>0&&(n.images=b),_.length>0&&(n.shapes=_),x.length>0&&(n.skeletons=x),w.length>0&&(n.animations=w)}return n.object=r,n;function S(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}});var xv=new xp,wv=new xp,Sv=new fp,kv=function(){function e(t,n){Lt(this,e),Object.defineProperty(this,"isPlane",{value:!0}),this.normal=void 0!==t?t:new xp(1,0,0),this.constant=void 0!==n?n:0}return It(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=xv.subVectors(n,t).cross(wv.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new xp),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new xp);var n=e.delta(xv),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?void 0:t.copy(n).multiplyScalar(i).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new xp),e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||Sv.getNormalMatrix(e),r=this.coplanarPoint(xv).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}]),e}(),Ev=new xp,Mv=new xp,Tv=new xp,Pv=new xp,Av=new xp,Cv=new xp,Rv=new xp,Ov=new xp,Lv=new xp,Fv=new xp,Iv=function(){function e(t,n,r){Lt(this,e),this.a=void 0!==t?t:new xp,this.b=void 0!==n?n:new xp,this.c=void 0!==r?r:new xp}return It(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return Ev.subVectors(this.c,this.b),Mv.subVectors(this.a,this.b),.5*Ev.cross(Mv).length()}},{key:"getMidpoint",value:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new xp),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new kv),e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,a){return e.getUV(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new xp);var n,r,i=this.a,a=this.b,o=this.c;Av.subVectors(a,i),Cv.subVectors(o,i),Ov.subVectors(e,i);var s=Av.dot(Ov),l=Cv.dot(Ov);if(s<=0&&l<=0)return t.copy(i);Lv.subVectors(e,a);var c=Av.dot(Lv),u=Cv.dot(Lv);if(c>=0&&u<=c)return t.copy(a);var d=s*u-c*l;if(d<=0&&s>=0&&c<=0)return n=s/(s-c),t.copy(i).addScaledVector(Av,n);Fv.subVectors(e,o);var h=Av.dot(Fv),f=Cv.dot(Fv);if(f>=0&&h<=f)return t.copy(o);var p=h*l-s*f;if(p<=0&&l>=0&&f<=0)return r=l/(l-f),t.copy(i).addScaledVector(Cv,r);var v=c*f-h*u;if(v<=0&&u-c>=0&&h-f>=0)return Rv.subVectors(o,a),r=(u-c)/(u-c+(h-f)),t.copy(a).addScaledVector(Rv,r);var m=1/(v+p+d);return n=p*m,r=d*m,t.copy(i).addScaledVector(Av,n).addScaledVector(Cv,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new xp),r.subVectors(n,t),Ev.subVectors(e,t),r.cross(Ev);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){Ev.subVectors(r,t),Mv.subVectors(n,t),Tv.subVectors(e,t);var a=Ev.dot(Ev),o=Ev.dot(Mv),s=Ev.dot(Tv),l=Mv.dot(Mv),c=Mv.dot(Tv),u=a*l-o*o;if(void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new xp),0===u)return i.set(-2,-1,-1);var d=1/u,h=(l*s-o*c)*d,f=(a*c-o*s)*d;return i.set(1-h-f,f,h)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,Pv),Pv.x>=0&&Pv.y>=0&&Pv.x+Pv.y<=1}},{key:"getUV",value:function(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,Pv),s.set(0,0),s.addScaledVector(i,Pv.x),s.addScaledVector(a,Pv.y),s.addScaledVector(o,Pv.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return Ev.subVectors(n,t),Mv.subVectors(e,t),Ev.cross(Mv).dot(r)<0}}]),e}(),Nv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Dv={h:0,s:0,l:0},jv={h:0,s:0,l:0};function zv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Hv(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Bv(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var Uv=function(){function e(t,n,r){return Lt(this,e),Object.defineProperty(this,"isColor",{value:!0}),void 0===n&&void 0===r?this.set(t):this.setRGB(t,n,r)}return It(e,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}},{key:"setRGB",value:function(e,t,n){return this.r=e,this.g=t,this.b=n,this}},{key:"setHSL",value:function(e,t,n){if(e=dp.euclideanModulo(e,1),t=dp.clamp(t,0,1),n=dp.clamp(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=zv(i,r,e+1/3),this.g=zv(i,r,e),this.b=zv(i,r,e-1/3)}return this}},{key:"setStyle",value:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var r,i=n[1],a=n[2];switch(i){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100;return t(r[4]),this.setHSL(o,s,l)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){var c=n[1],u=c.length;if(3===u)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}},{key:"setColorName",value:function(e){var t=Nv[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copyGammaToLinear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}},{key:"copyLinearToGamma",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}},{key:"convertGammaToLinear",value:function(e){return this.copyGammaToLinear(this,e),this}},{key:"convertLinearToGamma",value:function(e){return this.copyLinearToGamma(this,e),this}},{key:"copySRGBToLinear",value:function(e){return this.r=Hv(e.r),this.g=Hv(e.g),this.b=Hv(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=Bv(e.r),this.g=Bv(e.g),this.b=Bv(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}},{key:"getHexString",value:function(){return("000000"+this.getHex().toString(16)).slice(-6)}},{key:"getHSL",value:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,r=this.r,i=this.g,a=this.b,o=Math.max(r,i,a),s=Math.min(r,i,a),l=(s+o)/2;if(s===o)t=0,n=0;else{var c=o-s;switch(n=l<=.5?c/(o+s):c/(2-o-s),o){case r:t=(i-a)/c+(i<a?6:0);break;case i:t=(a-r)/c+2;break;case a:t=(r-i)/c+4}t/=6}return e.h=t,e.s=n,e.l=l,e}},{key:"getStyle",value:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(Dv),Dv.h+=e,Dv.s+=t,Dv.l+=n,this.setHSL(Dv.h,Dv.s,Dv.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(Dv),e.getHSL(jv);var n=dp.lerp(Dv.h,jv.h,t),r=dp.lerp(Dv.s,jv.s,t),i=dp.lerp(Dv.l,jv.l,t);return this.setHSL(n,r,i),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),e}();Uv.NAMES=Nv,Uv.prototype.r=1,Uv.prototype.g=1,Uv.prototype.b=1;var Gv=function(){function e(t,n,r,i,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;Lt(this,e),this.a=t,this.b=n,this.c=r,this.normal=i&&i.isVector3?i:new xp,this.vertexNormals=Array.isArray(i)?i:[],this.color=a&&a.isColor?a:new Uv,this.vertexColors=Array.isArray(a)?a:[],this.materialIndex=o}return It(e,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var r=0,i=e.vertexColors.length;r<i;r++)this.vertexColors[r]=e.vertexColors[r].clone();return this}}]),e}(),Wv=0;function Vv(){Object.defineProperty(this,"id",{value:Wv++}),this.uuid=dp.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=Sd,this.side=bd,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Dd,this.blendDst=jd,this.blendEquation=Pd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Xd,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=np,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=tp,this.stencilZFail=tp,this.stencilZPass=tp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function qv(e){Vv.call(this),this.type="MeshBasicMaterial",this.color=new Uv(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Qd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}Vv.prototype=Object.assign(Object.create(op.prototype),{constructor:Vv,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Sd&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==bd&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Vv.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),qv.prototype=Object.create(Vv.prototype),qv.prototype.constructor=qv,qv.prototype.isMeshBasicMaterial=!0,qv.prototype.copy=function(e){return Vv.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};var Xv=new xp,Yv=new hp;function Kv(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=rp,this.updateRange={offset:0,count:-1},this.version=0}function Jv(e,t,n){Kv.call(this,new Int8Array(e),t,n)}function Zv(e,t,n){Kv.call(this,new Uint8Array(e),t,n)}function Qv(e,t,n){Kv.call(this,new Uint8ClampedArray(e),t,n)}function $v(e,t,n){Kv.call(this,new Int16Array(e),t,n)}function em(e,t,n){Kv.call(this,new Uint16Array(e),t,n)}function tm(e,t,n){Kv.call(this,new Int32Array(e),t,n)}function nm(e,t,n){Kv.call(this,new Uint32Array(e),t,n)}function rm(e,t,n){Kv.call(this,new Uint16Array(e),t,n)}function im(e,t,n){Kv.call(this,new Float32Array(e),t,n)}function am(e,t,n){Kv.call(this,new Float64Array(e),t,n)}function om(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}Object.defineProperty(Kv.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Kv.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new Uv),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new hp),t[n++]=a.x,t[n++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),a=new xp),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new yp),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this},applyMatrix3:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)Yv.fromBufferAttribute(this,t),Yv.applyMatrix3(e),this.setXY(t,Yv.x,Yv.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)Xv.fromBufferAttribute(this,r),Xv.applyMatrix3(e),this.setXYZ(r,Xv.x,Xv.y,Xv.z);return this},applyMatrix4:function(e){for(var t=0,n=this.count;t<n;t++)Xv.x=this.getX(t),Xv.y=this.getY(t),Xv.z=this.getZ(t),Xv.applyMatrix4(e),this.setXYZ(t,Xv.x,Xv.y,Xv.z);return this},applyNormalMatrix:function(e){for(var t=0,n=this.count;t<n;t++)Xv.x=this.getX(t),Xv.y=this.getY(t),Xv.z=this.getZ(t),Xv.applyNormalMatrix(e),this.setXYZ(t,Xv.x,Xv.y,Xv.z);return this},transformDirection:function(e){for(var t=0,n=this.count;t<n;t++)Xv.x=this.getX(t),Xv.y=this.getY(t),Xv.z=this.getZ(t),Xv.transformDirection(e),this.setXYZ(t,Xv.x,Xv.y,Xv.z);return this},set:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),Jv.prototype=Object.create(Kv.prototype),Jv.prototype.constructor=Jv,Zv.prototype=Object.create(Kv.prototype),Zv.prototype.constructor=Zv,Qv.prototype=Object.create(Kv.prototype),Qv.prototype.constructor=Qv,$v.prototype=Object.create(Kv.prototype),$v.prototype.constructor=$v,em.prototype=Object.create(Kv.prototype),em.prototype.constructor=em,tm.prototype=Object.create(Kv.prototype),tm.prototype.constructor=tm,nm.prototype=Object.create(Kv.prototype),nm.prototype.constructor=nm,rm.prototype=Object.create(Kv.prototype),rm.prototype.constructor=rm,rm.prototype.isFloat16BufferAttribute=!0,im.prototype=Object.create(Kv.prototype),im.prototype.constructor=im,am.prototype=Object.create(Kv.prototype),am.prototype.constructor=am;var sm={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function lm(e,t){return new sm[e](t)}var cm=0,um=new Kp,dm=new _v,hm=new xp,fm=new kp,pm=new kp,vm=new xp;function mm(){Object.defineProperty(this,"id",{value:cm++}),this.uuid=dp.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}mm.prototype=Object.assign(Object.create(op.prototype),{constructor:mm,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){return Array.isArray(e)?this.index=new(om(e)>65535?nm:em)(e,1):this.index=e,this},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},hasAttribute:function(e){return void 0!==this.attributes[e]},addGroup:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new fp).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return um.makeRotationX(e),this.applyMatrix4(um),this},rotateY:function(e){return um.makeRotationY(e),this.applyMatrix4(um),this},rotateZ:function(e){return um.makeRotationZ(e),this.applyMatrix4(um),this},translate:function(e,t,n){return um.makeTranslation(e,t,n),this.applyMatrix4(um),this},scale:function(e,t,n){return um.makeScale(e,t,n),this.applyMatrix4(um),this},lookAt:function(e){return dm.lookAt(e),dm.updateMatrix(),this.applyMatrix4(dm.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(hm).negate(),this.translate(hm.x,hm.y,hm.z),this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new im(t,3)),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new kp);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new xp(-1/0,-1/0,-1/0),new xp(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];fm.setFromBufferAttribute(i),this.morphTargetsRelative?(vm.addVectors(this.boundingBox.min,fm.min),this.boundingBox.expandByPoint(vm),vm.addVectors(this.boundingBox.max,fm.max),this.boundingBox.expandByPoint(vm)):(this.boundingBox.expandByPoint(fm.min),this.boundingBox.expandByPoint(fm.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Hp);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new xp,1/0);if(e){var n=this.boundingSphere.center;if(fm.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];pm.setFromBufferAttribute(a),this.morphTargetsRelative?(vm.addVectors(fm.min,pm.min),fm.expandByPoint(vm),vm.addVectors(fm.max,pm.max),fm.expandByPoint(vm)):(fm.expandByPoint(pm.min),fm.expandByPoint(pm.max))}fm.getCenter(n);for(var o=0,s=0,l=e.count;s<l;s++)vm.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(vm));if(t)for(var c=0,u=t.length;c<u;c++)for(var d=t[c],h=this.morphTargetsRelative,f=0,p=d.count;f<p;f++)vm.fromBufferAttribute(d,f),h&&(hm.fromBufferAttribute(e,f),vm.add(hm)),o=Math.max(o,n.distanceToSquared(vm));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeTangents:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;void 0===t.tangent&&this.setAttribute("tangent",new Kv(new Float32Array(4*o),4));for(var s=t.tangent.array,l=[],c=[],u=0;u<o;u++)l[u]=new xp,c[u]=new xp;var d=new xp,h=new xp,f=new xp,p=new hp,v=new hp,m=new hp,g=new xp,y=new xp,b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(var _=0,x=b.length;_<x;++_)for(var w=b[_],S=w.start,k=S,E=S+w.count;k<E;k+=3)N(n[k+0],n[k+1],n[k+2]);for(var M=new xp,T=new xp,P=new xp,A=new xp,C=0,R=b.length;C<R;++C)for(var O=b[C],L=O.start,F=L,I=L+O.count;F<I;F+=3)D(n[F+0]),D(n[F+1]),D(n[F+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function N(e,t,n){d.fromArray(r,3*e),h.fromArray(r,3*t),f.fromArray(r,3*n),p.fromArray(a,2*e),v.fromArray(a,2*t),m.fromArray(a,2*n),h.sub(d),f.sub(d),v.sub(p),m.sub(p);var i=1/(v.x*m.y-m.x*v.y);isFinite(i)&&(g.copy(h).multiplyScalar(m.y).addScaledVector(f,-v.y).multiplyScalar(i),y.copy(f).multiplyScalar(v.x).addScaledVector(h,-m.x).multiplyScalar(i),l[e].add(g),l[t].add(g),l[n].add(g),c[e].add(y),c[t].add(y),c[n].add(y))}function D(e){P.fromArray(i,3*e),A.copy(P);var t=l[e];M.copy(t),M.sub(P.multiplyScalar(P.dot(t))).normalize(),T.crossVectors(A,t);var n=T.dot(c[e])<0?-1:1;s[4*e]=M.x,s[4*e+1]=M.y,s[4*e+2]=M.z,s[4*e+3]=n}},computeVertexNormals:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new Kv(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new xp,o=new xp,s=new xp,l=new xp,c=new xp,u=new xp,d=new xp,h=new xp;if(e)for(var f=0,p=e.count;f<p;f+=3){var v=e.getX(f+0),m=e.getX(f+1),g=e.getX(f+2);a.fromBufferAttribute(t,v),o.fromBufferAttribute(t,m),s.fromBufferAttribute(t,g),d.subVectors(s,o),h.subVectors(a,o),d.cross(h),l.fromBufferAttribute(n,v),c.fromBufferAttribute(n,m),u.fromBufferAttribute(n,g),l.add(d),c.add(d),u.add(d),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(m,c.x,c.y,c.z),n.setXYZ(g,u.x,u.y,u.z)}else for(var y=0,b=t.count;y<b;y+=3)a.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),d.subVectors(s,o),h.subVectors(a,o),d.cross(h),n.setXYZ(y+0,d.x,d.y,d.z),n.setXYZ(y+1,d.x,d.y,d.z),n.setXYZ(y+2,d.x,d.y,d.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,a=e.attributes[r],o=a.array,s=a.itemSize*t,l=Math.min(o.length,i.length-s),c=0,u=s;c<l;c++,u++)i[u]=o[c];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)vm.fromBufferAttribute(e,t),vm.normalize(),e.setXYZ(t,vm.x,vm.y,vm.z)},toNonIndexed:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0,l=0,c=t.length;l<c;l++){o=t[l]*r;for(var u=0;u<r;u++)a[s++]=n[o++]}return new Kv(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new mm,n=this.index.array,r=this.attributes;for(var i in r){var a=e(r[i],n);t.setAttribute(i,a)}var o=this.morphAttributes;for(var s in o){for(var l=[],c=o[s],u=0,d=c.length;u<d;u++){var h=e(c[u],n);l.push(h)}t.morphAttributes[s]=l}t.morphTargetsRelative=this.morphTargetsRelative;for(var f=this.groups,p=0,v=f.length;p<v;p++){var m=f[p];t.addGroup(m.start,m.count,m.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a],s=o.toJSON(e.data);""!==o.name&&(s.name=o.name),e.data.attributes[a]=s}var l={},c=!1;for(var u in this.morphAttributes){for(var d=this.morphAttributes[u],h=[],f=0,p=d.length;f<p;f++){var v=d[f],m=v.toJSON(e.data);""!==v.name&&(m.name=v.name),h.push(m)}h.length>0&&(l[u]=h,c=!0)}c&&(e.data.morphAttributes=l,e.data.morphTargetsRelative=this.morphTargetsRelative);var g=this.groups;g.length>0&&(e.data.groups=JSON.parse(JSON.stringify(g)));var y=this.boundingSphere;return null!==y&&(e.data.boundingSphere={center:y.center.toArray(),radius:y.radius}),e},clone:function(){return(new mm).copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var l=[],c=o[s],u=0,d=c.length;u<d;u++)l.push(c[u].clone(t));this.morphAttributes[s]=l}this.morphTargetsRelative=e.morphTargetsRelative;for(var h=e.groups,f=0,p=h.length;f<p;f++){var v=h[f];this.addGroup(v.start,v.count,v.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var gm=new Kp,ym=new Yp,bm=new Hp,_m=new xp,xm=new xp,wm=new xp,Sm=new xp,km=new xp,Em=new xp,Mm=new xp,Tm=new xp,Pm=new xp,Am=new hp,Cm=new hp,Rm=new hp,Om=new xp,Lm=new xp;function Fm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mm,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qv;_v.call(this),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}function Im(e,t,n,r,i,a,o,s,l,c,u,d){_m.fromBufferAttribute(i,c),xm.fromBufferAttribute(i,u),wm.fromBufferAttribute(i,d);var h=e.morphTargetInfluences;if(t.morphTargets&&a&&h){Mm.set(0,0,0),Tm.set(0,0,0),Pm.set(0,0,0);for(var f=0,p=a.length;f<p;f++){var v=h[f],m=a[f];0!==v&&(Sm.fromBufferAttribute(m,c),km.fromBufferAttribute(m,u),Em.fromBufferAttribute(m,d),o?(Mm.addScaledVector(Sm,v),Tm.addScaledVector(km,v),Pm.addScaledVector(Em,v)):(Mm.addScaledVector(Sm.sub(_m),v),Tm.addScaledVector(km.sub(xm),v),Pm.addScaledVector(Em.sub(wm),v)))}_m.add(Mm),xm.add(Tm),wm.add(Pm)}e.isSkinnedMesh&&(e.boneTransform(c,_m),e.boneTransform(u,xm),e.boneTransform(d,wm));var g=function(e,t,n,r,i,a,o,s){if(null===(t.side===_d?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side!==xd,s)))return null;Lm.copy(s),Lm.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(Lm);return l<n.near||l>n.far?null:{distance:l,point:Lm.clone(),object:e}}(e,t,n,r,_m,xm,wm,Om);if(g){s&&(Am.fromBufferAttribute(s,c),Cm.fromBufferAttribute(s,u),Rm.fromBufferAttribute(s,d),g.uv=Iv.getUV(Om,_m,xm,wm,Am,Cm,Rm,new hp)),l&&(Am.fromBufferAttribute(l,c),Cm.fromBufferAttribute(l,u),Rm.fromBufferAttribute(l,d),g.uv2=Iv.getUV(Om,_m,xm,wm,Am,Cm,Rm,new hp));var y=new Gv(c,u,d);Iv.getNormal(_m,xm,wm,y.normal),g.face=y}return g}Fm.prototype=Object.assign(Object.create(_v.prototype),{constructor:Fm,isMesh:!0,copy:function(e){return _v.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){var n,r=this.geometry,i=this.material,a=this.matrixWorld;if(void 0!==i&&(null===r.boundingSphere&&r.computeBoundingSphere(),bm.copy(r.boundingSphere),bm.applyMatrix4(a),!1!==e.ray.intersectsSphere(bm)&&(gm.copy(a).invert(),ym.copy(e.ray).applyMatrix4(gm),null===r.boundingBox||!1!==ym.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var o=r.index,s=r.attributes.position,l=r.morphAttributes.position,c=r.morphTargetsRelative,u=r.attributes.uv,d=r.attributes.uv2,h=r.groups,f=r.drawRange;if(null!==o)if(Array.isArray(i))for(var p=0,v=h.length;p<v;p++)for(var m=h[p],g=i[m.materialIndex],y=Math.max(m.start,f.start),b=Math.min(m.start+m.count,f.start+f.count);y<b;y+=3){var _=o.getX(y),x=o.getX(y+1),w=o.getX(y+2);(n=Im(this,g,e,ym,s,l,c,u,d,_,x,w))&&(n.faceIndex=Math.floor(y/3),n.face.materialIndex=m.materialIndex,t.push(n))}else for(var S=Math.max(0,f.start),k=Math.min(o.count,f.start+f.count);S<k;S+=3){var E=o.getX(S),M=o.getX(S+1),T=o.getX(S+2);(n=Im(this,i,e,ym,s,l,c,u,d,E,M,T))&&(n.faceIndex=Math.floor(S/3),t.push(n))}else if(void 0!==s)if(Array.isArray(i))for(var P=0,A=h.length;P<A;P++)for(var C=h[P],R=i[C.materialIndex],O=Math.max(C.start,f.start),L=Math.min(C.start+C.count,f.start+f.count);O<L;O+=3){(n=Im(this,R,e,ym,s,l,c,u,d,O,O+1,O+2))&&(n.faceIndex=Math.floor(O/3),n.face.materialIndex=C.materialIndex,t.push(n))}else for(var F=Math.max(0,f.start),I=Math.min(s.count,f.start+f.count);F<I;F+=3){(n=Im(this,i,e,ym,s,l,c,u,d,F,F+1,F+2))&&(n.faceIndex=Math.floor(F/3),t.push(n))}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}});var Nm=function(e){Wl(n,e);var t=Xl(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;Lt(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:i,depth:a,widthSegments:o,heightSegments:s,depthSegments:l};var c=yr(e);o=Math.floor(o),s=Math.floor(s),l=Math.floor(l);var u=[],d=[],h=[],f=[],p=0,v=0;function m(e,t,n,r,i,a,o,s,l,m,g){for(var y=a/l,b=o/m,_=a/2,x=o/2,w=s/2,S=l+1,k=m+1,E=0,M=0,T=new xp,P=0;P<k;P++)for(var A=P*b-x,C=0;C<S;C++){var R=C*y-_;T[e]=R*r,T[t]=A*i,T[n]=w,d.push(T.x,T.y,T.z),T[e]=0,T[t]=0,T[n]=s>0?1:-1,h.push(T.x,T.y,T.z),f.push(C/l),f.push(1-P/m),E+=1}for(var O=0;O<m;O++)for(var L=0;L<l;L++){var F=p+L+S*O,I=p+L+S*(O+1),N=p+(L+1)+S*(O+1),D=p+(L+1)+S*O;u.push(F,I,D),u.push(I,N,D),M+=6}c.addGroup(v,M,g),v+=M,p+=E}return m("z","y","x",-1,-1,a,i,r,l,s,0),m("z","y","x",1,-1,a,i,-r,l,s,1),m("x","z","y",1,1,r,a,i,o,l,2),m("x","z","y",1,-1,r,a,-i,o,l,3),m("x","y","z",1,-1,r,i,a,o,s,4),m("x","y","z",-1,-1,r,i,-a,o,s,5),e.setIndex(u),e.setAttribute("position",new im(d,3)),e.setAttribute("normal",new im(h,3)),e.setAttribute("uv",new im(f,2)),e}return It(n)}(mm);function Dm(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function jm(e){for(var t={},n=0;n<e.length;n++){var r=Dm(e[n]);for(var i in r)t[i]=r[i]}return t}var zm={clone:Dm,merge:jm},Hm="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",Bm="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";function Um(e){Vv.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=Hm,this.fragmentShader=Bm,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Gm(){_v.call(this),this.type="Camera",this.matrixWorldInverse=new Kp,this.projectionMatrix=new Kp,this.projectionMatrixInverse=new Kp}function Wm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;Gm.call(this),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Um.prototype=Object.create(Vv.prototype),Um.prototype.constructor=Um,Um.prototype.isShaderMaterial=!0,Um.prototype.copy=function(e){return Vv.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Dm(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this},Um.prototype.toJSON=function(e){var t=Vv.prototype.toJSON.call(this,e);for(var n in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var a in this.extensions)!0===this.extensions[a]&&(i[a]=!0);return Object.keys(i).length>0&&(t.extensions=i),t},Gm.prototype=Object.assign(Object.create(_v.prototype),{constructor:Gm,isCamera:!0,copy:function(e,t){return _v.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new xp),this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){_v.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(e,t){_v.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),Wm.prototype=Object.assign(Object.create(Gm.prototype),{constructor:Wm,isPerspectiveCamera:!0,copy:function(e,t){return Gm.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*dp.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*dp.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*dp.RAD2DEG*Math.atan(Math.tan(.5*dp.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*dp.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(e){var t=_v.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});var Vm=90,qm=1;function Xm(e,t,n){if(_v.call(this),this.type="CubeCamera",!0===n.isWebGLCubeRenderTarget){this.renderTarget=n;var r=new Wm(Vm,qm,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new xp(1,0,0)),this.add(r);var i=new Wm(Vm,qm,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new xp(-1,0,0)),this.add(i);var a=new Wm(Vm,qm,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(new xp(0,1,0)),this.add(a);var o=new Wm(Vm,qm,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new xp(0,-1,0)),this.add(o);var s=new Wm(Vm,qm,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new xp(0,0,1)),this.add(s);var l=new Wm(Vm,qm,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new xp(0,0,-1)),this.add(l),this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var c=e.xr.enabled,u=e.getRenderTarget();e.xr.enabled=!1;var d=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,i),e.setRenderTarget(n,2),e.render(t,a),e.setRenderTarget(n,3),e.render(t,o),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=d,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(u),e.xr.enabled=c}}else console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.")}function Ym(e,t,n,r,i,a,o,s,l,c){e=void 0!==e?e:[],t=void 0!==t?t:sh,o=void 0!==o?o:Ih,mp.call(this,e,t,n,r,i,a,o,s,l,c),this.flipY=!1,this._needsFlipEnvMap=!0}Xm.prototype=Object.create(_v.prototype),Xm.prototype.constructor=Xm,Ym.prototype=Object.create(mp.prototype),Ym.prototype.constructor=Ym,Ym.prototype.isCubeTexture=!0,Object.defineProperty(Ym.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});var Km=function(e){Wl(n,e);var t=Xl(n);function n(e,r,i){var a;return Lt(this,n),Number.isInteger(r)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),r=i),a=t.call(this,e,e,r),Object.defineProperty(yr(a),"isWebGLCubeRenderTarget",{value:!0}),r=r||{},a.texture=new Ym(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),a.texture._needsFlipEnvMap=!1,a}return It(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.format=Nh,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new Nm(5,5,5),o=new Um({name:"CubemapFromEquirect",uniforms:Dm(n),vertexShader:r,fragmentShader:i,side:_d,blending:wd});o.uniforms.tEquirect.value=t;var s=new Fm(a,o),l=t.minFilter;return t.minFilter===xh&&(t.minFilter=bh),new Xm(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}(bp);function Jm(e,t,n,r,i,a,o,s,l,c,u,d){mp.call(this,null,a,o,s,l,c,r,i,u,d),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=void 0!==l?l:mh,this.minFilter=void 0!==c?c:mh,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Jm.prototype=Object.create(mp.prototype),Jm.prototype.constructor=Jm,Jm.prototype.isDataTexture=!0;var Zm=new Hp,Qm=new xp,$m=function(){function e(t,n,r,i,a,o){Lt(this,e),this.planes=[void 0!==t?t:new kv,void 0!==n?n:new kv,void 0!==r?r:new kv,void 0!==i?i:new kv,void 0!==a?a:new kv,void 0!==o?o:new kv]}return It(e,[{key:"set",value:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=n[6],u=n[7],d=n[8],h=n[9],f=n[10],p=n[11],v=n[12],m=n[13],g=n[14],y=n[15];return t[0].setComponents(o-r,u-s,p-d,y-v).normalize(),t[1].setComponents(o+r,u+s,p+d,y+v).normalize(),t[2].setComponents(o+i,u+l,p+h,y+m).normalize(),t[3].setComponents(o-i,u-l,p-h,y-m).normalize(),t[4].setComponents(o-a,u-c,p-f,y-g).normalize(),t[5].setComponents(o+a,u+c,p+f,y+g).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Zm.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Zm)}},{key:"intersectsSprite",value:function(e){return Zm.center.set(0,0,0),Zm.radius=.7071067811865476,Zm.applyMatrix4(e.matrixWorld),this.intersectsSphere(Zm)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(Qm.x=r.normal.x>0?e.max.x:e.min.x,Qm.y=r.normal.y>0?e.max.y:e.min.y,Qm.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Qm)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}}]),e}();function eg(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function tg(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=r.get(t);(!a||a.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,r){var i=t.array,a=t.usage,o=e.createBuffer();e.bindBuffer(r,o),e.bufferData(r,i,a),t.onUploadCallback();var s=5126;return i instanceof Float32Array?s=5126:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?t.isFloat16BufferAttribute?n?s=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):s=5123:i instanceof Int16Array?s=5122:i instanceof Uint32Array?s=5125:i instanceof Int32Array?s=5124:i instanceof Int8Array?s=5120:i instanceof Uint8Array&&(s=5121),{buffer:o,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(!function(t,r,i){var a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1)}(o.buffer,t,i),o.version=t.version)}}}}var ng=function(e){Wl(n,e);var t=Xl(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Lt(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:i,widthSegments:a,heightSegments:o};for(var s=r/2,l=i/2,c=Math.floor(a),u=Math.floor(o),d=c+1,h=u+1,f=r/c,p=i/u,v=[],m=[],g=[],y=[],b=0;b<h;b++)for(var _=b*p-l,x=0;x<d;x++){var w=x*f-s;m.push(w,-_,0),g.push(0,0,1),y.push(x/c),y.push(1-b/u)}for(var S=0;S<u;S++)for(var k=0;k<c;k++){var E=k+d*S,M=k+d*(S+1),T=k+1+d*(S+1),P=k+1+d*S;v.push(E,M,P),v.push(M,T,P)}return e.setIndex(v),e.setAttribute("position",new im(m,3)),e.setAttribute("normal",new im(g,3)),e.setAttribute("uv",new im(y,2)),e}return It(n)}(mm),rg={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},ig={common:{diffuse:{value:new Uv(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new fp},uv2Transform:{value:new fp},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new hp(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Uv(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Uv(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new fp}},sprite:{diffuse:{value:new Uv(15658734)},opacity:{value:1},center:{value:new hp(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new fp}}},ag={basic:{uniforms:jm([ig.common,ig.specularmap,ig.envmap,ig.aomap,ig.lightmap,ig.fog]),vertexShader:rg.meshbasic_vert,fragmentShader:rg.meshbasic_frag},lambert:{uniforms:jm([ig.common,ig.specularmap,ig.envmap,ig.aomap,ig.lightmap,ig.emissivemap,ig.fog,ig.lights,{emissive:{value:new Uv(0)}}]),vertexShader:rg.meshlambert_vert,fragmentShader:rg.meshlambert_frag},phong:{uniforms:jm([ig.common,ig.specularmap,ig.envmap,ig.aomap,ig.lightmap,ig.emissivemap,ig.bumpmap,ig.normalmap,ig.displacementmap,ig.fog,ig.lights,{emissive:{value:new Uv(0)},specular:{value:new Uv(1118481)},shininess:{value:30}}]),vertexShader:rg.meshphong_vert,fragmentShader:rg.meshphong_frag},standard:{uniforms:jm([ig.common,ig.envmap,ig.aomap,ig.lightmap,ig.emissivemap,ig.bumpmap,ig.normalmap,ig.displacementmap,ig.roughnessmap,ig.metalnessmap,ig.fog,ig.lights,{emissive:{value:new Uv(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:rg.meshphysical_vert,fragmentShader:rg.meshphysical_frag},toon:{uniforms:jm([ig.common,ig.aomap,ig.lightmap,ig.emissivemap,ig.bumpmap,ig.normalmap,ig.displacementmap,ig.gradientmap,ig.fog,ig.lights,{emissive:{value:new Uv(0)}}]),vertexShader:rg.meshtoon_vert,fragmentShader:rg.meshtoon_frag},matcap:{uniforms:jm([ig.common,ig.bumpmap,ig.normalmap,ig.displacementmap,ig.fog,{matcap:{value:null}}]),vertexShader:rg.meshmatcap_vert,fragmentShader:rg.meshmatcap_frag},points:{uniforms:jm([ig.points,ig.fog]),vertexShader:rg.points_vert,fragmentShader:rg.points_frag},dashed:{uniforms:jm([ig.common,ig.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:rg.linedashed_vert,fragmentShader:rg.linedashed_frag},depth:{uniforms:jm([ig.common,ig.displacementmap]),vertexShader:rg.depth_vert,fragmentShader:rg.depth_frag},normal:{uniforms:jm([ig.common,ig.bumpmap,ig.normalmap,ig.displacementmap,{opacity:{value:1}}]),vertexShader:rg.normal_vert,fragmentShader:rg.normal_frag},sprite:{uniforms:jm([ig.sprite,ig.fog]),vertexShader:rg.sprite_vert,fragmentShader:rg.sprite_frag},background:{uniforms:{uvTransform:{value:new fp},t2D:{value:null}},vertexShader:rg.background_vert,fragmentShader:rg.background_frag},cube:{uniforms:jm([ig.envmap,{opacity:{value:1}}]),vertexShader:rg.cube_vert,fragmentShader:rg.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:rg.equirect_vert,fragmentShader:rg.equirect_frag},distanceRGBA:{uniforms:jm([ig.common,ig.displacementmap,{referencePosition:{value:new xp},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:rg.distanceRGBA_vert,fragmentShader:rg.distanceRGBA_frag},shadow:{uniforms:jm([ig.lights,ig.fog,{color:{value:new Uv(0)},opacity:{value:1}}]),vertexShader:rg.shadow_vert,fragmentShader:rg.shadow_frag}};function og(e,t,n,r,i){var a,o,s=new Uv(0),l=0,c=null,u=0,d=null;function h(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,i)}return{getClearColor:function(){return s},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s.set(e),h(s,l=t)},getClearAlpha:function(){return l},setClearAlpha:function(e){h(s,l=e)},render:function(n,i,f,p){var v=!0===i.isScene?i.background:null;v&&v.isTexture&&(v=t.get(v));var m=e.xr,g=m.getSession&&m.getSession();g&&"additive"===g.environmentBlendMode&&(v=null),null===v?h(s,l):v&&v.isColor&&(h(v,1),p=!0),(e.autoClear||p)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),v&&(v.isCubeTexture||v.isWebGLCubeRenderTarget||v.mapping===dh)?(void 0===o&&((o=new Fm(new Nm(1,1,1),new Um({name:"BackgroundCubeMaterial",uniforms:Dm(ag.cube.uniforms),vertexShader:ag.cube.vertexShader,fragmentShader:ag.cube.fragmentShader,side:_d,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(o)),v.isWebGLCubeRenderTarget&&(v=v.texture),o.material.uniforms.envMap.value=v,o.material.uniforms.flipEnvMap.value=v.isCubeTexture&&v._needsFlipEnvMap?-1:1,c===v&&u===v.version&&d===e.toneMapping||(o.material.needsUpdate=!0,c=v,u=v.version,d=e.toneMapping),n.unshift(o,o.geometry,o.material,0,0,null)):v&&v.isTexture&&(void 0===a&&((a=new Fm(new ng(2,2),new Um({name:"BackgroundMaterial",uniforms:Dm(ag.background.uniforms),vertexShader:ag.background.vertexShader,fragmentShader:ag.background.fragmentShader,side:bd,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(a)),a.material.uniforms.t2D.value=v,!0===v.matrixAutoUpdate&&v.updateMatrix(),a.material.uniforms.uvTransform.value.copy(v.matrix),c===v&&u===v.version&&d===e.toneMapping||(a.material.needsUpdate=!0,c=v,u=v.version,d=e.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null))}}}function sg(e,t,n,r){var i=e.getParameter(34921),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},l=h(null),c=l;function u(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function d(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function h(e){for(var t=[],n=[],r=[],a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function f(){for(var e=c.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function p(e){v(e,0)}function v(n,i){var a=c.newAttributes,o=c.enabledAttributes,s=c.attributeDivisors;(a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function m(){for(var t=c.newAttributes,n=c.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function g(t,n,i,a,o,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,a,o,s):e.vertexAttribIPointer(t,n,i,o,s)}function y(){b(),c!==l&&u((c=l).object)}function b(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,d,y,b){var _=!1;if(o){var x=function(t,n,i){var o=!0===i.wireframe,l=s[t.id];void 0===l&&(l={},s[t.id]=l);var c=l[n.id];void 0===c&&(c={},l[n.id]=c);var u=c[o];void 0===u&&(u=h(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),c[o]=u);return u}(y,d,l);c!==x&&u((c=x).object),_=function(e,t){var n=c.attributes,r=e.attributes,i=0;for(var a in r){var o=n[a],s=r[a];if(void 0===o)return!0;if(o.attribute!==s)return!0;if(o.data!==s.data)return!0;i++}return c.attributesNum!==i||c.index!==t}(y,b),_&&function(e,t){var n={},r=e.attributes,i=0;for(var a in r){var o=r[a],s={};s.attribute=o,o.data&&(s.data=o.data),n[a]=s,i++}c.attributes=n,c.attributesNum=i,c.index=t}(y,b)}else{var w=!0===l.wireframe;c.geometry===y.id&&c.program===d.id&&c.wireframe===w||(c.geometry=y.id,c.program=d.id,c.wireframe=w,_=!0)}!0===i.isInstancedMesh&&(_=!0),null!==b&&n.update(b,34963),_&&(!function(i,a,o,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;f();var l=s.attributes,c=o.getAttributes(),u=a.defaultAttributeValues;for(var d in c){var h=c[d];if(h>=0){var y=l[d];if(void 0!==y){var b=y.normalized,_=y.itemSize,x=n.get(y);if(void 0===x)continue;var w=x.buffer,S=x.type,k=x.bytesPerElement;if(y.isInterleavedBufferAttribute){var E=y.data,M=E.stride,T=y.offset;E&&E.isInstancedInterleavedBuffer?(v(h,E.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=E.meshPerAttribute*E.count)):p(h),e.bindBuffer(34962,w),g(h,_,S,b,M*k,T*k)}else y.isInstancedBufferAttribute?(v(h,y.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=y.meshPerAttribute*y.count)):p(h),e.bindBuffer(34962,w),g(h,_,S,b,0,0)}else if("instanceMatrix"===d){var P=n.get(i.instanceMatrix);if(void 0===P)continue;var A=P.buffer,C=P.type;v(h+0,1),v(h+1,1),v(h+2,1),v(h+3,1),e.bindBuffer(34962,A),e.vertexAttribPointer(h+0,4,C,!1,64,0),e.vertexAttribPointer(h+1,4,C,!1,64,16),e.vertexAttribPointer(h+2,4,C,!1,64,32),e.vertexAttribPointer(h+3,4,C,!1,64,48)}else if("instanceColor"===d){var R=n.get(i.instanceColor);if(void 0===R)continue;var O=R.buffer,L=R.type;v(h,1),e.bindBuffer(34962,O),e.vertexAttribPointer(h,3,L,!1,12,0)}else if(void 0!==u){var F=u[d];if(void 0!==F)switch(F.length){case 2:e.vertexAttrib2fv(h,F);break;case 3:e.vertexAttrib3fv(h,F);break;case 4:e.vertexAttrib4fv(h,F);break;default:e.vertexAttrib1fv(h,F)}}}}m()}(i,l,d,y),null!==b&&e.bindBuffer(34963,n.get(b).buffer))},reset:y,resetDefaultState:b,dispose:function(){for(var e in y(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)d(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:f,enableAttribute:p,disableUnusedAttributes:m}}function lg(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,s){if(0!==s){var l,c;if(a)l=e,c="drawArraysInstanced";else if(c="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](i,r,o,s),n.update(o,i,s)}}}function cg(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),u=e.getParameter(35660),d=e.getParameter(3379),h=e.getParameter(34076),f=e.getParameter(34921),p=e.getParameter(36347),v=e.getParameter(36348),m=e.getParameter(36349),g=u>0,y=a||!!t.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:u,maxTextureSize:d,maxCubemapSize:h,maxAttributes:f,maxVertexUniforms:p,maxVaryings:v,maxFragmentUniforms:m,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?e.getParameter(36183):0}}function ug(e){var t=this,n=null,r=0,i=!1,a=!1,o=new kv,s=new fp,l={value:null,needsUpdate:!1};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function u(e,n,r,i){var a=null!==e?e.length:0,c=null;if(0!==a){if(c=l.value,!0!==i||null===c){var u=r+4*a,d=n.matrixWorldInverse;s.getNormalMatrix(d),(null===c||c.length<u)&&(c=new Float32Array(u));for(var h=0,f=r;h!==a;++h,f+=4)o.copy(e[h]).applyMatrix4(d,s),o.normal.toArray(c,f),c[f+3]=o.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,a){var o=0!==e.length||t||0!==r||i;return i=t,n=u(e,a,0),r=e.length,o},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1,c()},this.setState=function(t,o,s){var d=t.clippingPlanes,h=t.clipIntersection,f=t.clipShadows,p=e.get(t);if(!i||null===d||0===d.length||a&&!f)a?u(null):c();else{var v=a?0:r,m=4*v,g=p.clippingState||null;l.value=g,g=u(d,o,m,s);for(var y=0;y!==m;++y)g[y]=n[y];p.clippingState=g,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=v}}}function dg(e){var t=new WeakMap;function n(e,t){return t===ch?e.mapping=sh:t===uh&&(e.mapping=lh),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping;if(a===ch||a===uh){if(t.has(i))return n(t.get(i).texture,i.mapping);var o=i.image;if(o&&o.height>0){var s=e.getRenderList(),l=e.getRenderTarget(),c=new Km(o.height/2);return c.fromEquirectangularTexture(e,i),t.set(i,c),e.setRenderTarget(l),e.setRenderList(s),i.addEventListener("dispose",r),n(c.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}function hg(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function fg(e,t,n,r){var i={},a=new WeakMap;function o(e){var s=e.target;for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);s.removeEventListener("dispose",o),delete i[s.id];var c=a.get(s);c&&(t.remove(c),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var l=0,c=s.length;l<c;l+=3){var u=s[l+0],d=s[l+1],h=s[l+2];n.push(u,d,d,h,h,u)}}else{var f=i.array;o=i.version;for(var p=0,v=f.length/3-1;p<v;p+=3){var m=p+0,g=p+1,y=p+2;n.push(m,g,g,y,y,m)}}var b=new(om(n)>65535?nm:em)(n,1);b.version=o;var _=a.get(e);_&&t.remove(_),a.set(e,b)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(e){var n=e.attributes;for(var r in n)t.update(n[r],34962);var i=e.morphAttributes;for(var a in i)for(var o=i[a],s=0,l=o.length;s<l;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function pg(e,t,n,r){var i,a,o,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,l,c){if(0!==c){var u,d;if(s)u=e,d="drawElementsInstanced";else if(d="drawElementsInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[d](i,l,a,r*o,c),n.update(l,i,c)}}}function vg(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function mg(e,t){return e[0]-t[0]}function gg(e,t){return Math.abs(t[1])-Math.abs(e[1])}function yg(e){for(var t={},n=new Float32Array(8),r=[],i=0;i<8;i++)r[i]=[i,0];return{update:function(i,a,o,s){var l=i.morphTargetInfluences,c=void 0===l?0:l.length,u=t[a.id];if(void 0===u){u=[];for(var d=0;d<c;d++)u[d]=[d,0];t[a.id]=u}for(var h=0;h<c;h++){var f=u[h];f[0]=h,f[1]=l[h]}u.sort(gg);for(var p=0;p<8;p++)p<c&&u[p][1]?(r[p][0]=u[p][0],r[p][1]=u[p][1]):(r[p][0]=Number.MAX_SAFE_INTEGER,r[p][1]=0);r.sort(mg);for(var v=o.morphTargets&&a.morphAttributes.position,m=o.morphNormals&&a.morphAttributes.normal,g=0,y=0;y<8;y++){var b=r[y],_=b[0],x=b[1];_!==Number.MAX_SAFE_INTEGER&&x?(v&&a.getAttribute("morphTarget"+y)!==v[_]&&a.setAttribute("morphTarget"+y,v[_]),m&&a.getAttribute("morphNormal"+y)!==m[_]&&a.setAttribute("morphNormal"+y,m[_]),n[y]=x,g+=x):(v&&!0===a.hasAttribute("morphTarget"+y)&&a.deleteAttribute("morphTarget"+y),m&&!0===a.hasAttribute("morphNormal"+y)&&a.deleteAttribute("morphNormal"+y),n[y]=0)}var w=a.morphTargetsRelative?1:1-g;s.getUniforms().setValue(e,"morphTargetBaseInfluence",w),s.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function bg(e,t,n,r){var i=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){var o=r.render.frame,s=e.geometry,l=t.get(e,s);return i.get(l)!==o&&(t.update(l),i.set(l,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",a)&&e.addEventListener("dispose",a),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),l},dispose:function(){i=new WeakMap}}}function _g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;mp.call(this,null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=mh,this.minFilter=mh,this.wrapR=ph,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function xg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;mp.call(this,null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=mh,this.minFilter=mh,this.wrapR=ph,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}ag.physical={uniforms:jm([ag.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new hp(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Uv(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:rg.meshphysical_vert,fragmentShader:rg.meshphysical_frag},_g.prototype=Object.create(mp.prototype),_g.prototype.constructor=_g,_g.prototype.isDataTexture2DArray=!0,xg.prototype=Object.create(mp.prototype),xg.prototype.constructor=xg,xg.prototype.isDataTexture3D=!0;var wg=new mp,Sg=new _g,kg=new xg,Eg=new Ym,Mg=[],Tg=[],Pg=new Float32Array(16),Ag=new Float32Array(9),Cg=new Float32Array(4);function Rg(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=Mg[i];if(void 0===a&&(a=new Float32Array(i),Mg[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function Og(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Lg(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function Fg(e,t){var n=Tg[t];void 0===n&&(n=new Int32Array(t),Tg[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Ig(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Ng(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Og(n,t))return;e.uniform2fv(this.addr,t),Lg(n,t)}}function Dg(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Og(n,t))return;e.uniform3fv(this.addr,t),Lg(n,t)}}function jg(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Og(n,t))return;e.uniform4fv(this.addr,t),Lg(n,t)}}function zg(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Og(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Lg(n,t)}else{if(Og(n,r))return;Cg.set(r),e.uniformMatrix2fv(this.addr,!1,Cg),Lg(n,r)}}function Hg(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Og(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Lg(n,t)}else{if(Og(n,r))return;Ag.set(r),e.uniformMatrix3fv(this.addr,!1,Ag),Lg(n,r)}}function Bg(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Og(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Lg(n,t)}else{if(Og(n,r))return;Pg.set(r),e.uniformMatrix4fv(this.addr,!1,Pg),Lg(n,r)}}function Ug(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(t||wg,i)}function Gg(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||Sg,i)}function Wg(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||kg,i)}function Vg(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(t||Eg,i)}function qg(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Xg(e,t){var n=this.cache;Og(n,t)||(e.uniform2iv(this.addr,t),Lg(n,t))}function Yg(e,t){var n=this.cache;Og(n,t)||(e.uniform3iv(this.addr,t),Lg(n,t))}function Kg(e,t){var n=this.cache;Og(n,t)||(e.uniform4iv(this.addr,t),Lg(n,t))}function Jg(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Zg(e,t){e.uniform1fv(this.addr,t)}function Qg(e,t){e.uniform1iv(this.addr,t)}function $g(e,t){e.uniform2iv(this.addr,t)}function ey(e,t){e.uniform3iv(this.addr,t)}function ty(e,t){e.uniform4iv(this.addr,t)}function ny(e,t){var n=Rg(t,this.size,2);e.uniform2fv(this.addr,n)}function ry(e,t){var n=Rg(t,this.size,3);e.uniform3fv(this.addr,n)}function iy(e,t){var n=Rg(t,this.size,4);e.uniform4fv(this.addr,n)}function ay(e,t){var n=Rg(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function oy(e,t){var n=Rg(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function sy(e,t){var n=Rg(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function ly(e,t,n){var r=t.length,i=Fg(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.safeSetTexture2D(t[a]||wg,i[a])}function cy(e,t,n){var r=t.length,i=Fg(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.safeSetTextureCube(t[a]||Eg,i[a])}function uy(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Ig;case 35664:return Ng;case 35665:return Dg;case 35666:return jg;case 35674:return zg;case 35675:return Hg;case 35676:return Bg;case 5124:case 35670:return qg;case 35667:case 35671:return Xg;case 35668:case 35672:return Yg;case 35669:case 35673:return Kg;case 5125:return Jg;case 35678:case 36198:case 36298:case 36306:case 35682:return Ug;case 35679:case 36299:case 36307:return Wg;case 35680:case 36300:case 36308:case 36293:return Vg;case 36289:case 36303:case 36311:case 36292:return Gg}}(t.type)}function dy(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Zg;case 35664:return ny;case 35665:return ry;case 35666:return iy;case 35674:return ay;case 35675:return oy;case 35676:return sy;case 5124:case 35670:return Qg;case 35667:case 35671:return $g;case 35668:case 35672:return ey;case 35669:case 35673:return ty;case 35678:case 36198:case 36298:case 36306:case 35682:return ly;case 35680:case 36300:case 36308:case 36293:return cy}}(t.type)}function hy(e){this.id=e,this.seq=[],this.map={}}dy.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),Lg(t,e)},hy.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}};var fy=/(\w+)(\])?(\[|\.)?/g;function py(e,t){e.seq.push(t),e.map[t.id]=t}function vy(e,t,n){var r=e.name,i=r.length;for(fy.lastIndex=0;;){var a=fy.exec(r),o=fy.lastIndex,s=a[1],l="]"===a[2],c=a[3];if(l&&(s|=0),void 0===c||"["===c&&o+2===i){py(n,void 0===c?new uy(s,e,t):new dy(s,e,t));break}var u=n.map[s];void 0===u&&py(n,u=new hy(s)),n=u}}function my(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),r=0;r<n;++r){var i=e.getActiveUniform(t,r);vy(i,e.getUniformLocation(t,i.name),this)}}function gy(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}my.prototype.setValue=function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)},my.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},my.upload=function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}},my.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n};var yy=0;function by(e){switch(e){case Gf:return["Linear","( value )"];case Wf:return["sRGB","( value )"];case qf:return["RGBE","( value )"];case Yf:return["RGBM","( value, 7.0 )"];case Kf:return["RGBM","( value, 16.0 )"];case Jf:return["RGBD","( value, 256.0 )"];case Vf:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case Xf:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function _y(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();return r&&""===i?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+i+function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function xy(e,t){var n=by(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function wy(e,t){var n=by(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Sy(e,t){var n;switch(t){case nh:n="Linear";break;case rh:n="Reinhard";break;case ih:n="OptimizedCineon";break;case ah:n="ACESFilmic";break;case oh:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function ky(e){return""!==e}function Ey(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function My(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Ty=/^[ \t]*#include +<([\w\d./]+)>/gm;function Py(e){return e.replace(Ty,Ay)}function Ay(e,t){var n=rg[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Py(n)}var Cy=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Ry=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Oy(e){return e.replace(Ry,Fy).replace(Cy,Ly)}function Ly(e,t,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Fy(e,t,n,r)}function Fy(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function Iy(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Ny(e,t,n,r){var i,a,o=e.getContext(),s=n.defines,l=n.vertexShader,c=n.fragmentShader,u=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===md?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===gd?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===yd&&(t="SHADOWMAP_TYPE_VSM"),t}(n),d=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case sh:case lh:t="ENVMAP_TYPE_CUBE";break;case dh:case hh:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),h=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case lh:case hh:t="ENVMAP_MODE_REFRACTION"}return t}(n),f=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case Qd:t="ENVMAP_BLENDING_MULTIPLY";break;case $d:t="ENVMAP_BLENDING_MIX";break;case eh:t="ENVMAP_BLENDING_ADD"}return t}(n),p=e.gammaFactor>0?e.gammaFactor:1,v=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ky).join("\n")}(n),m=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),g=o.createProgram(),y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=[m].filter(ky).join("\n")).length>0&&(i+="\n"),(a=[v,m].filter(ky).join("\n")).length>0&&(a+="\n")):(i=[Iy(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+p,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ky).join("\n"),a=[v,Iy(n),"#define SHADER_NAME "+n.shaderName,m,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==th?"#define TONE_MAPPING":"",n.toneMapping!==th?rg.tonemapping_pars_fragment:"",n.toneMapping!==th?Sy("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",rg.encodings_pars_fragment,n.map?xy("mapTexelToLinear",n.mapEncoding):"",n.matcap?xy("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?xy("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?xy("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?xy("lightMapTexelToLinear",n.lightMapEncoding):"",wy("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(ky).join("\n")),l=My(l=Ey(l=Py(l),n),n),c=My(c=Ey(c=Py(c),n),n),l=Oy(l),c=Oy(c),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",i=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",n.glslVersion===ap?"":"out highp vec4 pc_fragColor;",n.glslVersion===ap?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var b,_,x=y+a+c,w=gy(o,35633,y+i+l),S=gy(o,35632,x);if(o.attachShader(g,w),o.attachShader(g,S),void 0!==n.index0AttributeName?o.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(g,0,"position"),o.linkProgram(g),e.debug.checkShaderErrors){var k=o.getProgramInfoLog(g).trim(),E=o.getShaderInfoLog(w).trim(),M=o.getShaderInfoLog(S).trim(),T=!0,P=!0;if(!1===o.getProgramParameter(g,35714)){T=!1;var A=_y(o,w,"vertex"),C=_y(o,S,"fragment");console.error("THREE.WebGLProgram: shader error: ",o.getError(),"35715",o.getProgramParameter(g,35715),"gl.getProgramInfoLog",k,A,C)}else""!==k?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",k):""!==E&&""!==M||(P=!1);P&&(this.diagnostics={runnable:T,programLog:k,vertexShader:{log:E,prefix:i},fragmentShader:{log:M,prefix:a}})}return o.deleteShader(w),o.deleteShader(S),this.getUniforms=function(){return void 0===b&&(b=new my(o,g)),b},this.getAttributes=function(){return void 0===_&&(_=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var a=e.getActiveAttrib(t,i).name;n[a]=e.getAttribLocation(t,a)}return n}(o,g)),_},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=yy++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=w,this.fragmentShader=S,this}function Dy(e,t,n,r,i,a){var o=[],s=r.isWebGL2,l=r.logarithmicDepthBuffer,c=r.floatVertexTextures,u=r.maxVertexUniforms,d=r.vertexTextures,h=r.precision,f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},p=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function v(e){var t;return e&&e.isTexture?t=e.encoding:e&&e.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=Gf,t}return{getParameters:function(i,o,p,m,g){var y,b,_=m.fog,x=i.isMeshStandardMaterial?m.environment:null,w=t.get(i.envMap||x),S=f[i.type],k=g.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(c)return 1024;var n=u,r=Math.floor((n-20)/4),i=Math.min(r,t.length);return i<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+i+"."),0):i}(g):0;if(null!==i.precision&&(h=r.getMaxPrecision(i.precision))!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",h,"instead."),S){var E=ag[S];y=E.vertexShader,b=E.fragmentShader}else y=i.vertexShader,b=i.fragmentShader;var M=e.getRenderTarget();return{isWebGL2:s,shaderID:S,shaderName:i.type,vertexShader:y,fragmentShader:b,defines:i.defines,isRawShaderMaterial:!0===i.isRawShaderMaterial,glslVersion:i.glslVersion,precision:h,instancing:!0===g.isInstancedMesh,instancingColor:!0===g.isInstancedMesh&&null!==g.instanceColor,supportsVertexTextures:d,outputEncoding:null!==M?v(M.texture):e.outputEncoding,map:!!i.map,mapEncoding:v(i.map),matcap:!!i.matcap,matcapEncoding:v(i.matcap),envMap:!!w,envMapMode:w&&w.mapping,envMapEncoding:v(w),envMapCubeUV:!!w&&(w.mapping===dh||w.mapping===hh),lightMap:!!i.lightMap,lightMapEncoding:v(i.lightMap),aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:v(i.emissiveMap),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,objectSpaceNormalMap:i.normalMapType===ep,tangentSpaceNormalMap:i.normalMapType===$f,clearcoatMap:!!i.clearcoatMap,clearcoatRoughnessMap:!!i.clearcoatRoughnessMap,clearcoatNormalMap:!!i.clearcoatNormalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,sheen:!!i.sheen,transmissionMap:!!i.transmissionMap,combine:i.combine,vertexTangents:i.normalMap&&i.vertexTangents,vertexColors:i.vertexColors,vertexUvs:!!i.map||!!i.bumpMap||!!i.normalMap||!!i.specularMap||!!i.alphaMap||!!i.emissiveMap||!!i.roughnessMap||!!i.metalnessMap||!!i.clearcoatMap||!!i.clearcoatRoughnessMap||!!i.clearcoatNormalMap||!!i.displacementMap||!!i.transmissionMap,uvsVertexOnly:!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap||i.transmissionMap)&&!!i.displacementMap,fog:!!_,useFog:i.fog,fogExp2:_&&_.isFogExp2,flatShading:i.flatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:l,skinning:i.skinning&&k>0,maxBones:k,useVertexTexture:c,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:i.dithering,shadowMapEnabled:e.shadowMap.enabled&&p.length>0,shadowMapType:e.shadowMap.type,toneMapping:i.toneMapped?e.toneMapping:th,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===xd,flipSided:i.side===_d,depthPacking:void 0!==i.depthPacking&&i.depthPacking,index0AttributeName:i.index0AttributeName,extensionDerivatives:i.extensions&&i.extensions.derivatives,extensionFragDepth:i.extensions&&i.extensions.fragDepth,extensionDrawBuffers:i.extensions&&i.extensions.drawBuffers,extensionShaderTextureLOD:i.extensions&&i.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:s||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:s||n.has("EXT_shader_texture_lod"),customProgramCacheKey:i.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);if(!1===t.isRawShaderMaterial){for(var i=0;i<p.length;i++)n.push(t[p[i]]);n.push(e.outputEncoding),n.push(e.gammaFactor)}return n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=f[e.type];if(n){var r=ag[n];t=zm.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,a=0,s=o.length;a<s;a++){var l=o[a];if(l.cacheKey===n){++(r=l).usedTimes;break}}return void 0===r&&(r=new Ny(e,n,t,i),o.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=o.indexOf(e);o[t]=o[o.length-1],o.pop(),e.destroy()}},programs:o}}function jy(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function zy(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Hy(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function By(e){var t=[],n=0,r=[],i=[],a={id:-1};function o(r,i,o,s,l,c){var u=t[n],d=e.get(o);return void 0===u?(u={id:r.id,object:r,geometry:i,material:o,program:d.program||a,groupOrder:s,renderOrder:r.renderOrder,z:l,group:c},t[n]=u):(u.id=r.id,u.object=r,u.geometry=i,u.material=o,u.program=d.program||a,u.groupOrder=s,u.renderOrder=r.renderOrder,u.z=l,u.group=c),n++,u}return{opaque:r,transparent:i,init:function(){n=0,r.length=0,i.length=0},push:function(e,t,n,a,s,l){var c=o(e,t,n,a,s,l);(!0===n.transparent?i:r).push(c)},unshift:function(e,t,n,a,s,l){var c=o(e,t,n,a,s,l);(!0===n.transparent?i:r).unshift(c)},finish:function(){for(var e=n,r=t.length;e<r;e++){var i=t[e];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.program=null,i.group=null}},sort:function(e,t){r.length>1&&r.sort(e||zy),i.length>1&&i.sort(t||Hy)}}}function Uy(e){var t=new WeakMap;return{get:function(n,r){var i,a=t.get(n);return void 0===a?(i=new By(e),t.set(n,new WeakMap),t.get(n).set(r,i)):void 0===(i=a.get(r))&&(i=new By(e),a.set(r,i)),i},dispose:function(){t=new WeakMap}}}function Gy(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new xp,color:new Uv};break;case"SpotLight":n={position:new xp,direction:new xp,color:new Uv,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new xp,color:new Uv,distance:0,decay:0};break;case"HemisphereLight":n={direction:new xp,skyColor:new Uv,groundColor:new Uv};break;case"RectAreaLight":n={color:new Uv,position:new xp,halfWidth:new xp,halfHeight:new xp}}return e[t.id]=n,n}}}var Wy=0;function Vy(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function qy(e,t){for(var n=new Gy,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new hp};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new hp,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},a=0;a<9;a++)i.probe.push(new xp);var o=new xp,s=new Kp,l=new Kp;return{setup:function(a){for(var o=0,s=0,l=0,c=0;c<9;c++)i.probe[c].set(0,0,0);var u=0,d=0,h=0,f=0,p=0,v=0,m=0,g=0;a.sort(Vy);for(var y=0,b=a.length;y<b;y++){var _=a[y],x=_.color,w=_.intensity,S=_.distance,k=_.shadow&&_.shadow.map?_.shadow.map.texture:null;if(_.isAmbientLight)o+=x.r*w,s+=x.g*w,l+=x.b*w;else if(_.isLightProbe)for(var E=0;E<9;E++)i.probe[E].addScaledVector(_.sh.coefficients[E],w);else if(_.isDirectionalLight){var M=n.get(_);if(M.color.copy(_.color).multiplyScalar(_.intensity),_.castShadow){var T=_.shadow,P=r.get(_);P.shadowBias=T.bias,P.shadowNormalBias=T.normalBias,P.shadowRadius=T.radius,P.shadowMapSize=T.mapSize,i.directionalShadow[u]=P,i.directionalShadowMap[u]=k,i.directionalShadowMatrix[u]=_.shadow.matrix,v++}i.directional[u]=M,u++}else if(_.isSpotLight){var A=n.get(_);if(A.position.setFromMatrixPosition(_.matrixWorld),A.color.copy(x).multiplyScalar(w),A.distance=S,A.coneCos=Math.cos(_.angle),A.penumbraCos=Math.cos(_.angle*(1-_.penumbra)),A.decay=_.decay,_.castShadow){var C=_.shadow,R=r.get(_);R.shadowBias=C.bias,R.shadowNormalBias=C.normalBias,R.shadowRadius=C.radius,R.shadowMapSize=C.mapSize,i.spotShadow[h]=R,i.spotShadowMap[h]=k,i.spotShadowMatrix[h]=_.shadow.matrix,g++}i.spot[h]=A,h++}else if(_.isRectAreaLight){var O=n.get(_);O.color.copy(x).multiplyScalar(w),O.halfWidth.set(.5*_.width,0,0),O.halfHeight.set(0,.5*_.height,0),i.rectArea[f]=O,f++}else if(_.isPointLight){var L=n.get(_);if(L.color.copy(_.color).multiplyScalar(_.intensity),L.distance=_.distance,L.decay=_.decay,_.castShadow){var F=_.shadow,I=r.get(_);I.shadowBias=F.bias,I.shadowNormalBias=F.normalBias,I.shadowRadius=F.radius,I.shadowMapSize=F.mapSize,I.shadowCameraNear=F.camera.near,I.shadowCameraFar=F.camera.far,i.pointShadow[d]=I,i.pointShadowMap[d]=k,i.pointShadowMatrix[d]=_.shadow.matrix,m++}i.point[d]=L,d++}else if(_.isHemisphereLight){var N=n.get(_);N.skyColor.copy(_.color).multiplyScalar(w),N.groundColor.copy(_.groundColor).multiplyScalar(w),i.hemi[p]=N,p++}}f>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=ig.LTC_FLOAT_1,i.rectAreaLTC2=ig.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=ig.LTC_HALF_1,i.rectAreaLTC2=ig.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=o,i.ambient[1]=s,i.ambient[2]=l;var D=i.hash;D.directionalLength===u&&D.pointLength===d&&D.spotLength===h&&D.rectAreaLength===f&&D.hemiLength===p&&D.numDirectionalShadows===v&&D.numPointShadows===m&&D.numSpotShadows===g||(i.directional.length=u,i.spot.length=h,i.rectArea.length=f,i.point.length=d,i.hemi.length=p,i.directionalShadow.length=v,i.directionalShadowMap.length=v,i.pointShadow.length=m,i.pointShadowMap.length=m,i.spotShadow.length=g,i.spotShadowMap.length=g,i.directionalShadowMatrix.length=v,i.pointShadowMatrix.length=m,i.spotShadowMatrix.length=g,D.directionalLength=u,D.pointLength=d,D.spotLength=h,D.rectAreaLength=f,D.hemiLength=p,D.numDirectionalShadows=v,D.numPointShadows=m,D.numSpotShadows=g,i.version=Wy++)},setupView:function(e,t){for(var n=0,r=0,a=0,c=0,u=0,d=t.matrixWorldInverse,h=0,f=e.length;h<f;h++){var p=e[h];if(p.isDirectionalLight){var v=i.directional[n];v.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(o),v.direction.transformDirection(d),n++}else if(p.isSpotLight){var m=i.spot[a];m.position.setFromMatrixPosition(p.matrixWorld),m.position.applyMatrix4(d),m.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(d),a++}else if(p.isRectAreaLight){var g=i.rectArea[c];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(d),l.identity(),s.copy(p.matrixWorld),s.premultiply(d),l.extractRotation(s),g.halfWidth.set(.5*p.width,0,0),g.halfHeight.set(0,.5*p.height,0),g.halfWidth.applyMatrix4(l),g.halfHeight.applyMatrix4(l),c++}else if(p.isPointLight){var y=i.point[r];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(d),r++}else if(p.isHemisphereLight){var b=i.hemi[u];b.direction.setFromMatrixPosition(p.matrixWorld),b.direction.transformDirection(d),b.direction.normalize(),u++}}},state:i}}function Xy(e,t){var n=new qy(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(){n.setup(r)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function Yy(e,t){var n=new WeakMap;return{get:function(r){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!1===n.has(r)?(i=new Xy(e,t),n.set(r,[]),n.get(r).push(i)):a>=n.get(r).length?(i=new Xy(e,t),n.get(r).push(i)):i=n.get(r)[a],i},dispose:function(){n=new WeakMap}}}function Ky(e){Vv.call(this),this.type="MeshDepthMaterial",this.depthPacking=Zf,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function Jy(e){Vv.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new xp,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}Ky.prototype=Object.create(Vv.prototype),Ky.prototype.constructor=Ky,Ky.prototype.isMeshDepthMaterial=!0,Ky.prototype.copy=function(e){return Vv.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Jy.prototype=Object.create(Vv.prototype),Jy.prototype.constructor=Jy,Jy.prototype.isMeshDistanceMaterial=!0,Jy.prototype.copy=function(e){return Vv.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var Zy="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}",Qy="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}";function $y(e,t,n){var r=new $m,i=new hp,a=new hp,o=new yp,s=[],l=[],c={},u={0:_d,1:bd,2:xd},d=new Um({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new hp},radius:{value:4}},vertexShader:Qy,fragmentShader:Zy}),h=d.clone();h.defines.HORIZONTAL_PASS=1;var f=new mm;f.setAttribute("position",new Kv(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var p=new Fm(f,d),v=this;function m(n,r){var i=t.update(p);d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,d,p,null),h.uniforms.shadow_pass.value=n.mapPass.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,h,p,null)}function g(e,t,n){var r=e<<0|t<<1|n<<2,i=s[r];return void 0===i&&(i=new Ky({depthPacking:Qf,morphTargets:e,skinning:t}),s[r]=i),i}function y(e,t,n){var r=e<<0|t<<1|n<<2,i=l[r];return void 0===i&&(i=new Jy({morphTargets:e,skinning:t}),l[r]=i),i}function b(t,n,r,i,a,o,s){var l=null,d=g,h=t.customDepthMaterial;if(!0===i.isPointLight&&(d=y,h=t.customDistanceMaterial),void 0===h){var f=!1;!0===r.morphTargets&&(f=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);var p=!1;!0===t.isSkinnedMesh&&(!0===r.skinning?p=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t)),l=d(f,p,!0===t.isInstancedMesh)}else l=h;if(e.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length){var v=l.uuid,m=r.uuid,b=c[v];void 0===b&&(b={},c[v]=b);var _=b[m];void 0===_&&(_=l.clone(),b[m]=_),l=_}return l.visible=r.visible,l.wireframe=r.wireframe,l.side=s===yd?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:u[r.side],l.clipShadows=r.clipShadows,l.clippingPlanes=r.clippingPlanes,l.clipIntersection=r.clipIntersection,l.wireframeLinewidth=r.wireframeLinewidth,l.linewidth=r.linewidth,!0===i.isPointLight&&!0===l.isMeshDistanceMaterial&&(l.referencePosition.setFromMatrixPosition(i.matrixWorld),l.nearDistance=a,l.farDistance=o),l}function _(n,i,a,o,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===yd)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var l=t.update(n),c=n.material;if(Array.isArray(c))for(var u=l.groups,d=0,h=u.length;d<h;d++){var f=u[d],p=c[f.materialIndex];if(p&&p.visible){var v=b(n,l,p,o,a.near,a.far,s);e.renderBufferDirect(a,null,l,v,n,f)}}else if(c.visible){var m=b(n,l,c,o,a.near,a.far,s);e.renderBufferDirect(a,null,l,m,n,null)}}for(var g=n.children,y=0,x=g.length;y<x;y++)_(g[y],i,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=md,this.render=function(t,s,l){if(!1!==v.enabled&&(!1!==v.autoUpdate||!1!==v.needsUpdate)&&0!==t.length){var c=e.getRenderTarget(),u=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),h=e.state;h.setBlending(wd),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(var f=0,p=t.length;f<p;f++){var g=t[f],y=g.shadow;if(void 0!==y){if(!1!==y.autoUpdate||!1!==y.needsUpdate){i.copy(y.mapSize);var b=y.getFrameExtents();if(i.multiply(b),a.copy(y.mapSize),(i.x>n||i.y>n)&&(i.x>n&&(a.x=Math.floor(n/b.x),i.x=a.x*b.x,y.mapSize.x=a.x),i.y>n&&(a.y=Math.floor(n/b.y),i.y=a.y*b.y,y.mapSize.y=a.y)),null===y.map&&!y.isPointLightShadow&&this.type===yd){var x={minFilter:bh,magFilter:bh,format:Nh};y.map=new bp(i.x,i.y,x),y.map.texture.name=g.name+".shadowMap",y.mapPass=new bp(i.x,i.y,x),y.camera.updateProjectionMatrix()}if(null===y.map){var w={minFilter:mh,magFilter:mh,format:Nh};y.map=new bp(i.x,i.y,w),y.map.texture.name=g.name+".shadowMap",y.camera.updateProjectionMatrix()}e.setRenderTarget(y.map),e.clear();for(var S=y.getViewportCount(),k=0;k<S;k++){var E=y.getViewport(k);o.set(a.x*E.x,a.y*E.y,a.x*E.z,a.y*E.w),h.viewport(o),y.updateMatrices(g,k),r=y.getFrustum(),_(s,l,y.camera,g,this.type)}y.isPointLightShadow||this.type!==yd||m(y,l),y.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}v.needsUpdate=!1,e.setRenderTarget(c,u,d)}}}function eb(e,t,n){var r,i,a=n.isWebGL2;var o=new function(){var t=!1,n=new yp,r=null,i=new yp(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},s=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?I(2929):N(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case Wd:e.depthFunc(512);break;case Vd:e.depthFunc(519);break;case qd:e.depthFunc(513);break;case Xd:e.depthFunc(515);break;case Yd:e.depthFunc(514);break;case Kd:e.depthFunc(518);break;case Jd:e.depthFunc(516);break;case Zd:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},l=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,c=null;return{setTest:function(e){t||(e?I(2960):N(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,c=null}}},c={},u=null,d=null,h=null,f=null,p=null,v=null,m=null,g=null,y=null,b=!1,_=null,x=null,w=null,S=null,k=null,E=e.getParameter(35661),M=!1,T=0,P=e.getParameter(7938);-1!==P.indexOf("WebGL")?(T=parseFloat(/^WebGL (\d)/.exec(P)[1]),M=T>=1):-1!==P.indexOf("OpenGL ES")&&(T=parseFloat(/^OpenGL ES (\d)/.exec(P)[1]),M=T>=2);var A=null,C={},R=new yp,O=new yp;function L(t,n,r){var i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,i);return a}var F={};function I(t){!0!==c[t]&&(e.enable(t),c[t]=!0)}function N(t){!1!==c[t]&&(e.disable(t),c[t]=!1)}F[3553]=L(3553,3553,1),F[34067]=L(34067,34069,6),o.setClear(0,0,0,1),s.setClear(1),l.setClear(0),I(2929),s.setFunc(Xd),B(!1),U(pd),I(2884),H(wd);var D=(Et(r={},Pd,32774),Et(r,Ad,32778),Et(r,Cd,32779),r);if(a)D[Rd]=32775,D[Od]=32776;else{var j=t.get("EXT_blend_minmax");null!==j&&(D[Rd]=j.MIN_EXT,D[Od]=j.MAX_EXT)}var z=(Et(i={},Ld,0),Et(i,Fd,1),Et(i,Id,768),Et(i,Dd,770),Et(i,Gd,776),Et(i,Bd,774),Et(i,zd,772),Et(i,Nd,769),Et(i,jd,771),Et(i,Ud,775),Et(i,Hd,773),i);function H(t,n,r,i,a,o,s,l){if(t!==wd){if(d||(I(3042),d=!0),t===Td)a=a||n,o=o||r,s=s||i,n===f&&a===m||(e.blendEquationSeparate(D[n],D[a]),f=n,m=a),r===p&&i===v&&o===g&&s===y||(e.blendFuncSeparate(z[r],z[i],z[o],z[s]),p=r,v=i,g=o,y=s),h=t,b=null;else if(t!==h||l!==b){if(f===Pd&&m===Pd||(e.blendEquation(32774),f=Pd,m=Pd),l)switch(t){case Sd:e.blendFuncSeparate(1,771,1,771);break;case kd:e.blendFunc(1,1);break;case Ed:e.blendFuncSeparate(0,0,769,771);break;case Md:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case Sd:e.blendFuncSeparate(770,771,1,771);break;case kd:e.blendFunc(770,1);break;case Ed:e.blendFunc(0,769);break;case Md:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}p=null,v=null,g=null,y=null,h=t,b=l}}else d&&(N(3042),d=!1)}function B(t){_!==t&&(t?e.frontFace(2304):e.frontFace(2305),_=t)}function U(t){t!==fd?(I(2884),t!==x&&(t===pd?e.cullFace(1029):t===vd?e.cullFace(1028):e.cullFace(1032))):N(2884),x=t}function G(t,n,r){t?(I(32823),S===n&&k===r||(e.polygonOffset(n,r),S=n,k=r)):N(32823)}function W(t){void 0===t&&(t=33984+E-1),A!==t&&(e.activeTexture(t),A=t)}return{buffers:{color:o,depth:s,stencil:l},enable:I,disable:N,useProgram:function(t){return u!==t&&(e.useProgram(t),u=t,!0)},setBlending:H,setMaterial:function(e,t){e.side===xd?N(2884):I(2884);var n=e.side===_d;t&&(n=!n),B(n),e.blending===Sd&&!1===e.transparent?H(wd):H(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),s.setFunc(e.depthFunc),s.setTest(e.depthTest),s.setMask(e.depthWrite),o.setMask(e.colorWrite);var r=e.stencilWrite;l.setTest(r),r&&(l.setMask(e.stencilWriteMask),l.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),l.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),G(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:B,setCullFace:U,setLineWidth:function(t){t!==w&&(M&&e.lineWidth(t),w=t)},setPolygonOffset:G,setScissorTest:function(e){e?I(3089):N(3089)},activeTexture:W,bindTexture:function(t,n){null===A&&W();var r=C[A];void 0===r&&(r={type:void 0,texture:void 0},C[A]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||F[t]),r.type=t,r.texture=n)},unbindTexture:function(){var t=C[A];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===R.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),R.copy(t))},viewport:function(t){!1===O.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),O.copy(t))},reset:function(){c={},A=null,C={},u=null,d=null,h=null,f=null,p=null,v=null,m=null,g=null,y=null,b=!1,_=null,x=null,w=null,S=null,k=null,o.reset(),s.reset(),l.reset()}}}function tb(e,t,n,r,i,a,o){var s,l,c,u=i.isWebGL2,d=i.maxTextures,h=i.maxCubemapSize,f=i.maxTextureSize,p=i.maxSamples,v=new WeakMap,m=!1;try{m="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(H){}function g(e,t){return m?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function y(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?dp.floorPowerOfTwo:Math.floor,o=a(i*e.width),s=a(i*e.height);void 0===c&&(c=g(o,s));var l=n?g(o,s):c;return l.width=o,l.height=s,l.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),l}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function b(e){return dp.isPowerOfTwo(e.width)&&dp.isPowerOfTwo(e.height)}function _(e,t){return e.generateMipmaps&&t&&e.minFilter!==mh&&e.minFilter!==bh}function x(t,n,i,a){e.generateMipmap(t),r.get(n).__maxMipLevel=Math.log(Math.max(i,a))*Math.LOG2E}function w(n,r,i){if(!1===u)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var a=r;return 6403===r&&(5126===i&&(a=33326),5131===i&&(a=33325),5121===i&&(a=33321)),6407===r&&(5126===i&&(a=34837),5131===i&&(a=34843),5121===i&&(a=32849)),6408===r&&(5126===i&&(a=34836),5131===i&&(a=34842),5121===i&&(a=32856)),33325!==a&&33326!==a&&34842!==a&&34836!==a||t.get("EXT_color_buffer_float"),a}function S(e){return e===mh||e===gh||e===yh?9728:9729}function k(t){var n=t.target;n.removeEventListener("dispose",k),function(t){var n=r.get(t);if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture),r.remove(t)}(n),n.isVideoTexture&&v.delete(n),o.memory.textures--}function E(t){var n=t.target;n.removeEventListener("dispose",E),function(t){var n=r.get(t),i=r.get(t.texture);if(!t)return;void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var a=0;a<6;a++)e.deleteFramebuffer(n.__webglFramebuffer[a]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[a]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&e.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer);r.remove(t.texture),r.remove(t)}(n),o.memory.textures--}var M=0;function T(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=o.render.frame;v.get(e)!==t&&(v.set(e,t),e.update())}(e),e.version>0&&i.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void L(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function P(t,i){var o=r.get(t);t.version>0&&o.__version!==t.version?function(t,r,i){if(6!==r.image.length)return;O(t,r),n.activeTexture(33984+i),n.bindTexture(34067,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment);for(var o=r&&(r.isCompressedTexture||r.image[0].isCompressedTexture),s=r.image[0]&&r.image[0].isDataTexture,l=[],c=0;c<6;c++)l[c]=o||s?s?r.image[c].image:r.image[c]:y(r.image[c],!1,!0,h);var d,f=l[0],p=b(f)||u,v=a.convert(r.format),m=a.convert(r.type),g=w(r.internalFormat,v,m);if(R(34067,r,p),o){for(var S=0;S<6;S++){d=l[S].mipmaps;for(var k=0;k<d.length;k++){var E=d[k];r.format!==Nh&&r.format!==Ih?null!==v?n.compressedTexImage2D(34069+S,k,g,E.width,E.height,0,E.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+S,k,g,E.width,E.height,0,v,m,E.data)}}t.__maxMipLevel=d.length-1}else{d=r.mipmaps;for(var M=0;M<6;M++)if(s){n.texImage2D(34069+M,0,g,l[M].width,l[M].height,0,v,m,l[M].data);for(var T=0;T<d.length;T++){var P=d[T].image[M].image;n.texImage2D(34069+M,T+1,g,P.width,P.height,0,v,m,P.data)}}else{n.texImage2D(34069+M,0,g,v,m,l[M]);for(var A=0;A<d.length;A++){var C=d[A];n.texImage2D(34069+M,A+1,g,v,m,C.image[M])}}t.__maxMipLevel=d.length}_(r,p)&&x(34067,r,f.width,f.height);t.__version=r.version,r.onUpdate&&r.onUpdate(r)}(o,t,i):(n.activeTexture(33984+i),n.bindTexture(34067,o.__webglTexture))}var A=(Et(s={},fh,10497),Et(s,ph,33071),Et(s,vh,33648),s),C=(Et(l={},mh,9728),Et(l,gh,9984),Et(l,yh,9986),Et(l,bh,9729),Et(l,_h,9985),Et(l,xh,9987),l);function R(n,a,o){o?(e.texParameteri(n,10242,A[a.wrapS]),e.texParameteri(n,10243,A[a.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,A[a.wrapR]),e.texParameteri(n,10240,C[a.magFilter]),e.texParameteri(n,10241,C[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS===ph&&a.wrapT===ph||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,S(a.magFilter)),e.texParameteri(n,10241,S(a.minFilter)),a.minFilter!==mh&&a.minFilter!==bh&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var s=t.get("EXT_texture_filter_anisotropic");if(s){if(a.type===Ph&&null===t.get("OES_texture_float_linear"))return;if(a.type===Ah&&null===(u||t.get("OES_texture_half_float_linear")))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function O(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",k),t.__webglTexture=e.createTexture(),o.memory.textures++)}function L(t,r,i){var o=3553;r.isDataTexture2DArray&&(o=35866),r.isDataTexture3D&&(o=32879),O(t,r),n.activeTexture(33984+i),n.bindTexture(o,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment);var s,l=function(e){return!u&&(e.wrapS!==ph||e.wrapT!==ph||e.minFilter!==mh&&e.minFilter!==bh)}(r)&&!1===b(r.image),c=y(r.image,l,!1,f),d=b(c)||u,h=a.convert(r.format),p=a.convert(r.type),v=w(r.internalFormat,h,p);R(o,r,d);var m=r.mipmaps;if(r.isDepthTexture)v=6402,u?v=r.type===Ph?36012:r.type===Th?33190:r.type===Lh?35056:33189:r.type===Ph&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===zh&&6402===v&&r.type!==Eh&&r.type!==Th&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=Eh,p=a.convert(r.type)),r.format===Hh&&6402===v&&(v=34041,r.type!==Lh&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Lh,p=a.convert(r.type))),n.texImage2D(3553,0,v,c.width,c.height,0,h,p,null);else if(r.isDataTexture)if(m.length>0&&d){for(var g=0,S=m.length;g<S;g++)s=m[g],n.texImage2D(3553,g,v,s.width,s.height,0,h,p,s.data);r.generateMipmaps=!1,t.__maxMipLevel=m.length-1}else n.texImage2D(3553,0,v,c.width,c.height,0,h,p,c.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(var k=0,E=m.length;k<E;k++)s=m[k],r.format!==Nh&&r.format!==Ih?null!==h?n.compressedTexImage2D(3553,k,v,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,k,v,s.width,s.height,0,h,p,s.data);t.__maxMipLevel=m.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,v,c.width,c.height,c.depth,0,h,p,c.data),t.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,v,c.width,c.height,c.depth,0,h,p,c.data),t.__maxMipLevel=0;else if(m.length>0&&d){for(var M=0,T=m.length;M<T;M++)s=m[M],n.texImage2D(3553,M,v,h,p,s);r.generateMipmaps=!1,t.__maxMipLevel=m.length-1}else n.texImage2D(3553,0,v,h,p,c),t.__maxMipLevel=0;_(r,d)&&x(o,r,c.width,c.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function F(t,i,o,s){var l=a.convert(i.texture.format),c=a.convert(i.texture.type),u=w(i.texture.internalFormat,l,c);n.texImage2D(s,0,u,i.width,i.height,0,l,c,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function I(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var i=33189;if(r){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===Ph?i=36012:o.type===Th&&(i=33190));var s=D(n);e.renderbufferStorageMultisample(36161,s,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){var l=D(n);e.renderbufferStorageMultisample(36161,l,35056,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var c=a.convert(n.texture.format),u=a.convert(n.texture.type),d=w(n.texture.internalFormat,c,u);if(r){var h=D(n);e.renderbufferStorageMultisample(36161,h,d,n.width,n.height)}else e.renderbufferStorage(36161,d,n.width,n.height)}e.bindRenderbuffer(36161,null)}function N(t){var n=r.get(t),i=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),T(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===zh)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(n.depthTexture.format!==Hh)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var a=0;a<6;a++)e.bindFramebuffer(36160,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=e.createRenderbuffer(),I(n.__webglDepthbuffer[a],t,!1)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),I(n.__webglDepthbuffer,t,!1);e.bindFramebuffer(36160,null)}function D(e){return u&&e.isWebGLMultisampleRenderTarget?Math.min(p,e.samples):0}var j=!1,z=!1;this.allocateTextureUnit=function(){var e=M;return e>=d&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+d),M+=1,e},this.resetTextureUnits=function(){M=0},this.setTexture2D=T,this.setTexture2DArray=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?L(i,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?L(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=P,this.setupRenderTarget=function(t){var i=r.get(t),s=r.get(t.texture);t.addEventListener("dispose",E),s.__webglTexture=e.createTexture(),o.memory.textures++;var l=!0===t.isWebGLCubeRenderTarget,c=!0===t.isWebGLMultisampleRenderTarget,d=b(t)||u;if(!u||t.texture.format!==Ih||t.texture.type!==Ph&&t.texture.type!==Ah||(t.texture.format=Nh,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),l){i.__webglFramebuffer=[];for(var h=0;h<6;h++)i.__webglFramebuffer[h]=e.createFramebuffer()}else if(i.__webglFramebuffer=e.createFramebuffer(),c)if(u){i.__webglMultisampledFramebuffer=e.createFramebuffer(),i.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,i.__webglColorRenderbuffer);var f=a.convert(t.texture.format),p=a.convert(t.texture.type),v=w(t.texture.internalFormat,f,p),m=D(t);e.renderbufferStorageMultisample(36161,m,v,t.width,t.height),e.bindFramebuffer(36160,i.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,i.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(i.__webglDepthRenderbuffer=e.createRenderbuffer(),I(i.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(l){n.bindTexture(34067,s.__webglTexture),R(34067,t.texture,d);for(var g=0;g<6;g++)F(i.__webglFramebuffer[g],t,36064,34069+g);_(t.texture,d)&&x(34067,t.texture,t.width,t.height),n.bindTexture(34067,null)}else n.bindTexture(3553,s.__webglTexture),R(3553,t.texture,d),F(i.__webglFramebuffer,t,36064,3553),_(t.texture,d)&&x(3553,t.texture,t.width,t.height),n.bindTexture(3553,null);t.depthBuffer&&N(t)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(_(t,b(e)||u)){var i=e.isWebGLCubeRenderTarget?34067:3553,a=r.get(t).__webglTexture;n.bindTexture(i,a),x(i,t,e.width,e.height),n.bindTexture(i,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(u){var n=r.get(t);e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer);var i=t.width,a=t.height,o=16384;t.depthBuffer&&(o|=256),t.stencilBuffer&&(o|=1024),e.blitFramebuffer(0,0,i,a,0,0,i,a,o,9728),e.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===j&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),j=!0),e=e.texture),T(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===z&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),z=!0),e=e.texture),P(e,t)}}function nb(e,t,n){var r=n.isWebGL2;return{convert:function(e){var n;if(e===wh)return 5121;if(e===Ch)return 32819;if(e===Rh)return 32820;if(e===Oh)return 33635;if(e===Sh)return 5120;if(e===kh)return 5122;if(e===Eh)return 5123;if(e===Mh)return 5124;if(e===Th)return 5125;if(e===Ph)return 5126;if(e===Ah)return r?5131:null!==(n=t.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(e===Fh)return 6406;if(e===Ih)return 6407;if(e===Nh)return 6408;if(e===Dh)return 6409;if(e===jh)return 6410;if(e===zh)return 6402;if(e===Hh)return 34041;if(e===Bh)return 6403;if(e===Uh)return 36244;if(e===Gh)return 33319;if(e===Wh)return 33320;if(e===Vh)return 36248;if(e===qh)return 36249;if(e===Xh||e===Yh||e===Kh||e===Jh){if(null===(n=t.get("WEBGL_compressed_texture_s3tc")))return null;if(e===Xh)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Yh)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===Kh)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===Jh)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===Zh||e===Qh||e===$h||e===ef){if(null===(n=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===Zh)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===Qh)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===$h)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===ef)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===tf)return null!==(n=t.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((e===nf||e===rf)&&null!==(n=t.get("WEBGL_compressed_texture_etc"))){if(e===nf)return n.COMPRESSED_RGB8_ETC2;if(e===rf)return n.COMPRESSED_RGBA8_ETC2_EAC}return e===af||e===of||e===sf||e===lf||e===cf||e===uf||e===df||e===hf||e===ff||e===pf||e===vf||e===mf||e===gf||e===yf||e===_f||e===xf||e===wf||e===Sf||e===kf||e===Ef||e===Mf||e===Tf||e===Pf||e===Af||e===Cf||e===Rf||e===Of||e===Lf?null!==(n=t.get("WEBGL_compressed_texture_astc"))?e:null:e===bf?null!==(n=t.get("EXT_texture_compression_bptc"))?e:null:e===Lh?r?34042:null!==(n=t.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function rb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Wm.call(this),this.cameras=e}function ib(){_v.call(this),this.type="Group"}function ab(){this._targetRay=null,this._grip=null,this._hand=null}function ob(e,t){var n=this,r=null,i=1,a=null,o="local-floor",s=null,l=[],c=new Map,u=new Wm;u.layers.enable(1),u.viewport=new yp;var d=new Wm;d.layers.enable(2),d.viewport=new yp;var h=[u,d],f=new rb;f.layers.enable(1),f.layers.enable(2);var p=null,v=null;function m(e){var t=c.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function g(){c.forEach((function(e,t){e.disconnect(t)})),c.clear(),p=null,v=null,e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),S.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function y(e){for(var t=r.inputSources,n=0;n<l.length;n++)c.set(t[n],l[n]);for(var i=0;i<e.removed.length;i++){var a=e.removed[i],o=c.get(a);o&&(o.dispatchEvent({type:"disconnected",data:a}),c.delete(a))}for(var s=0;s<e.added.length;s++){var u=e.added[s],d=c.get(u);d&&d.dispatchEvent({type:"connected",data:u})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(e){var t=l[e];return void 0===t&&(t=new ab,l[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){var t=l[e];return void 0===t&&(t=new ab,l[e]=t),t.getGripSpace()},this.getHand=function(e){var t=l[e];return void 0===t&&(t=new ab,l[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){o=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getSession=function(){return r},this.setSession=function(){var e,s=(e=ud().mark((function e(s){var l,c,u;return ud().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=s)){e.next=24;break}if(r.addEventListener("select",m),r.addEventListener("selectstart",m),r.addEventListener("selectend",m),r.addEventListener("squeeze",m),r.addEventListener("squeezestart",m),r.addEventListener("squeezeend",m),r.addEventListener("end",g),r.addEventListener("inputsourceschange",y),!0===(l=t.getContextAttributes()).xrCompatible){e.next=14;break}return e.next=14,t.makeXRCompatible();case 14:return c={antialias:l.antialias,alpha:l.alpha,depth:l.depth,stencil:l.stencil,framebufferScaleFactor:i},u=new XRWebGLLayer(r,t,c),r.updateRenderState({baseLayer:u}),e.next=19,r.requestReferenceSpace(o);case 19:a=e.sent,S.setContext(r),S.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"});case 24:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){dd(a,r,i,o,s,"next",e)}function s(e){dd(a,r,i,o,s,"throw",e)}o(void 0)}))});return function(e){return s.apply(this,arguments)}}();var b=new xp,_=new xp;function x(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.getCamera=function(e){f.near=d.near=u.near=e.near,f.far=d.far=u.far=e.far,p===f.near&&v===f.far||(r.updateRenderState({depthNear:f.near,depthFar:f.far}),p=f.near,v=f.far);var t=e.parent,n=f.cameras;x(f,t);for(var i=0;i<n.length;i++)x(n[i],t);e.matrixWorld.copy(f.matrixWorld),e.matrix.copy(f.matrix),e.matrix.decompose(e.position,e.quaternion,e.scale);for(var a=e.children,o=0,s=a.length;o<s;o++)a[o].updateMatrixWorld(!0);return 2===n.length?function(e,t,n){b.setFromMatrixPosition(t.matrixWorld),_.setFromMatrixPosition(n.matrixWorld);var r=b.distanceTo(_),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],d=(a[8]+1)/a[0],h=o*u,f=o*d,p=r/(-u+d),v=p*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(v),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var m=o+p,g=s+p,y=h-v,x=f+(r-v),w=l*s/g*m,S=c*s/g*m;e.projectionMatrix.makePerspective(y,x,w,S,m,g)}(f,u,d):f.projectionMatrix.copy(u.projectionMatrix),f};var w=null;var S=new eg;S.setAnimationLoop((function(t,n){if(null!==(s=n.getViewerPose(a))){var i=s.views,o=r.renderState.baseLayer;e.setFramebuffer(o.framebuffer);var c=!1;i.length!==f.cameras.length&&(f.cameras.length=0,c=!0);for(var u=0;u<i.length;u++){var d=i[u],p=o.getViewport(d),v=h[u];v.matrix.fromArray(d.transform.matrix),v.projectionMatrix.fromArray(d.projectionMatrix),v.viewport.set(p.x,p.y,p.width,p.height),0===u&&f.matrix.copy(v.matrix),!0===c&&f.cameras.push(v)}}for(var m=r.inputSources,g=0;g<l.length;g++){var y=l[g],b=m[g];y.update(b,n,a)}w&&w(t,n)})),this.setAnimationLoop=function(e){w=e},this.dispose=function(){}}function sb(e){function t(t,n){t.opacity.value=n.opacity,n.color&&t.diffuse.value.copy(n.color),n.emissive&&t.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(t.map.value=n.map),n.alphaMap&&(t.alphaMap.value=n.alphaMap),n.specularMap&&(t.specularMap.value=n.specularMap);var r,i,a=e.get(n).envMap;if(a){t.envMap.value=a,t.flipEnvMap.value=a.isCubeTexture&&a._needsFlipEnvMap?-1:1,t.reflectivity.value=n.reflectivity,t.refractionRatio.value=n.refractionRatio;var o=e.get(a).__maxMipLevel;void 0!==o&&(t.maxMipLevel.value=o)}n.lightMap&&(t.lightMap.value=n.lightMap,t.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(t.aoMap.value=n.aoMap,t.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(r=n.clearcoatRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix)),n.aoMap?i=n.aoMap:n.lightMap&&(i=n.lightMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uv2Transform.value.copy(i.matrix))}function n(t,n){t.roughness.value=n.roughness,t.metalness.value=n.metalness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(t.emissiveMap.value=n.emissiveMap),n.bumpMap&&(t.bumpMap.value=n.bumpMap,t.bumpScale.value=n.bumpScale,n.side===_d&&(t.bumpScale.value*=-1)),n.normalMap&&(t.normalMap.value=n.normalMap,t.normalScale.value.copy(n.normalScale),n.side===_d&&t.normalScale.value.negate()),n.displacementMap&&(t.displacementMap.value=n.displacementMap,t.displacementScale.value=n.displacementScale,t.displacementBias.value=n.displacementBias),e.get(n).envMap&&(t.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,r,i,a){r.isMeshBasicMaterial?t(e,r):r.isMeshLambertMaterial?(t(e,r),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(e,r)):r.isMeshToonMaterial?(t(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap);t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===_d&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===_d&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshPhongMaterial?(t(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===_d&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===_d&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshStandardMaterial?(t(e,r),r.isMeshPhysicalMaterial?function(e,t){n(e,t),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen);t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap);t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap);t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===_d&&e.clearcoatNormalScale.value.negate());e.transmission.value=t.transmission,t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap)}(e,r):n(e,r)):r.isMeshMatcapMaterial?(t(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===_d&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===_d&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDepthMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDistanceMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?(t(e,r),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===_d&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===_d&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var i;t.map?i=t.map:t.alphaMap&&(i=t.alphaMap);void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,r,i,a):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function lb(e){var t=void 0!==(e=e||{}).canvas?e.canvas:function(){var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return e.style.display="block",e}(),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",u=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,d=null,h=null,f=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Gf,this.physicallyCorrectLights=!1,this.toneMapping=th,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var p=this,v=!1,m=null,g=0,y=0,b=null,_=null,x=-1,w=null,S=new yp,k=new yp,E=null,M=t.width,T=t.height,P=1,A=null,C=null,R=new yp(0,0,M,T),O=new yp(0,0,M,T),L=!1,F=new $m,I=!1,N=!1,D=new Kp,j=new xp,z={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function H(){return null===b?P:1}var B,U,G,W,V,q,X,Y,K,J,Z,Q,$,ee,te,ne,re,ie,ae,oe,se,le=n;function ce(e,n){for(var r=0;r<e.length;r++){var i=e[r],a=t.getContext(i,n);if(null!==a)return a}return null}try{var ue={alpha:r,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if(t.addEventListener("webglcontextlost",ve,!1),t.addEventListener("webglcontextrestored",me,!1),null===le){var de=["webgl2","webgl","experimental-webgl"];if(!0===p.isWebGL1Renderer&&de.shift(),null===(le=ce(de,ue)))throw ce(de)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===le.getShaderPrecisionFormat&&(le.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Me){throw console.error("THREE.WebGLRenderer: "+Me.message),Me}function he(){B=new hg(le),U=new cg(le,B,e),B.init(U),oe=new nb(le,B,U),(G=new eb(le,B,U)).scissor(k.copy(O).multiplyScalar(P).floor()),G.viewport(S.copy(R).multiplyScalar(P).floor()),W=new vg(le),V=new jy,q=new tb(le,B,G,V,U,oe,W),X=new dg(p),Y=new tg(le,U),se=new sg(le,B,Y,U),K=new fg(le,Y,W,se),J=new bg(le,K,Y,W),re=new yg(le),te=new ug(V),Z=new Dy(p,X,B,U,se,te),Q=new sb(V),$=new Uy(V),ee=new Yy(B,U),ne=new og(p,X,G,J,s),ie=new lg(le,B,W,U),ae=new pg(le,B,W,U),W.programs=Z.programs,p.capabilities=U,p.extensions=B,p.properties=V,p.renderLists=$,p.state=G,p.info=W}he();var fe=new ob(p,le);this.xr=fe;var pe=new $y(p,J,U.maxTextureSize);function ve(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function me(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1,he()}function ge(e){var t=e.target;t.removeEventListener("dispose",ge),function(e){ye(e),V.remove(e)}(t)}function ye(e){var t=V.get(e).program;void 0!==t&&Z.releaseProgram(t)}this.shadowMap=pe,this.getContext=function(){return le},this.getContextAttributes=function(){return le.getContextAttributes()},this.forceContextLoss=function(){var e=B.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=B.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return P},this.setPixelRatio=function(e){void 0!==e&&(P=e,this.setSize(M,T,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new hp),e.set(M,T)},this.setSize=function(e,n,r){fe.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(M=e,T=n,t.width=Math.floor(e*P),t.height=Math.floor(n*P),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new hp),e.set(M*P,T*P).floor()},this.setDrawingBufferSize=function(e,n,r){M=e,T=n,P=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new yp),e.copy(S)},this.getViewport=function(e){return e.copy(R)},this.setViewport=function(e,t,n,r){e.isVector4?R.set(e.x,e.y,e.z,e.w):R.set(e,t,n,r),G.viewport(S.copy(R).multiplyScalar(P).floor())},this.getScissor=function(e){return e.copy(O)},this.setScissor=function(e,t,n,r){e.isVector4?O.set(e.x,e.y,e.z,e.w):O.set(e,t,n,r),G.scissor(k.copy(O).multiplyScalar(P).floor())},this.getScissorTest=function(){return L},this.setScissorTest=function(e){G.setScissorTest(L=e)},this.setOpaqueSort=function(e){A=e},this.setTransparentSort=function(e){C=e},this.getClearColor=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),e=new Uv),e.copy(ne.getClearColor())},this.setClearColor=function(){ne.setClearColor.apply(ne,arguments)},this.getClearAlpha=function(){return ne.getClearAlpha()},this.setClearAlpha=function(){ne.setClearAlpha.apply(ne,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),le.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ve,!1),t.removeEventListener("webglcontextrestored",me,!1),$.dispose(),ee.dispose(),V.dispose(),X.dispose(),J.dispose(),se.dispose(),fe.dispose(),_e.stop()},this.renderBufferImmediate=function(e,t){se.initAttributes();var n=V.get(e);e.hasPositions&&!n.position&&(n.position=le.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=le.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=le.createBuffer()),e.hasColors&&!n.color&&(n.color=le.createBuffer());var r=t.getAttributes();e.hasPositions&&(le.bindBuffer(34962,n.position),le.bufferData(34962,e.positionArray,35048),se.enableAttribute(r.position),le.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(le.bindBuffer(34962,n.normal),le.bufferData(34962,e.normalArray,35048),se.enableAttribute(r.normal),le.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(le.bindBuffer(34962,n.uv),le.bufferData(34962,e.uvArray,35048),se.enableAttribute(r.uv),le.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(le.bindBuffer(34962,n.color),le.bufferData(34962,e.colorArray,35048),se.enableAttribute(r.color),le.vertexAttribPointer(r.color,3,5126,!1,0,0)),se.disableUnusedAttributes(),le.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=z);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=Ee(e,t,r,i);G.setMaterial(r,o);var l=n.index,c=n.attributes.position;if(null===l){if(void 0===c||0===c.count)return}else if(0===l.count)return;var u,d=1;!0===r.wireframe&&(l=K.getWireframeAttribute(n),d=2),(r.morphTargets||r.morphNormals)&&re.update(i,n,r,s),se.setup(i,r,s,n,l);var h=ie;null!==l&&(u=Y.get(l),(h=ae).setIndex(u));var f=null!==l?l.count:c.count,p=n.drawRange.start*d,v=n.drawRange.count*d,m=null!==a?a.start*d:0,g=null!==a?a.count*d:1/0,y=Math.max(p,m),b=Math.min(f,p+v,m+g)-1,_=Math.max(0,b-y+1);if(0!==_){if(i.isMesh)!0===r.wireframe?(G.setLineWidth(r.wireframeLinewidth*H()),h.setMode(1)):h.setMode(4);else if(i.isLine){var x=r.linewidth;void 0===x&&(x=1),G.setLineWidth(x*H()),i.isLineSegments?h.setMode(1):i.isLineLoop?h.setMode(2):h.setMode(3)}else i.isPoints?h.setMode(0):i.isSprite&&h.setMode(4);if(i.isInstancedMesh)h.renderInstances(y,_,i.count);else if(n.isInstancedBufferGeometry){var w=Math.min(n.instanceCount,n._maxInstanceCount);h.renderInstances(y,_,w)}else h.render(y,_)}},this.compile=function(e,t){(h=ee.get(e)).init(),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(h.pushLight(e),e.castShadow&&h.pushShadow(e))})),h.setupLights();var n=new WeakMap;e.traverse((function(t){var r=t.material;if(r)if(Array.isArray(r))for(var i=0;i<r.length;i++){var a=r[i];!1===n.has(a)&&(ke(a,e,t),n.set(a))}else!1===n.has(r)&&(ke(r,e,t),n.set(r))}))};var be=null;var _e=new eg;function xe(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)h.pushLight(e),e.castShadow&&h.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||F.intersectsSprite(e)){r&&j.setFromMatrixPosition(e.matrixWorld).applyMatrix4(D);var i=J.update(e),a=e.material;a.visible&&d.push(e,i,a,n,j.z,null)}}else if(e.isImmediateRenderObject)r&&j.setFromMatrixPosition(e.matrixWorld).applyMatrix4(D),d.push(e,null,e.material,n,j.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==W.render.frame&&(e.skeleton.update(),e.skeleton.frame=W.render.frame),!e.frustumCulled||F.intersectsObject(e))){r&&j.setFromMatrixPosition(e.matrixWorld).applyMatrix4(D);var o=J.update(e),s=e.material;if(Array.isArray(s))for(var l=o.groups,c=0,u=l.length;c<u;c++){var f=l[c],p=s[f.materialIndex];p&&p.visible&&d.push(e,o,p,n,j.z,f)}else s.visible&&d.push(e,o,s,n,j.z,null)}for(var v=e.children,m=0,g=v.length;m<g;m++)xe(v[m],t,n,r)}}function we(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,l=o.geometry,c=null===r?o.material:r,u=o.group;if(n.isArrayCamera)for(var d=n.cameras,f=0,p=d.length;f<p;f++){var v=d[f];s.layers.test(v.layers)&&(G.viewport(S.copy(v.viewport)),h.setupLightsView(v),Se(s,t,v,l,c,u))}else Se(s,t,n,l,c,u)}}function Se(e,t,n,r,i,a){if(e.onBeforeRender(p,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var o=Ee(n,t,i,e);G.setMaterial(i),se.reset(),function(e,t){e.render((function(e){p.renderBufferImmediate(e,t)}))}(e,o)}else p.renderBufferDirect(n,t,r,i,e,a);e.onAfterRender(p,t,n,r,i,a)}function ke(e,t,n){!0!==t.isScene&&(t=z);var r=V.get(e),i=h.state.lights,a=h.state.shadowsArray,o=i.state.version,s=Z.getParameters(e,i.state,a,t,n),l=Z.getProgramCacheKey(s),c=r.program,u=!0;if(r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=X.get(e.envMap||r.environment),void 0===c)e.addEventListener("dispose",ge);else if(c.cacheKey!==l)ye(e);else if(r.lightsStateVersion!==o)u=!1;else{if(void 0!==s.shaderID)return;u=!1}u&&(s.uniforms=Z.getUniforms(e),e.onBeforeCompile(s,p),c=Z.acquireProgram(s,l),r.program=c,r.uniforms=s.uniforms,r.outputEncoding=s.outputEncoding);var d=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=te.numPlanes,r.numIntersection=te.numIntersection,d.clippingPlanes=te.uniform),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(d.ambientLightColor.value=i.state.ambient,d.lightProbe.value=i.state.probe,d.directionalLights.value=i.state.directional,d.directionalLightShadows.value=i.state.directionalShadow,d.spotLights.value=i.state.spot,d.spotLightShadows.value=i.state.spotShadow,d.rectAreaLights.value=i.state.rectArea,d.ltc_1.value=i.state.rectAreaLTC1,d.ltc_2.value=i.state.rectAreaLTC2,d.pointLights.value=i.state.point,d.pointLightShadows.value=i.state.pointShadow,d.hemisphereLights.value=i.state.hemi,d.directionalShadowMap.value=i.state.directionalShadowMap,d.directionalShadowMatrix.value=i.state.directionalShadowMatrix,d.spotShadowMap.value=i.state.spotShadowMap,d.spotShadowMatrix.value=i.state.spotShadowMatrix,d.pointShadowMap.value=i.state.pointShadowMap,d.pointShadowMatrix.value=i.state.pointShadowMatrix);var f=r.program.getUniforms(),v=my.seqWithValue(f.seq,d);r.uniformsList=v}function Ee(e,t,n,r){!0!==t.isScene&&(t=z),q.resetTextureUnits();var i=t.fog,a=n.isMeshStandardMaterial?t.environment:null,o=null===b?p.outputEncoding:b.texture.encoding,s=X.get(n.envMap||a),l=V.get(n),c=h.state.lights;if(!0===I&&(!0===N||e!==w)){var u=e===w&&n.id===x;te.setState(n,e,u)}n.version===l.__version?n.fog&&l.fog!==i||l.environment!==a||l.needsLights&&l.lightsStateVersion!==c.state.version?ke(n,t,r):void 0===l.numClippingPlanes||l.numClippingPlanes===te.numPlanes&&l.numIntersection===te.numIntersection?(l.outputEncoding!==o||l.envMap!==s)&&ke(n,t,r):ke(n,t,r):(ke(n,t,r),l.__version=n.version);var d=!1,f=!1,v=!1,m=l.program,g=m.getUniforms(),y=l.uniforms;if(G.useProgram(m.program)&&(d=!0,f=!0,v=!0),n.id!==x&&(x=n.id,f=!0),d||w!==e){if(g.setValue(le,"projectionMatrix",e.projectionMatrix),U.logarithmicDepthBuffer&&g.setValue(le,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),w!==e&&(w=e,f=!0,v=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){var _=g.map.cameraPosition;void 0!==_&&_.setValue(le,j.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&g.setValue(le,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&g.setValue(le,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){g.setOptional(le,r,"bindMatrix"),g.setOptional(le,r,"bindMatrixInverse");var S=r.skeleton;if(S){var k=S.bones;if(U.floatVertexTextures){if(null===S.boneTexture){var E=Math.sqrt(4*k.length);E=dp.ceilPowerOfTwo(E),E=Math.max(E,4);var M=new Float32Array(E*E*4);M.set(S.boneMatrices);var A=new Jm(M,E,E,Nh,Ph);S.boneMatrices=M,S.boneTexture=A,S.boneTextureSize=E}g.setValue(le,"boneTexture",S.boneTexture,q),g.setValue(le,"boneTextureSize",S.boneTextureSize)}else g.setOptional(le,S,"boneMatrices")}}return(f||l.receiveShadow!==r.receiveShadow)&&(l.receiveShadow=r.receiveShadow,g.setValue(le,"receiveShadow",r.receiveShadow)),f&&(g.setValue(le,"toneMappingExposure",p.toneMappingExposure),l.needsLights&&function(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}(y,v),i&&n.fog&&Q.refreshFogUniforms(y,i),Q.refreshMaterialUniforms(y,n,P,T),my.upload(le,l.uniformsList,y,q)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(my.upload(le,l.uniformsList,y,q),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&g.setValue(le,"center",r.center),g.setValue(le,"modelViewMatrix",r.modelViewMatrix),g.setValue(le,"normalMatrix",r.normalMatrix),g.setValue(le,"modelMatrix",r.matrixWorld),m}_e.setAnimationLoop((function(e){fe.isPresenting||be&&be(e)})),"undefined"!==typeof window&&_e.setContext(window),this.setAnimationLoop=function(e){be=e,fe.setAnimationLoop(e),null===e?_e.stop():_e.start()},this.render=function(e,t){var n,r;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),r=arguments[3]),void 0===t||!0===t.isCamera){if(!0!==v){se.resetDefaultState(),x=-1,w=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===fe.enabled&&!0===fe.isPresenting&&(t=fe.getCamera(t)),!0===e.isScene&&e.onBeforeRender(p,e,t,n||b),(h=ee.get(e,f.length)).init(),f.push(h),D.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),F.setFromProjectionMatrix(D),N=this.localClippingEnabled,I=te.init(this.clippingPlanes,N,t),(d=$.get(e,t)).init(),xe(e,t,0,p.sortObjects),d.finish(),!0===p.sortObjects&&d.sort(A,C),!0===I&&te.beginShadows();var i=h.state.shadowsArray;pe.render(i,e,t),h.setupLights(),h.setupLightsView(t),!0===I&&te.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),ne.render(d,e,t,r);var a=d.opaque,o=d.transparent;a.length>0&&we(a,e,t),o.length>0&&we(o,e,t),!0===e.isScene&&e.onAfterRender(p,e,t),null!==b&&(q.updateRenderTargetMipmap(b),q.updateMultisampleRenderTarget(b)),G.buffers.depth.setTest(!0),G.buffers.depth.setMask(!0),G.buffers.color.setMask(!0),G.setPolygonOffset(!1),f.pop(),h=f.length>0?f[f.length-1]:null,d=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(e){m!==e&&null===b&&le.bindFramebuffer(36160,e),m=e},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return y},this.getRenderList=function(){return d},this.setRenderList=function(e){d=e},this.getRenderTarget=function(){return b},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;b=e,g=t,y=n,e&&void 0===V.get(e).__webglFramebuffer&&q.setupRenderTarget(e);var r=m,i=!1;if(e){var a=V.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=a[t],i=!0):r=e.isWebGLMultisampleRenderTarget?V.get(e).__webglMultisampledFramebuffer:a,S.copy(e.viewport),k.copy(e.scissor),E=e.scissorTest}else S.copy(R).multiplyScalar(P).floor(),k.copy(O).multiplyScalar(P).floor(),E=L;if(_!==r&&(le.bindFramebuffer(36160,r),_=r),G.viewport(S),G.scissor(k),G.setScissorTest(E),i){var o=V.get(e.texture);le.framebufferTexture2D(36160,36064,34069+t,o.__webglTexture,n)}},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var s=V.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){var l=!1;s!==_&&(le.bindFramebuffer(36160,s),l=!0);try{var c=e.texture,u=c.format,d=c.type;if(u!==Nh&&oe.convert(u)!==le.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var h=d===Ah&&(B.has("EXT_color_buffer_half_float")||U.isWebGL2&&B.has("EXT_color_buffer_float"));if(d!==wh&&oe.convert(d)!==le.getParameter(35738)&&(d!==Ph||!(U.isWebGL2||B.has("OES_texture_float")||B.has("WEBGL_color_buffer_float")))&&!h)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===le.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&le.readPixels(t,n,r,i,oe.convert(u),oe.convert(d),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{l&&le.bindFramebuffer(36160,_)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r),o=oe.convert(t.format);q.setTexture2D(t,0),le.copyTexImage2D(3553,n,o,e.x,e.y,i,a,0),G.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,a=t.image.height,o=oe.convert(n.format),s=oe.convert(n.type);q.setTexture2D(n,0),le.pixelStorei(37440,n.flipY),le.pixelStorei(37441,n.premultiplyAlpha),le.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?le.texSubImage2D(3553,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?le.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):le.texSubImage2D(3553,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&le.generateMipmap(3553),G.unbindTexture()},this.initTexture=function(e){q.setTexture2D(e,0),G.unbindTexture()},this.resetState=function(){G.reset(),se.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function cb(e){lb.call(this,e)}rb.prototype=Object.assign(Object.create(Wm.prototype),{constructor:rb,isArrayCamera:!0}),ib.prototype=Object.assign(Object.create(_v.prototype),{constructor:ib,isGroup:!0}),Object.assign(ab.prototype,{constructor:ab,getHandSpace:function(){return null===this._hand&&(this._hand=new ib,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new ib,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new ib,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(e,t,n){var r=null,i=null,a=null,o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(l&&e.hand){a=!0;var c,u=hd(e.hand.values());try{for(u.s();!(c=u.n()).done;){var d=c.value,h=t.getJointPose(d,n);if(void 0===l.joints[d.jointName]){var f=new ib;f.matrixAutoUpdate=!1,f.visible=!1,l.joints[d.jointName]=f,l.add(f)}var p=l.joints[d.jointName];null!==h&&(p.matrix.fromArray(h.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.jointRadius=h.radius),p.visible=null!==h}}catch(y){u.e(y)}finally{u.f()}var v=l.joints["index-finger-tip"],m=l.joints["thumb-tip"],g=v.position.distanceTo(m.position);l.inputState.pinching&&g>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&g<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==o&&null!==(r=t.getPose(e.targetRaySpace,n))&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale)),null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale));return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==a),this}}),Object.assign(ob.prototype,op.prototype),cb.prototype=Object.assign(Object.create(lb.prototype),{constructor:cb,isWebGL1Renderer:!0});var ub=function(e){Wl(n,e);var t=Xl(n);function n(){var e;return Lt(this,n),e=t.call(this),Object.defineProperty(yr(e),"isScene",{value:!0}),e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.overrideMaterial=null,e.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:yr(e)})),e}return It(n,[{key:"copy",value:function(e,t){return Gl(Ul(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=Gl(Ul(n.prototype),"toJSON",this).call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}]),n}(_v);function db(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=rp,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=dp.generateUUID()}Object.defineProperty(db.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(db.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this},clone:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=dp.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new db(new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),this.stride);return t.setUsage(this.usage),t},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=dp.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});var hb,fb=new xp;function pb(e,t,n,r){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function vb(e){Vv.call(this),this.type="SpriteMaterial",this.color=new Uv(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Object.defineProperties(pb.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(e){this.data.needsUpdate=e}}}),Object.assign(pb.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(var t=0,n=this.data.count;t<n;t++)fb.x=this.getX(t),fb.y=this.getY(t),fb.z=this.getZ(t),fb.applyMatrix4(e),this.setXYZ(t,fb.x,fb.y,fb.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this},clone:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return new Kv(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new pb(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),vb.prototype=Object.create(Vv.prototype),vb.prototype.constructor=vb,vb.prototype.isSpriteMaterial=!0,vb.prototype.copy=function(e){return Vv.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var mb=new xp,gb=new xp,yb=new xp,bb=new hp,_b=new hp,xb=new Kp,wb=new xp,Sb=new xp,kb=new xp,Eb=new hp,Mb=new hp,Tb=new hp;function Pb(e){if(_v.call(this),this.type="Sprite",void 0===hb){hb=new mm;var t=new db(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);hb.setIndex([0,1,2,0,2,3]),hb.setAttribute("position",new pb(t,3,0,!1)),hb.setAttribute("uv",new pb(t,2,3,!1))}this.geometry=hb,this.material=void 0!==e?e:new vb,this.center=new hp(.5,.5)}function Ab(e,t,n,r,i,a){bb.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(_b.x=a*bb.x-i*bb.y,_b.y=i*bb.x+a*bb.y):_b.copy(bb),e.copy(t),e.x+=_b.x,e.y+=_b.y,e.applyMatrix4(xb)}Pb.prototype=Object.assign(Object.create(_v.prototype),{constructor:Pb,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),gb.setFromMatrixScale(this.matrixWorld),xb.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),yb.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&gb.multiplyScalar(-yb.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var a=this.center;Ab(wb.set(-.5,-.5,0),yb,a,gb,n,r),Ab(Sb.set(.5,-.5,0),yb,a,gb,n,r),Ab(kb.set(.5,.5,0),yb,a,gb,n,r),Eb.set(0,0),Mb.set(1,0),Tb.set(1,1);var o=e.ray.intersectTriangle(wb,Sb,kb,!1,mb);if(null!==o||(Ab(Sb.set(-.5,.5,0),yb,a,gb,n,r),Mb.set(0,1),null!==(o=e.ray.intersectTriangle(wb,kb,Sb,!1,mb)))){var s=e.ray.origin.distanceTo(mb);s<e.near||s>e.far||t.push({distance:s,point:mb.clone(),uv:Iv.getUV(mb,wb,Sb,kb,Eb,Mb,Tb,new hp),face:null,object:this})}},copy:function(e){return _v.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}});var Cb=new xp,Rb=new xp;function Ob(){_v.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}Ob.prototype=Object.assign(Object.create(_v.prototype),{constructor:Ob,isLOD:!0,copy:function(e){_v.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=Math.abs(t);var n,r=this.levels;for(n=0;n<r.length&&!(t<r[n].distance);n++);return r.splice(n,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){var t=this.levels;if(t.length>0){var n,r;for(n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){Cb.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(Cb);this.getObjectForDistance(n).raycast(e,t)}},update:function(e){var t=this.levels;if(t.length>1){Cb.setFromMatrixPosition(e.matrixWorld),Rb.setFromMatrixPosition(this.matrixWorld);var n,r,i=Cb.distanceTo(Rb)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r&&i>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}},toJSON:function(e){var t=_v.prototype.toJSON.call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var a=n[r];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}});var Lb=new xp,Fb=new yp,Ib=new yp,Nb=new xp,Db=new Kp;function jb(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Fm.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Kp,this.bindMatrixInverse=new Kp}function zb(){_v.call(this),this.type="Bone"}jb.prototype=Object.assign(Object.create(Fm.prototype),{constructor:jb,isSkinnedMesh:!0,copy:function(e){return Fm.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new yp,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Fm.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(e,t){var n=this.skeleton,r=this.geometry;Fb.fromBufferAttribute(r.attributes.skinIndex,e),Ib.fromBufferAttribute(r.attributes.skinWeight,e),Lb.fromBufferAttribute(r.attributes.position,e).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var a=Ib.getComponent(i);if(0!==a){var o=Fb.getComponent(i);Db.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(Nb.copy(Lb).applyMatrix4(Db),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}),zb.prototype=Object.assign(Object.create(_v.prototype),{constructor:zb,isBone:!0});var Hb=new Kp,Bb=new Kp;function Ub(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.uuid=dp.generateUUID(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign(Ub.prototype,{init:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Kp)}},calculateInverses:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new Kp;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}},pose:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,i=this.bones.length;r<i;r++){var a=this.bones[r];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}},update:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:Bb;Hb.multiplyMatrices(o,t[i]),Hb.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)},clone:function(){return new Ub(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}},dispose:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)},fromJSON:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var i=e.bones[n],a=t[i];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),a=new zb),this.bones.push(a),this.boneInverses.push((new Kp).fromArray(e.boneInverses[n]))}return this.init(),this},toJSON:function(){var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,i=t.length;r<i;r++){var a=t[r];e.bones.push(a.uuid);var o=n[r];e.boneInverses.push(o.toArray())}return e}});var Gb=new Kp,Wb=new Kp,Vb=[],qb=new Fm;function Xb(e,t,n){Fm.call(this,e,t),this.instanceMatrix=new Kv(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}function Yb(e){Vv.call(this),this.type="LineBasicMaterial",this.color=new Uv(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}Xb.prototype=Object.assign(Object.create(Fm.prototype),{constructor:Xb,isInstancedMesh:!0,copy:function(e){return Fm.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this},getColorAt:function(e,t){t.fromArray(this.instanceColor.array,3*e)},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){var n=this.matrixWorld,r=this.count;if(qb.geometry=this.geometry,qb.material=this.material,void 0!==qb.material)for(var i=0;i<r;i++){this.getMatrixAt(i,Gb),Wb.multiplyMatrices(n,Gb),qb.matrixWorld=Wb,qb.raycast(e,Vb);for(var a=0,o=Vb.length;a<o;a++){var s=Vb[a];s.instanceId=i,s.object=this,t.push(s)}Vb.length=0}},setColorAt:function(e,t){null===this.instanceColor&&(this.instanceColor=new Kv(new Float32Array(3*this.count),3)),t.toArray(this.instanceColor.array,3*e)},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Yb.prototype=Object.create(Vv.prototype),Yb.prototype.constructor=Yb,Yb.prototype.isLineBasicMaterial=!0,Yb.prototype.copy=function(e){return Vv.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};var Kb=new xp,Jb=new xp,Zb=new Kp,Qb=new Yp,$b=new Hp;function e_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mm,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Yb;_v.call(this),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}e_.prototype=Object.assign(Object.create(_v.prototype),{constructor:e_,isLine:!0,copy:function(e){return _v.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)Kb.fromBufferAttribute(t,r-1),Jb.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Kb.distanceTo(Jb);e.setAttribute("lineDistance",new im(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this},raycast:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),$b.copy(n.boundingSphere),$b.applyMatrix4(r),$b.radius+=i,!1!==e.ray.intersectsSphere($b)){Zb.copy(r).invert(),Qb.copy(e.ray).applyMatrix4(Zb);var a=i/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,s=new xp,l=new xp,c=new xp,u=new xp,d=this.isLineSegments?2:1;if(n.isBufferGeometry){var h=n.index,f=n.attributes.position;if(null!==h)for(var p=h.array,v=0,m=p.length-1;v<m;v+=d){var g=p[v],y=p[v+1];if(s.fromBufferAttribute(f,g),l.fromBufferAttribute(f,y),!(Qb.distanceSqToSegment(s,l,u,c)>o)){u.applyMatrix4(this.matrixWorld);var b=e.ray.origin.distanceTo(u);b<e.near||b>e.far||t.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else for(var _=0,x=f.count-1;_<x;_+=d){if(s.fromBufferAttribute(f,_),l.fromBufferAttribute(f,_+1),!(Qb.distanceSqToSegment(s,l,u,c)>o)){u.applyMatrix4(this.matrixWorld);var w=e.ray.origin.distanceTo(u);w<e.near||w>e.far||t.push({distance:w,point:c.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});var t_=new xp,n_=new xp;function r_(e,t){e_.call(this,e,t),this.type="LineSegments"}function i_(e,t){e_.call(this,e,t),this.type="LineLoop"}function a_(e){Vv.call(this),this.type="PointsMaterial",this.color=new Uv(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}r_.prototype=Object.assign(Object.create(e_.prototype),{constructor:r_,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)t_.fromBufferAttribute(t,r),n_.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+t_.distanceTo(n_);e.setAttribute("lineDistance",new im(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}),i_.prototype=Object.assign(Object.create(e_.prototype),{constructor:i_,isLineLoop:!0}),a_.prototype=Object.create(Vv.prototype),a_.prototype.constructor=a_,a_.prototype.isPointsMaterial=!0,a_.prototype.copy=function(e){return Vv.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var o_=new Kp,s_=new Yp,l_=new Hp,c_=new xp;function u_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mm,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new a_;_v.call(this),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}function d_(e,t,n,r,i,a,o){var s=s_.distanceSqToPoint(e);if(s<n){var l=new xp;s_.closestPointToPoint(e,l),l.applyMatrix4(r);var c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;a.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,object:o})}}function h_(e,t,n,r,i,a,o,s,l){mp.call(this,e,t,n,r,i,a,o,s,l),this.format=void 0!==o?o:Ih,this.minFilter=void 0!==a?a:bh,this.magFilter=void 0!==i?i:bh,this.generateMipmaps=!1;var c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){c.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}function f_(e,t,n,r,i,a,o,s,l,c,u,d){mp.call(this,null,a,o,s,l,c,r,i,u,d),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function p_(e,t,n,r,i,a,o,s,l){mp.call(this,e,t,n,r,i,a,o,s,l),this.needsUpdate=!0}function v_(e,t,n,r,i,a,o,s,l,c){if((c=void 0!==c?c:zh)!==zh&&c!==Hh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===zh&&(n=Eh),void 0===n&&c===Hh&&(n=Lh),mp.call(this,null,r,i,a,o,s,c,n,l),this.image={width:e,height:t},this.magFilter=void 0!==o?o:mh,this.minFilter=void 0!==s?s:mh,this.flipY=!1,this.generateMipmaps=!1}u_.prototype=Object.assign(Object.create(_v.prototype),{constructor:u_,isPoints:!0,copy:function(e){return _v.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),l_.copy(n.boundingSphere),l_.applyMatrix4(r),l_.radius+=i,!1!==e.ray.intersectsSphere(l_)){o_.copy(r).invert(),s_.copy(e.ray).applyMatrix4(o_);var a=i/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a;if(n.isBufferGeometry){var s=n.index,l=n.attributes.position;if(null!==s)for(var c=s.array,u=0,d=c.length;u<d;u++){var h=c[u];c_.fromBufferAttribute(l,h),d_(c_,h,o,r,e,t,this)}else for(var f=0,p=l.count;f<p;f++)c_.fromBufferAttribute(l,f),d_(c_,f,o,r,e,t,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),h_.prototype=Object.assign(Object.create(mp.prototype),{constructor:h_,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),f_.prototype=Object.create(mp.prototype),f_.prototype.constructor=f_,f_.prototype.isCompressedTexture=!0,p_.prototype=Object.create(mp.prototype),p_.prototype.constructor=p_,p_.prototype.isCanvasTexture=!0,v_.prototype=Object.create(mp.prototype),v_.prototype.constructor=v_,v_.prototype.isDepthTexture=!0;new xp,new xp,new xp,new Iv;var m_=function(e,t,n){n=n||2;var r,i,a,o,s,l,c,u=t&&t.length,d=u?t[0]*n:e.length,h=g_(e,0,d,n,!0),f=[];if(!h||h.next===h.prev)return f;if(u&&(h=function(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=g_(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(P_(o));for(s.sort(k_),i=0;i<s.length;i++)E_(s[i],n),n=y_(n,n.next);return n}(e,t,h,n)),e.length>80*n){r=a=e[0],i=o=e[1];for(var p=n;p<d;p+=n)(s=e[p])<r&&(r=s),(l=e[p+1])<i&&(i=l),s>a&&(a=s),l>o&&(o=l);c=0!==(c=Math.max(a-r,o-i))?1/c:0}return b_(h,f,n,r,i,c),f};function g_(e,t,n,r,i){var a,o;if(i===function(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=j_(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=j_(a,e[a],e[a+1],o);return o&&O_(o,o.next)&&(z_(o),o=o.next),o}function y_(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!O_(r,r.next)&&0!==R_(r.prev,r,r.next))r=r.next;else{if(z_(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function b_(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=T_(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,l,c=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ);t++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,c*=2}while(o>1)}(i)}(e,r,i,a);for(var s,l,c=e;e.prev!==e.next;)if(s=e.prev,l=e.next,a?x_(e,r,i,a):__(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),z_(e),e=l.next,c=l.next;else if((e=l)===c){o?1===o?b_(e=w_(y_(e),t,n),t,n,r,i,a,2):2===o&&S_(e,t,n,r,i,a):b_(y_(e),t,n,r,i,a,1);break}}}function __(e){var t=e.prev,n=e,r=e.next;if(R_(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(A_(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&R_(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function x_(e,t,n,r){var i=e.prev,a=e,o=e.next;if(R_(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,l=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,c=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,u=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,d=T_(s,l,t,n,r),h=T_(c,u,t,n,r),f=e.prevZ,p=e.nextZ;f&&f.z>=d&&p&&p.z<=h;){if(f!==e.prev&&f!==e.next&&A_(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&R_(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,p!==e.prev&&p!==e.next&&A_(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&R_(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;f&&f.z>=d;){if(f!==e.prev&&f!==e.next&&A_(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&R_(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;p&&p.z<=h;){if(p!==e.prev&&p!==e.next&&A_(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&R_(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function w_(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!O_(i,a)&&L_(i,r,r.next,a)&&N_(i,a)&&N_(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),z_(r),z_(r.next),r=e=a),r=r.next}while(r!==e);return y_(r)}function S_(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&C_(o,s)){var l=D_(o,s);return o=y_(o,o.next),l=y_(l,l.next),b_(o,t,n,r,i,a),void b_(l,t,n,r,i,a)}s=s.next}o=o.next}while(o!==e)}function k_(e,t){return e.x-t.x}function E_(e,t){if(t=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n;var l,c=n,u=n.x,d=n.y,h=1/0;r=n;do{i>=r.x&&r.x>=u&&i!==r.x&&A_(a<d?i:o,a,u,d,a<d?o:i,a,r.x,r.y)&&(l=Math.abs(a-r.y)/(i-r.x),N_(r,e)&&(l<h||l===h&&(r.x>n.x||r.x===n.x&&M_(n,r)))&&(n=r,h=l)),r=r.next}while(r!==c);return n}(e,t),t){var n=D_(t,e);y_(t,t.next),y_(n,n.next)}}function M_(e,t){return R_(e.prev,e,t.prev)<0&&R_(t.next,e,e.next)<0}function T_(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function P_(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function A_(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function C_(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&L_(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(N_(e,t)&&N_(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(R_(e.prev,e,t.prev)||R_(e,t.prev,t))||O_(e,t)&&R_(e.prev,e,e.next)>0&&R_(t.prev,t,t.next)>0)}function R_(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function O_(e,t){return e.x===t.x&&e.y===t.y}function L_(e,t,n,r){var i=I_(R_(e,t,n)),a=I_(R_(e,t,r)),o=I_(R_(n,r,e)),s=I_(R_(n,r,t));return i!==a&&o!==s||(!(0!==i||!F_(e,n,t))||(!(0!==a||!F_(e,r,t))||(!(0!==o||!F_(n,e,r))||!(0!==s||!F_(n,t,r)))))}function F_(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function I_(e){return e>0?1:e<0?-1:0}function N_(e,t){return R_(e.prev,e,e.next)<0?R_(e,t,e.next)>=0&&R_(e,e.prev,t)>=0:R_(e,t,e.prev)<0||R_(e,e.next,t)<0}function D_(e,t){var n=new H_(e.i,e.x,e.y),r=new H_(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function j_(e,t,n,r){var i=new H_(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function z_(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function H_(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var B_={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return B_.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[];U_(e),G_(n,e);var a=e.length;t.forEach(U_);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,G_(n,t[o]);for(var s=m_(n,r),l=0;l<s.length;l+=3)i.push(s.slice(l,l+3));return i}};function U_(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function G_(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var W_=function(e){Wl(n,e);var t=Xl(n);function n(e,r){var i;Lt(this,n),(i=t.call(this)).type="ExtrudeGeometry",i.parameters={shapes:e,options:r},e=Array.isArray(e)?e:[e];for(var a=yr(i),o=[],s=[],l=0,c=e.length;l<c;l++){u(e[l])}function u(e){var t=[],n=void 0!==r.curveSegments?r.curveSegments:12,i=void 0!==r.steps?r.steps:1,l=void 0!==r.depth?r.depth:100,c=void 0===r.bevelEnabled||r.bevelEnabled,u=void 0!==r.bevelThickness?r.bevelThickness:6,d=void 0!==r.bevelSize?r.bevelSize:u-2,h=void 0!==r.bevelOffset?r.bevelOffset:0,f=void 0!==r.bevelSegments?r.bevelSegments:3,p=r.extrudePath,v=void 0!==r.UVGenerator?r.UVGenerator:V_;void 0!==r.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=r.amount);var m,g,y,b,_,x=!1;p&&(m=p.getSpacedPoints(i),x=!0,c=!1,g=p.computeFrenetFrames(i,!1),y=new xp,b=new xp,_=new xp),c||(f=0,u=0,d=0,h=0);var w=e.extractPoints(n),S=w.shape,k=w.holes;if(!B_.isClockWise(S)){S=S.reverse();for(var E=0,M=k.length;E<M;E++){var T=k[E];B_.isClockWise(T)&&(k[E]=T.reverse())}}for(var P=B_.triangulateShape(S,k),A=S,C=0,R=k.length;C<R;C++){var O=k[C];S=S.concat(O)}function L(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var F=S.length,I=P.length;function N(e,t,n){var r,i,a,o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=o*o+s*s,d=o*c-s*l;if(Math.abs(d)>Number.EPSILON){var h=Math.sqrt(u),f=Math.sqrt(l*l+c*c),p=t.x-s/h,v=t.y+o/h,m=((n.x-c/f-p)*c-(n.y+l/f-v)*l)/(o*c-s*l),g=(r=p+o*m-e.x)*r+(i=v+s*m-e.y)*i;if(g<=2)return new hp(r,i);a=Math.sqrt(g/2)}else{var y=!1;o>Number.EPSILON?l>Number.EPSILON&&(y=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(c)&&(y=!0),y?(r=-s,i=o,a=Math.sqrt(u)):(r=o,i=s,a=Math.sqrt(u/2))}return new hp(r/a,i/a)}for(var D=[],j=0,z=A.length,H=z-1,B=j+1;j<z;j++,H++,B++)H===z&&(H=0),B===z&&(B=0),D[j]=N(A[j],A[H],A[B]);for(var U,G=[],W=D.concat(),V=0,q=k.length;V<q;V++){var X=k[V];U=[];for(var Y=0,K=X.length,J=K-1,Z=Y+1;Y<K;Y++,J++,Z++)J===K&&(J=0),Z===K&&(Z=0),U[Y]=N(X[Y],X[J],X[Z]);G.push(U),W=W.concat(U)}for(var Q=0;Q<f;Q++){for(var $=Q/f,ee=u*Math.cos($*Math.PI/2),te=d*Math.sin($*Math.PI/2)+h,ne=0,re=A.length;ne<re;ne++){var ie=L(A[ne],D[ne],te);Re(ie.x,ie.y,-ee)}for(var ae=0,oe=k.length;ae<oe;ae++){var se=k[ae];U=G[ae];for(var le=0,ce=se.length;le<ce;le++){var ue=L(se[le],U[le],te);Re(ue.x,ue.y,-ee)}}}for(var de=d+h,he=0;he<F;he++){var fe=c?L(S[he],W[he],de):S[he];x?(b.copy(g.normals[0]).multiplyScalar(fe.x),y.copy(g.binormals[0]).multiplyScalar(fe.y),_.copy(m[0]).add(b).add(y),Re(_.x,_.y,_.z)):Re(fe.x,fe.y,0)}for(var pe=1;pe<=i;pe++)for(var ve=0;ve<F;ve++){var me=c?L(S[ve],W[ve],de):S[ve];x?(b.copy(g.normals[pe]).multiplyScalar(me.x),y.copy(g.binormals[pe]).multiplyScalar(me.y),_.copy(m[pe]).add(b).add(y),Re(_.x,_.y,_.z)):Re(me.x,me.y,l/i*pe)}for(var ge=f-1;ge>=0;ge--){for(var ye=ge/f,be=u*Math.cos(ye*Math.PI/2),_e=d*Math.sin(ye*Math.PI/2)+h,xe=0,we=A.length;xe<we;xe++){var Se=L(A[xe],D[xe],_e);Re(Se.x,Se.y,l+be)}for(var ke=0,Ee=k.length;ke<Ee;ke++){var Me=k[ke];U=G[ke];for(var Te=0,Pe=Me.length;Te<Pe;Te++){var Ae=L(Me[Te],U[Te],_e);x?Re(Ae.x,Ae.y+m[i-1].y,m[i-1].x+be):Re(Ae.x,Ae.y,l+be)}}}function Ce(e,t){for(var n=e.length;--n>=0;){var r=n,a=n-1;a<0&&(a=e.length-1);for(var o=0,s=i+2*f;o<s;o++){var l=F*o,c=F*(o+1);Le(t+r+l,t+a+l,t+a+c,t+r+c)}}}function Re(e,n,r){t.push(e),t.push(n),t.push(r)}function Oe(e,t,n){Fe(e),Fe(t),Fe(n);var r=o.length/3,i=v.generateTopUV(a,o,r-3,r-2,r-1);Ie(i[0]),Ie(i[1]),Ie(i[2])}function Le(e,t,n,r){Fe(e),Fe(t),Fe(r),Fe(t),Fe(n),Fe(r);var i=o.length/3,s=v.generateSideWallUV(a,o,i-6,i-3,i-2,i-1);Ie(s[0]),Ie(s[1]),Ie(s[3]),Ie(s[1]),Ie(s[2]),Ie(s[3])}function Fe(e){o.push(t[3*e+0]),o.push(t[3*e+1]),o.push(t[3*e+2])}function Ie(e){s.push(e.x),s.push(e.y)}!function(){var e=o.length/3;if(c){for(var t=0,n=F*t,r=0;r<I;r++){var s=P[r];Oe(s[2]+n,s[1]+n,s[0]+n)}n=F*(t=i+2*f);for(var l=0;l<I;l++){var u=P[l];Oe(u[0]+n,u[1]+n,u[2]+n)}}else{for(var d=0;d<I;d++){var h=P[d];Oe(h[2],h[1],h[0])}for(var p=0;p<I;p++){var v=P[p];Oe(v[0]+F*i,v[1]+F*i,v[2]+F*i)}}a.addGroup(e,o.length/3-e,0)}(),function(){var e=o.length/3,t=0;Ce(A,t),t+=A.length;for(var n=0,r=k.length;n<r;n++){var i=k[n];Ce(i,t),t+=i.length}a.addGroup(e,o.length/3-e,1)}()}return i.setAttribute("position",new im(o,3)),i.setAttribute("uv",new im(s,2)),i.computeVertexNormals(),i}return It(n,[{key:"toJSON",value:function(){var e=mm.prototype.toJSON.call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}]),n}(mm),V_={generateTopUV:function(e,t,n,r,i){var a=t[3*n],o=t[3*n+1],s=t[3*r],l=t[3*r+1],c=t[3*i],u=t[3*i+1];return[new hp(a,o),new hp(s,l),new hp(c,u)]},generateSideWallUV:function(e,t,n,r,i,a){var o=t[3*n],s=t[3*n+1],l=t[3*n+2],c=t[3*r],u=t[3*r+1],d=t[3*r+2],h=t[3*i],f=t[3*i+1],p=t[3*i+2],v=t[3*a],m=t[3*a+1],g=t[3*a+2];return Math.abs(s-u)<.01?[new hp(o,1-l),new hp(c,1-d),new hp(h,1-p),new hp(v,1-g)]:[new hp(s,1-l),new hp(u,1-d),new hp(f,1-p),new hp(m,1-g)]}};function q_(e,t,n){mm.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n};var r=[],i=[],a=[],o=[],s=1e-5,l=new xp,c=new xp,u=new xp,d=new xp,h=new xp;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");for(var f=t+1,p=0;p<=n;p++)for(var v=p/n,m=0;m<=t;m++){var g=m/t;e(g,v,c),i.push(c.x,c.y,c.z),g-s>=0?(e(g-s,v,u),d.subVectors(c,u)):(e(g+s,v,u),d.subVectors(u,c)),v-s>=0?(e(g,v-s,u),h.subVectors(c,u)):(e(g,v+s,u),h.subVectors(u,c)),l.crossVectors(d,h).normalize(),a.push(l.x,l.y,l.z),o.push(g,v)}for(var y=0;y<n;y++)for(var b=0;b<t;b++){var _=y*f+b,x=y*f+b+1,w=(y+1)*f+b+1,S=(y+1)*f+b;r.push(_,x,S),r.push(x,w,S)}this.setIndex(r),this.setAttribute("position",new im(i,3)),this.setAttribute("normal",new im(a,3)),this.setAttribute("uv",new im(o,2))}q_.prototype=Object.create(mm.prototype),q_.prototype.constructor=q_;var X_=function(e){Wl(n,e);var t=Xl(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;Lt(this,n),(r=t.call(this)).type="ShapeGeometry",r.parameters={shapes:e,curveSegments:i};var a=[],o=[],s=[],l=[],c=0,u=0;if(!1===Array.isArray(e))h(e);else for(var d=0;d<e.length;d++)h(e[d]),r.addGroup(c,u,d),c+=u,u=0;function h(e){var t=o.length/3,n=e.extractPoints(i),r=n.shape,c=n.holes;!1===B_.isClockWise(r)&&(r=r.reverse());for(var d=0,h=c.length;d<h;d++){var f=c[d];!0===B_.isClockWise(f)&&(c[d]=f.reverse())}for(var p=B_.triangulateShape(r,c),v=0,m=c.length;v<m;v++){var g=c[v];r=r.concat(g)}for(var y=0,b=r.length;y<b;y++){var _=r[y];o.push(_.x,_.y,0),s.push(0,0,1),l.push(_.x,_.y)}for(var x=0,w=p.length;x<w;x++){var S=p[x],k=S[0]+t,E=S[1]+t,M=S[2]+t;a.push(k,E,M),u+=3}}return r.setIndex(a),r.setAttribute("position",new im(o,3)),r.setAttribute("normal",new im(s,3)),r.setAttribute("uv",new im(l,2)),r}return It(n,[{key:"toJSON",value:function(){var e=mm.prototype.toJSON.call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}]),n}(mm);var Y_=function(e){Wl(n,e);var t=Xl(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;Lt(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:r,widthSegments:i,heightSegments:a,phiStart:o,phiLength:s,thetaStart:l,thetaLength:c},i=Math.max(3,Math.floor(i)),a=Math.max(2,Math.floor(a));for(var u=Math.min(l+c,Math.PI),d=0,h=[],f=new xp,p=new xp,v=[],m=[],g=[],y=[],b=0;b<=a;b++){var _=[],x=b/a,w=0;0==b&&0==l?w=.5/i:b==a&&u==Math.PI&&(w=-.5/i);for(var S=0;S<=i;S++){var k=S/i;f.x=-r*Math.cos(o+k*s)*Math.sin(l+x*c),f.y=r*Math.cos(l+x*c),f.z=r*Math.sin(o+k*s)*Math.sin(l+x*c),m.push(f.x,f.y,f.z),p.copy(f).normalize(),g.push(p.x,p.y,p.z),y.push(k+w,1-x),_.push(d++)}h.push(_)}for(var E=0;E<a;E++)for(var M=0;M<i;M++){var T=h[E][M+1],P=h[E][M],A=h[E+1][M],C=h[E+1][M+1];(0!==E||l>0)&&v.push(T,P,C),(E!==a-1||u<Math.PI)&&v.push(P,A,C)}return e.setIndex(v),e.setAttribute("position",new im(m,3)),e.setAttribute("normal",new im(g,3)),e.setAttribute("uv",new im(y,2)),e}return It(n)}(mm);function K_(e){Vv.call(this),this.type="ShadowMaterial",this.color=new Uv(0),this.transparent=!0,this.setValues(e)}function J_(e){Um.call(this,e),this.type="RawShaderMaterial"}function Z_(e){Vv.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Uv(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Uv(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$f,this.normalScale=new hp(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}function Q_(e){Z_.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new hp(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(e){this.reflectivity=dp.clamp(2.5*(e-1)/(e+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(e)}function $_(e){Vv.call(this),this.type="MeshPhongMaterial",this.color=new Uv(16777215),this.specular=new Uv(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Uv(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$f,this.normalScale=new hp(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Qd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ex(e){Vv.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Uv(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Uv(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$f,this.normalScale=new hp(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function tx(e){Vv.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$f,this.normalScale=new hp(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function nx(e){Vv.call(this),this.type="MeshLambertMaterial",this.color=new Uv(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Uv(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Qd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function rx(e){Vv.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Uv(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$f,this.normalScale=new hp(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ix(e){Yb.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}K_.prototype=Object.create(Vv.prototype),K_.prototype.constructor=K_,K_.prototype.isShadowMaterial=!0,K_.prototype.copy=function(e){return Vv.prototype.copy.call(this,e),this.color.copy(e.color),this},J_.prototype=Object.create(Um.prototype),J_.prototype.constructor=J_,J_.prototype.isRawShaderMaterial=!0,Z_.prototype=Object.create(Vv.prototype),Z_.prototype.constructor=Z_,Z_.prototype.isMeshStandardMaterial=!0,Z_.prototype.copy=function(e){return Vv.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this},Q_.prototype=Object.create(Z_.prototype),Q_.prototype.constructor=Q_,Q_.prototype.isMeshPhysicalMaterial=!0,Q_.prototype.copy=function(e){return Z_.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new Uv).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this},$_.prototype=Object.create(Vv.prototype),$_.prototype.constructor=$_,$_.prototype.isMeshPhongMaterial=!0,$_.prototype.copy=function(e){return Vv.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ex.prototype=Object.create(Vv.prototype),ex.prototype.constructor=ex,ex.prototype.isMeshToonMaterial=!0,ex.prototype.copy=function(e){return Vv.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},tx.prototype=Object.create(Vv.prototype),tx.prototype.constructor=tx,tx.prototype.isMeshNormalMaterial=!0,tx.prototype.copy=function(e){return Vv.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},nx.prototype=Object.create(Vv.prototype),nx.prototype.constructor=nx,nx.prototype.isMeshLambertMaterial=!0,nx.prototype.copy=function(e){return Vv.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},rx.prototype=Object.create(Vv.prototype),rx.prototype.constructor=rx,rx.prototype.isMeshMatcapMaterial=!0,rx.prototype.copy=function(e){return Vv.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ix.prototype=Object.create(Yb.prototype),ix.prototype.constructor=ix,ix.prototype.isLineDashedMaterial=!0,ix.prototype.copy=function(e){return Yb.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var ax=Object.freeze({__proto__:null,ShadowMaterial:K_,SpriteMaterial:vb,RawShaderMaterial:J_,ShaderMaterial:Um,PointsMaterial:a_,MeshPhysicalMaterial:Q_,MeshStandardMaterial:Z_,MeshPhongMaterial:$_,MeshToonMaterial:ex,MeshNormalMaterial:tx,MeshLambertMaterial:nx,MeshDepthMaterial:Ky,MeshDistanceMaterial:Jy,MeshBasicMaterial:qv,MeshMatcapMaterial:rx,LineDashedMaterial:ix,LineBasicMaterial:Yb,Material:Vv}),ox={arraySlice:function(e,t,n){return ox.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,l=0;l!==t;++l)i[o++]=e[s+l];return i},flattenJSON:function(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}},subclip:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,a=e.clone();a.name=t;for(var o=[],s=0;s<a.tracks.length;++s){for(var l=a.tracks[s],c=l.getValueSize(),u=[],d=[],h=0;h<l.times.length;++h){var f=l.times[h]*i;if(!(f<n||f>=r)){u.push(l.times[h]);for(var p=0;p<c;++p)d.push(l.values[h*c+p])}}0!==u.length&&(l.times=ox.convertArray(u,l.times.constructor),l.values=ox.convertArray(d,l.values.constructor),o.push(l))}a.tracks=o;for(var v=1/0,m=0;m<a.tracks.length;++m)v>a.tracks[m].times[0]&&(v=a.tracks[m].times[0]);for(var g=0;g<a.tracks.length;++g)a.tracks[g].shift(-1*v);return a.resetDuration(),a},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var i=n.tracks.length,a=t/r,o=function(){var t=n.tracks[s],r=t.ValueTypeName;if("bool"===r||"string"===r)return"continue";var i=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===r}));if(void 0===i)return"continue";var o=0,l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(o=l/3);var c=0,u=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);var d,h=t.times.length-1;if(a<=t.times[0]){var f=o,p=l-o;d=ox.arraySlice(t.values,f,p)}else if(a>=t.times[h]){var v=h*l+o,m=v+l-o;d=ox.arraySlice(t.values,v,m)}else{var g=t.createInterpolant(),y=o,b=l-o;g.evaluate(a),d=ox.arraySlice(g.resultBuffer,y,b)}"quaternion"===r&&(new _p).fromArray(d).normalize().conjugate().toArray(d);for(var _=i.times.length,x=0;x<_;++x){var w=x*u+c;if("quaternion"===r)_p.multiplyQuaternionsFlat(i.values,w,d,0,i.values,w);else for(var S=u-2*c,k=0;k<S;++k)i.values[w+k]-=d[k]}},s=0;s<i;++s)o();return e.blendMode=Uf,e}};function sx(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function lx(e,t,n,r){sx.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function cx(e,t,n,r){sx.call(this,e,t,n,r)}function ux(e,t,n,r){sx.call(this,e,t,n,r)}function dx(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ox.convertArray(t,this.TimeBufferType),this.values=ox.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function hx(e,t,n){dx.call(this,e,t,n)}function fx(e,t,n,r){dx.call(this,e,t,n,r)}function px(e,t,n,r){dx.call(this,e,t,n,r)}function vx(e,t,n,r){sx.call(this,e,t,n,r)}function mx(e,t,n,r){dx.call(this,e,t,n,r)}function gx(e,t,n,r){dx.call(this,e,t,n,r)}function yx(e,t,n,r){dx.call(this,e,t,n,r)}function bx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Bf;this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=dp.generateUUID(),this.duration<0&&this.resetDuration()}function _x(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return px;case"vector":case"vector2":case"vector3":case"vector4":return yx;case"color":return fx;case"quaternion":return mx;case"bool":case"boolean":return hx;case"string":return gx}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];ox.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(sx.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var l=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===l)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var c=n+a>>>1;e<t[c]?a=c:n=c+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(sx.prototype,{beforeStart_:sx.prototype.copySampleValue_,afterEnd_:sx.prototype.copySampleValue_}),lx.prototype=Object.assign(Object.create(sx.prototype),{constructor:lx,DefaultSettings_:{endingStart:jf,endingEnd:jf},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case zf:i=e,o=2*t-n;break;case Hf:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case zf:a=e,s=2*n-t;break;case Hf:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=i*c,this._offsetNext=a*c},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,f=(n-t)/(r-t),p=f*f,v=p*f,m=-d*v+2*d*p-d*f,g=(1+d)*v+(-1.5-2*d)*p+(-.5+d)*f+1,y=(-1-h)*v+(1.5+h)*p+.5*f,b=h*v-h*p,_=0;_!==o;++_)i[_]=m*a[c+_]+g*a[l+_]+y*a[s+_]+b*a[u+_];return i}}),cx.prototype=Object.assign(Object.create(sx.prototype),{constructor:cx,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=(n-t)/(r-t),u=1-c,d=0;d!==o;++d)i[d]=a[l+d]*u+a[s+d]*c;return i}}),ux.prototype=Object.assign(Object.create(sx.prototype),{constructor:ux,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(dx,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:ox.convertArray(e.times,Array),values:ox.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Object.assign(dx.prototype,{constructor:dx,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Nf,InterpolantFactoryMethodDiscrete:function(e){return new ux(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new cx(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new lx(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case If:t=this.InterpolantFactoryMethodDiscrete;break;case Nf:t=this.InterpolantFactoryMethodLinear;break;case Df:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return If;case this.InterpolantFactoryMethodLinear:return Nf;case this.InterpolantFactoryMethodSmooth:return Df}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=ox.arraySlice(n,i,a),this.values=ox.arraySlice(this.values,i*o,a*o)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&ox.isTypedArray(r))for(var l=0,c=r.length;l!==c;++l){var u=r[l];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,u),e=!1;break}}return e},optimize:function(){for(var e=ox.arraySlice(this.times),t=ox.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===Df,i=e.length-1,a=1,o=1;o<i;++o){var s=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==e[0]))if(r)s=!0;else for(var c=o*n,u=c-n,d=c+n,h=0;h!==n;++h){var f=t[c+h];if(f!==t[u+h]||f!==t[d+h]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var p=o*n,v=a*n,m=0;m!==n;++m)t[v+m]=t[p+m]}++a}}if(i>0){e[a]=e[i];for(var g=i*n,y=a*n,b=0;b!==n;++b)t[y+b]=t[g+b];++a}return a!==e.length?(this.times=ox.arraySlice(e,0,a),this.values=ox.arraySlice(t,0,a*n)):(this.times=e,this.values=t),this},clone:function(){var e=ox.arraySlice(this.times,0),t=ox.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}),hx.prototype=Object.assign(Object.create(dx.prototype),{constructor:hx,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:If,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),fx.prototype=Object.assign(Object.create(dx.prototype),{constructor:fx,ValueTypeName:"color"}),px.prototype=Object.assign(Object.create(dx.prototype),{constructor:px,ValueTypeName:"number"}),vx.prototype=Object.assign(Object.create(sx.prototype),{constructor:vx,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),l=e*o,c=l+o;l!==c;l+=4)_p.slerpFlat(i,0,a,l-o,a,l,s);return i}}),mx.prototype=Object.assign(Object.create(dx.prototype),{constructor:mx,ValueTypeName:"quaternion",DefaultInterpolation:Nf,InterpolantFactoryMethodLinear:function(e){return new vx(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),gx.prototype=Object.assign(Object.create(dx.prototype),{constructor:gx,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:If,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),yx.prototype=Object.assign(Object.create(dx.prototype),{constructor:yx,ValueTypeName:"vector"}),Object.assign(bx,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(_x(n[i]).scale(r));var o=new bx(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=n.length;i!==a;++i)t.push(dx.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],l=[];s.push((o+i-1)%i,o,(o+1)%i),l.push(0,1,0);var c=ox.getKeyframeOrder(s);s=ox.sortedArray(s,1,c),l=ox.sortedArray(l,1,c),r||0!==s[0]||(s.push(i),l.push(l[0])),a.push(new px(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/n))}return new bx(e,-1,a)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],l=s.name.match(i);if(l&&l.length>1){var c=l[1],u=r[c];u||(r[c]=u=[]),u.push(s)}}var d=[];for(var h in r)d.push(bx.CreateFromMorphTargetSequence(h,r[h],t,n));return d},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];ox.flattenJSON(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,l=e.hierarchy||[],c=0;c<l.length;c++){var u=l[c].keys;if(u&&0!==u.length)if(u[0].morphTargets){var d={},h=void 0;for(h=0;h<u.length;h++)if(u[h].morphTargets)for(var f=0;f<u[h].morphTargets.length;f++)d[u[h].morphTargets[f]]=-1;for(var p in d){for(var v=[],m=[],g=0;g!==u[h].morphTargets.length;++g){var y=u[h];v.push(y.time),m.push(y.morphTarget===p?1:0)}r.push(new px(".morphTargetInfluence["+p+"]",v,m))}s=d.length*(a||1)}else{var b=".bones["+t[c].name+"]";n(yx,b+".position",u,"pos",r),n(mx,b+".quaternion",u,"rot",r),n(yx,b+".scale",u,"scl",r)}}return 0===r.length?null:new bx(i,s,r,o)}}),Object.assign(bx.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new bx(this.name,this.duration,e,this.blendMode)},toJSON:function(){return bx.toJSON(this)}});var xx={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function wx(e,t,n){var r=this,i=!1,a=0,o=0,s=void 0,l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===i&&void 0!==r.onStart&&r.onStart(e,a,o),i=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,o),a===o&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){var t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=l.length;t<n;t+=2){var r=l[t],i=l[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}}var Sx=new wx;function kx(e){this.manager=void 0!==e?e:Sx,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(kx.prototype,{load:function(){},loadAsync:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});var Ex={};function Mx(e){kx.call(this,e)}function Tx(e){kx.call(this,e)}function Px(e){kx.call(this,e)}function Ax(e){kx.call(this,e)}function Cx(e){kx.call(this,e)}function Rx(e){kx.call(this,e)}function Ox(e){kx.call(this,e)}function Lx(){this.type="Curve",this.arcLengthDivisions=200}function Fx(e,t,n,r,i,a,o,s){Lx.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function Ix(e,t,n,r,i,a){Fx.call(this,e,t,n,n,r,i,a),this.type="ArcCurve"}function Nx(){var e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){var l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,c=(n-t)/o-(r-t)/(o+s)+(r-n)/s;i(t,n,l*=o,c*=o)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}Mx.prototype=Object.assign(Object.create(kx.prototype),{constructor:Mx,load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=xx.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===Ex[e]){var o,s=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(s){var l=s[1],c=!!s[2],u=s[3];u=decodeURIComponent(u),c&&(u=atob(u));try{var d,h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":for(var f=new Uint8Array(u.length),p=0;p<u.length;p++)f[p]=u.charCodeAt(p);d="blob"===h?new Blob([f.buffer],{type:l}):f.buffer;break;case"document":var v=new DOMParser;d=v.parseFromString(u,l);break;case"json":d=JSON.parse(u);break;default:d=u}setTimeout((function(){t&&t(d),i.manager.itemEnd(e)}),0)}catch(g){setTimeout((function(){r&&r(g),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{for(var m in Ex[e]=[],Ex[e].push({onLoad:t,onProgress:n,onError:r}),(o=new XMLHttpRequest).open("GET",e,!0),o.addEventListener("load",(function(t){var n=this.response,r=Ex[e];if(delete Ex[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),xx.add(e,n);for(var a=0,o=r.length;a<o;a++){var s=r[a];s.onLoad&&s.onLoad(n)}i.manager.itemEnd(e)}else{for(var l=0,c=r.length;l<c;l++){var u=r[l];u.onError&&u.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}}),!1),o.addEventListener("progress",(function(t){for(var n=Ex[e],r=0,i=n.length;r<i;r++){var a=n[r];a.onProgress&&a.onProgress(t)}}),!1),o.addEventListener("error",(function(t){var n=Ex[e];delete Ex[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),o.addEventListener("abort",(function(t){var n=Ex[e];delete Ex[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(o.responseType=this.responseType),void 0!==this.withCredentials&&(o.withCredentials=this.withCredentials),o.overrideMimeType&&o.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)o.setRequestHeader(m,this.requestHeader[m]);o.send(null)}return i.manager.itemStart(e),o}Ex[e].push({onLoad:t,onProgress:n,onError:r})},setResponseType:function(e){return this.responseType=e,this},setMimeType:function(e){return this.mimeType=e,this}}),Tx.prototype=Object.assign(Object.create(kx.prototype),{constructor:Tx,load:function(e,t,n,r){var i=this,a=new Mx(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(sC){r?r(sC):console.error(sC),i.manager.itemError(e)}}),n,r)},parse:function(e){for(var t=[],n=0;n<e.length;n++){var r=bx.parse(e[n]);t.push(r)}return t}}),Px.prototype=Object.assign(Object.create(kx.prototype),{constructor:Px,load:function(e,t,n,r){var i=this,a=[],o=new f_,s=new Mx(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);var l=0;function c(c){s.load(e[c],(function(e){var n=i.parse(e,!0);a[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(o.minFilter=bh),o.image=a,o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(Array.isArray(e))for(var u=0,d=e.length;u<d;++u)c(u);else s.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap){for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=bh),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o}}),Ax.prototype=Object.assign(Object.create(kx.prototype),{constructor:Ax,load:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=xx.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),xx.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}),Cx.prototype=Object.assign(Object.create(kx.prototype),{constructor:Cx,load:function(e,t,n,r){var i=new Ym,a=new Ax(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(e[n],(function(e){i.images[n]=e,6===++o&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var l=0;l<e.length;++l)s(l);return i}}),Rx.prototype=Object.assign(Object.create(kx.prototype),{constructor:Rx,load:function(e,t,n,r){var i=this,a=new Jm,o=new Mx(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){var n=i.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:ph,a.wrapT=void 0!==n.wrapT?n.wrapT:ph,a.magFilter=void 0!==n.magFilter?n.magFilter:bh,a.minFilter=void 0!==n.minFilter?n.minFilter:bh,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(a.encoding=n.encoding),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=xh),1===n.mipmapCount&&(a.minFilter=bh),a.needsUpdate=!0,t&&t(a,n))}),n,r),a}}),Ox.prototype=Object.assign(Object.create(kx.prototype),{constructor:Ox,load:function(e,t,n,r){var i=new mp,a=new Ax(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(n){i.image=n;var r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=r?Ih:Nh,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}),Object.assign(Lx.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var a=1;a<=e;a++)i+=(t=this.getPoint(a/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=r[i=Math.floor(s+(l-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){l=i;break}l=i-1}if(r[i=l]===n)return i/(a-1);var c=r[i];return(i+(n-c)/(r[i+1]-c))/(a-1)},getTangent:function(e,t){var n=1e-4,r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);var a=this.getPoint(r),o=this.getPoint(i),s=t||(a.isVector2?new hp:new xp);return s.copy(o).sub(a).normalize(),s},getTangentAt:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)},computeFrenetFrames:function(e,t){for(var n=new xp,r=[],i=[],a=[],o=new xp,s=new Kp,l=0;l<=e;l++){var c=l/e;r[l]=this.getTangentAt(c,new xp),r[l].normalize()}i[0]=new xp,a[0]=new xp;var u=Number.MAX_VALUE,d=Math.abs(r[0].x),h=Math.abs(r[0].y),f=Math.abs(r[0].z);d<=u&&(u=d,n.set(1,0,0)),h<=u&&(u=h,n.set(0,1,0)),f<=u&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(var p=1;p<=e;p++){if(i[p]=i[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(r[p-1],r[p]),o.length()>Number.EPSILON){o.normalize();var v=Math.acos(dp.clamp(r[p-1].dot(r[p]),-1,1));i[p].applyMatrix4(s.makeRotationAxis(o,v))}a[p].crossVectors(r[p],i[p])}if(!0===t){var m=Math.acos(dp.clamp(i[0].dot(i[e]),-1,1));m/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(m=-m);for(var g=1;g<=e;g++)i[g].applyMatrix4(s.makeRotationAxis(r[g],m*g)),a[g].crossVectors(r[g],i[g])}return{tangents:r,normals:i,binormals:a}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),Fx.prototype=Object.create(Lx.prototype),Fx.prototype.constructor=Fx,Fx.prototype.isEllipseCurve=!0,Fx.prototype.getPoint=function(e,t){for(var n=t||new hp,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var c=Math.cos(this.aRotation),u=Math.sin(this.aRotation),d=s-this.aX,h=l-this.aY;s=d*c-h*u+this.aX,l=d*u+h*c+this.aY}return n.set(s,l)},Fx.prototype.copy=function(e){return Lx.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Fx.prototype.toJSON=function(){var e=Lx.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},Fx.prototype.fromJSON=function(e){return Lx.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Ix.prototype=Object.create(Fx.prototype),Ix.prototype.constructor=Ix,Ix.prototype.isArcCurve=!0;var Dx=new xp,jx=new Nx,zx=new Nx,Hx=new Nx;function Bx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;Lx.call(this),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}function Ux(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function Gx(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function Wx(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}function Vx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new hp,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hp,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new hp,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new hp;Lx.call(this),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}function qx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xp,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xp,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new xp,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new xp;Lx.call(this),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}function Xx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new hp,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hp;Lx.call(this),this.type="LineCurve",this.v1=e,this.v2=t}function Yx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xp,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xp;Lx.call(this),this.type="LineCurve3",this.v1=e,this.v2=t}function Kx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new hp,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hp,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new hp;Lx.call(this),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}function Jx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xp,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xp,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new xp;Lx.call(this),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}function Zx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Lx.call(this),this.type="SplineCurve",this.points=e}Bx.prototype=Object.create(Lx.prototype),Bx.prototype.constructor=Bx,Bx.prototype.isCatmullRomCurve3=!0,Bx.prototype.getPoint=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xp,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e,s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:0===l&&s===a-1&&(s=a-2,l=1),this.closed||s>0?t=i[(s-1)%a]:(Dx.subVectors(i[0],i[1]).add(i[0]),t=Dx);var c=i[s%a],u=i[(s+1)%a];if(this.closed||s+2<a?n=i[(s+2)%a]:(Dx.subVectors(i[a-1],i[a-2]).add(i[a-1]),n=Dx),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,h=Math.pow(t.distanceToSquared(c),d),f=Math.pow(c.distanceToSquared(u),d),p=Math.pow(u.distanceToSquared(n),d);f<1e-4&&(f=1),h<1e-4&&(h=f),p<1e-4&&(p=f),jx.initNonuniformCatmullRom(t.x,c.x,u.x,n.x,h,f,p),zx.initNonuniformCatmullRom(t.y,c.y,u.y,n.y,h,f,p),Hx.initNonuniformCatmullRom(t.z,c.z,u.z,n.z,h,f,p)}else"catmullrom"===this.curveType&&(jx.initCatmullRom(t.x,c.x,u.x,n.x,this.tension),zx.initCatmullRom(t.y,c.y,u.y,n.y,this.tension),Hx.initCatmullRom(t.z,c.z,u.z,n.z,this.tension));return r.set(jx.calc(l),zx.calc(l),Hx.calc(l)),r},Bx.prototype.copy=function(e){Lx.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Bx.prototype.toJSON=function(){var e=Lx.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},Bx.prototype.fromJSON=function(e){Lx.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new xp).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Vx.prototype=Object.create(Lx.prototype),Vx.prototype.constructor=Vx,Vx.prototype.isCubicBezierCurve=!0,Vx.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hp,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(Wx(e,n.x,r.x,i.x,a.x),Wx(e,n.y,r.y,i.y,a.y)),t},Vx.prototype.copy=function(e){return Lx.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Vx.prototype.toJSON=function(){var e=Lx.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Vx.prototype.fromJSON=function(e){return Lx.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},qx.prototype=Object.create(Lx.prototype),qx.prototype.constructor=qx,qx.prototype.isCubicBezierCurve3=!0,qx.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xp,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(Wx(e,n.x,r.x,i.x,a.x),Wx(e,n.y,r.y,i.y,a.y),Wx(e,n.z,r.z,i.z,a.z)),t},qx.prototype.copy=function(e){return Lx.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},qx.prototype.toJSON=function(){var e=Lx.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},qx.prototype.fromJSON=function(e){return Lx.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Xx.prototype=Object.create(Lx.prototype),Xx.prototype.constructor=Xx,Xx.prototype.isLineCurve=!0,Xx.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hp;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t},Xx.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Xx.prototype.getTangent=function(e,t){var n=t||new hp;return n.copy(this.v2).sub(this.v1).normalize(),n},Xx.prototype.copy=function(e){return Lx.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Xx.prototype.toJSON=function(){var e=Lx.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Xx.prototype.fromJSON=function(e){return Lx.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Yx.prototype=Object.create(Lx.prototype),Yx.prototype.constructor=Yx,Yx.prototype.isLineCurve3=!0,Yx.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xp;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t},Yx.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Yx.prototype.copy=function(e){return Lx.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Yx.prototype.toJSON=function(){var e=Lx.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Yx.prototype.fromJSON=function(e){return Lx.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Kx.prototype=Object.create(Lx.prototype),Kx.prototype.constructor=Kx,Kx.prototype.isQuadraticBezierCurve=!0,Kx.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hp,n=this.v0,r=this.v1,i=this.v2;return t.set(Gx(e,n.x,r.x,i.x),Gx(e,n.y,r.y,i.y)),t},Kx.prototype.copy=function(e){return Lx.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Kx.prototype.toJSON=function(){var e=Lx.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Kx.prototype.fromJSON=function(e){return Lx.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Jx.prototype=Object.create(Lx.prototype),Jx.prototype.constructor=Jx,Jx.prototype.isQuadraticBezierCurve3=!0,Jx.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xp,n=this.v0,r=this.v1,i=this.v2;return t.set(Gx(e,n.x,r.x,i.x),Gx(e,n.y,r.y,i.y),Gx(e,n.z,r.z,i.z)),t},Jx.prototype.copy=function(e){return Lx.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Jx.prototype.toJSON=function(){var e=Lx.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Jx.prototype.fromJSON=function(e){return Lx.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Zx.prototype=Object.create(Lx.prototype),Zx.prototype.constructor=Zx,Zx.prototype.isSplineCurve=!0,Zx.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hp,n=this.points,r=(n.length-1)*e,i=Math.floor(r),a=r-i,o=n[0===i?i:i-1],s=n[i],l=n[i>n.length-2?n.length-1:i+1],c=n[i>n.length-3?n.length-1:i+2];return t.set(Ux(a,o.x,s.x,l.x,c.x),Ux(a,o.y,s.y,l.y,c.y)),t},Zx.prototype.copy=function(e){Lx.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this},Zx.prototype.toJSON=function(){var e=Lx.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e},Zx.prototype.fromJSON=function(e){Lx.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new hp).fromArray(r))}return this};var Qx=Object.freeze({__proto__:null,ArcCurve:Ix,CatmullRomCurve3:Bx,CubicBezierCurve:Vx,CubicBezierCurve3:qx,EllipseCurve:Fx,LineCurve:Xx,LineCurve3:Yx,QuadraticBezierCurve:Kx,QuadraticBezierCurve3:Jx,SplineCurve:Zx});function $x(){Lx.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function ew(e){$x.call(this),this.type="Path",this.currentPoint=new hp,e&&this.setFromPoints(e)}function tw(e){ew.call(this,e),this.uuid=dp.generateUUID(),this.type="Shape",this.holes=[]}function nw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;_v.call(this),this.type="Light",this.color=new Uv(e),this.intensity=t}function rw(e,t,n){nw.call(this,e,n),this.type="HemisphereLight",this.position.copy(_v.DefaultUp),this.updateMatrix(),this.groundColor=new Uv(t)}function iw(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new hp(512,512),this.map=null,this.mapPass=null,this.matrix=new Kp,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new $m,this._frameExtents=new hp(1,1),this._viewportCount=1,this._viewports=[new yp(0,0,1,1)]}function aw(){iw.call(this,new Wm(50,1,.5,500)),this.focus=1}function ow(e,t,n,r,i,a){nw.call(this,e,t),this.type="SpotLight",this.position.copy(_v.DefaultUp),this.updateMatrix(),this.target=new _v,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==a?a:1,this.shadow=new aw}function sw(){iw.call(this,new Wm(90,1,.5,500)),this._frameExtents=new hp(4,2),this._viewportCount=6,this._viewports=[new yp(2,1,1,1),new yp(0,1,1,1),new yp(3,1,1,1),new yp(1,1,1,1),new yp(3,0,1,1),new yp(1,0,1,1)],this._cubeDirections=[new xp(1,0,0),new xp(-1,0,0),new xp(0,0,1),new xp(0,0,-1),new xp(0,1,0),new xp(0,-1,0)],this._cubeUps=[new xp(0,1,0),new xp(0,1,0),new xp(0,1,0),new xp(0,1,0),new xp(0,0,1),new xp(0,0,-1)]}function lw(e,t,n,r){nw.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new sw}function cw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;Gm.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=a,this.updateProjectionMatrix()}function uw(){iw.call(this,new cw(-5,5,5,-5,.5,500))}function dw(e,t){nw.call(this,e,t),this.type="DirectionalLight",this.position.copy(_v.DefaultUp),this.updateMatrix(),this.target=new _v,this.shadow=new uw}function hw(e,t){nw.call(this,e,t),this.type="AmbientLight"}function fw(e,t,n,r){nw.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}$x.prototype=Object.assign(Object.create(Lx.prototype),{constructor:$x,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Xx(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,a=this.curves[r],o=a.getLength(),s=0===o?0:1-i/o;return a.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a&&a.isEllipseCurve?2*t:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),l=0;l<s.length;l++){var c=s[l];e&&e.equals(c)||(n.push(c),e=c)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){Lx.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=Lx.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){Lx.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push((new Qx[r.type]).fromJSON(r))}return this}}),ew.prototype=Object.assign(Object.create($x.prototype),{constructor:ew,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){var n=new Xx(this.currentPoint.clone(),new hp(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,r){var i=new Kx(this.currentPoint.clone(),new hp(e,t),new hp(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this},bezierCurveTo:function(e,t,n,r,i,a){var o=new Vx(this.currentPoint.clone(),new hp(e,t),new hp(n,r),new hp(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this},splineThru:function(e){var t=new Zx([this.currentPoint.clone()].concat(e));return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this},absarc:function(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this},ellipse:function(e,t,n,r,i,a,o,s){var l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,r,i,a,o,s),this},absellipse:function(e,t,n,r,i,a,o,s){var l=new Fx(e,t,n,r,i,a,o,s);if(this.curves.length>0){var c=l.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(l);var u=l.getPoint(1);return this.currentPoint.copy(u),this},copy:function(e){return $x.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=$x.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return $x.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),tw.prototype=Object.assign(Object.create(ew.prototype),{constructor:tw,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){ew.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=ew.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){ew.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push((new ew).fromJSON(r))}return this}}),nw.prototype=Object.assign(Object.create(_v.prototype),{constructor:nw,isLight:!0,copy:function(e){return _v.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=_v.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),rw.prototype=Object.assign(Object.create(nw.prototype),{constructor:rw,isHemisphereLight:!0,copy:function(e){return nw.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(iw.prototype,{_projScreenMatrix:new Kp,_lightPositionWorld:new xp,_lookTarget:new xp,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,n=this.matrix,r=this._projScreenMatrix,i=this._lookTarget,a=this._lightPositionWorld;a.setFromMatrixPosition(e.matrixWorld),t.position.copy(a),i.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(i),t.updateMatrixWorld(),r.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(r),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),aw.prototype=Object.assign(Object.create(iw.prototype),{constructor:aw,isSpotLightShadow:!0,updateMatrices:function(e){var t=this.camera,n=2*dp.RAD2DEG*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),iw.prototype.updateMatrices.call(this,e)}}),ow.prototype=Object.assign(Object.create(nw.prototype),{constructor:ow,isSpotLight:!0,copy:function(e){return nw.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),sw.prototype=Object.assign(Object.create(iw.prototype),{constructor:sw,isPointLightShadow:!0,updateMatrices:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=this._lightPositionWorld,a=this._lookTarget,o=this._projScreenMatrix;i.setFromMatrixPosition(e.matrixWorld),n.position.copy(i),a.copy(n.position),a.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(a),n.updateMatrixWorld(),r.makeTranslation(-i.x,-i.y,-i.z),o.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o)}}),lw.prototype=Object.assign(Object.create(nw.prototype),{constructor:lw,isPointLight:!0,copy:function(e){return nw.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),cw.prototype=Object.assign(Object.create(Gm.prototype),{constructor:cw,isOrthographicCamera:!0,copy:function(e,t){return Gm.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=l*this.view.offsetX)+l*this.view.width,s=(o-=c*this.view.offsetY)-c*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(e){var t=_v.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),uw.prototype=Object.assign(Object.create(iw.prototype),{constructor:uw,isDirectionalLightShadow:!0,updateMatrices:function(e){iw.prototype.updateMatrices.call(this,e)}}),dw.prototype=Object.assign(Object.create(nw.prototype),{constructor:dw,isDirectionalLight:!0,copy:function(e){return nw.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),hw.prototype=Object.assign(Object.create(nw.prototype),{constructor:hw,isAmbientLight:!0}),fw.prototype=Object.assign(Object.create(nw.prototype),{constructor:fw,isRectAreaLight:!0,copy:function(e){return nw.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=nw.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});var pw=function(){function e(){Lt(this,e),Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new xp)}return It(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}]),e}();function vw(e,t){nw.call(this,void 0,t),this.type="LightProbe",this.sh=void 0!==e?e:new pw}function mw(e){kx.call(this,e),this.textures={}}vw.prototype=Object.assign(Object.create(nw.prototype),{constructor:vw,isLightProbe:!0,copy:function(e){return nw.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){var t=nw.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}}),mw.prototype=Object.assign(Object.create(kx.prototype),{constructor:mw,load:function(e,t,n,r){var i=this,a=new Mx(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(sC){r?r(sC):console.error(sC),i.manager.itemError(e)}}),n,r)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=new ax[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=(new Uv).setHex(e.sheen)),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(r.morphNormals=e.morphNormals),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.vertexTangents&&(r.vertexTangents=e.vertexTangents),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var i in e.uniforms){var a=e.uniforms[i];switch(r.uniforms[i]={},a.type){case"t":r.uniforms[i].value=n(a.value);break;case"c":r.uniforms[i].value=(new Uv).setHex(a.value);break;case"v2":r.uniforms[i].value=(new hp).fromArray(a.value);break;case"v3":r.uniforms[i].value=(new xp).fromArray(a.value);break;case"v4":r.uniforms[i].value=(new yp).fromArray(a.value);break;case"m3":r.uniforms[i].value=(new fp).fromArray(a.value);break;case"m4":r.uniforms[i].value=(new Kp).fromArray(a.value);break;default:r.uniforms[i].value=a.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var o in e.extensions)r.extensions[o]=e.extensions[o];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new hp).fromArray(s)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new hp).fromArray(e.clearcoatNormalScale)),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),r},setTextures:function(e){return this.textures=e,this}});var gw=function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)};function yw(){mm.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function bw(e,t,n,r){"number"===typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Kv.call(this,e,t,n),this.meshPerAttribute=r||1}function _w(e){kx.call(this,e)}yw.prototype=Object.assign(Object.create(mm.prototype),{constructor:yw,isInstancedBufferGeometry:!0,copy:function(e){return mm.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=mm.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}),bw.prototype=Object.assign(Object.create(Kv.prototype),{constructor:bw,isInstancedBufferAttribute:!0,copy:function(e){return Kv.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=Kv.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),_w.prototype=Object.assign(Object.create(kx.prototype),{constructor:_w,load:function(e,t,n,r){var i=this,a=new Mx(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(sC){r?r(sC):console.error(sC),i.manager.itemError(e)}}),n,r)},parse:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers,i=r[t],a=new Uint32Array(i).buffer;return n[t]=a,a}(e,i.buffer),o=new db(lm(i.type,a),i.stride);return o.uuid=i.uuid,t[r]=o,o}var i=e.isInstancedBufferGeometry?new yw:new mm,a=e.data.index;if(void 0!==a){var o=lm(a.type,a.array);i.setIndex(new Kv(o,1))}var s=e.data.attributes;for(var l in s){var c=s[l],u=void 0;if(c.isInterleavedBufferAttribute){u=new pb(r(e.data,c.data),c.itemSize,c.offset,c.normalized)}else{var d=lm(c.type,c.array);u=new(c.isInstancedBufferAttribute?bw:Kv)(d,c.itemSize,c.normalized)}void 0!==c.name&&(u.name=c.name),i.setAttribute(l,u)}var h=e.data.morphAttributes;if(h)for(var f in h){for(var p=h[f],v=[],m=0,g=p.length;m<g;m++){var y=p[m],b=void 0;if(y.isInterleavedBufferAttribute)b=new pb(r(e.data,y.data),y.itemSize,y.offset,y.normalized);else b=new Kv(lm(y.type,y.array),y.itemSize,y.normalized);void 0!==y.name&&(b.name=y.name),v.push(b)}i.morphAttributes[f]=v}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);var _=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==_)for(var x=0,w=_.length;x!==w;++x){var S=_[x];i.addGroup(S.start,S.count,S.materialIndex)}var k=e.data.boundingSphere;if(void 0!==k){var E=new xp;void 0!==k.center&&E.fromArray(k.center),i.boundingSphere=new Hp(E,k.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}});function xw(e){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),kx.call(this,e),this.options={premultiplyAlpha:"none"}}function ww(){this.type="ShapePath",this.color=new Uv,this.subPaths=[],this.currentPath=null}xw.prototype=Object.assign(Object.create(kx.prototype),{constructor:xw,isImageBitmapLoader:!0,setOptions:function(e){return this.options=e,this},load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=xx.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,i.options)})).then((function(n){xx.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}),Object.assign(ww.prototype,{moveTo:function(e,t){return this.currentPath=new ew,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this},bezierCurveTo:function(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new tw;a.curves=i.curves,t.push(a)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],l=s.x-o.x,c=s.y-o.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(o=t[a],l=-l,s=t[i],c=-c),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var u=c*(e.x-o.x)-l*(e.y-o.y);if(0===u)return!0;if(u<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var i,a,o,s=B_.isClockWise,l=this.subPaths;if(0===l.length)return[];if(!0===t)return n(l);var c=[];if(1===l.length)return a=l[0],(o=new tw).curves=a.curves,c.push(o),c;var u=!s(l[0].getPoints());u=e?!u:u;var d,h,f=[],p=[],v=[],m=0;p[m]=void 0,v[m]=[];for(var g=0,y=l.length;g<y;g++)i=s(d=(a=l[g]).getPoints()),(i=e?!i:i)?(!u&&p[m]&&m++,p[m]={s:new tw,p:d},p[m].s.curves=a.curves,u&&m++,v[m]=[]):v[m].push({h:a,p:d[0]});if(!p[0])return n(l);if(p.length>1){for(var b=!1,_=[],x=0,w=p.length;x<w;x++)f[x]=[];for(var S=0,k=p.length;S<k;S++)for(var E=v[S],M=0;M<E.length;M++){for(var T=E[M],P=!0,A=0;A<p.length;A++)r(T.p,p[A].p)&&(S!==A&&_.push({froms:S,tos:A,hole:M}),P?(P=!1,f[A].push(T)):b=!0);P&&f[S].push(T)}_.length>0&&(b||(v=f))}for(var C=0,R=p.length;C<R;C++){o=p[C].s,c.push(o);for(var O=0,L=(h=v[C]).length;O<L;O++)o.holes.push(h[O].h)}return c}});var Sw,kw=function(){function e(t){Lt(this,e),Object.defineProperty(this,"isFont",{value:!0}),this.type="Font",this.data=t}return It(e,[{key:"generateShapes",value:function(e){for(var t=[],n=function(e,t,n){for(var r=Array.from?Array.from(e):String(e).split(""),i=t/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,o=[],s=0,l=0,c=0;c<r.length;c++){var u=r[c];if("\n"===u)s=0,l-=a;else{var d=Ew(u,i,s,l,n);s+=d.offsetX,o.push(d.path)}}return o}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,this.data),r=0,i=n.length;r<i;r++)Array.prototype.push.apply(t,n[r].toShapes());return t}}]),e}();function Ew(e,t,n,r,i){var a=i.glyphs[e]||i.glyphs["?"];if(a){var o,s,l,c,u,d,h,f,p=new ww;if(a.o)for(var v=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),m=0,g=v.length;m<g;){switch(v[m++]){case"m":o=v[m++]*t+n,s=v[m++]*t+r,p.moveTo(o,s);break;case"l":o=v[m++]*t+n,s=v[m++]*t+r,p.lineTo(o,s);break;case"q":l=v[m++]*t+n,c=v[m++]*t+r,u=v[m++]*t+n,d=v[m++]*t+r,p.quadraticCurveTo(u,d,l,c);break;case"b":l=v[m++]*t+n,c=v[m++]*t+r,u=v[m++]*t+n,d=v[m++]*t+r,h=v[m++]*t+n,f=v[m++]*t+r,p.bezierCurveTo(u,d,h,f,l,c)}}return{offsetX:a.ha*t,path:p}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".")}function Mw(e){kx.call(this,e)}Mw.prototype=Object.assign(Object.create(kx.prototype),{constructor:Mw,load:function(e,t,n,r){var i=this,a=new Mx(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(e){var n;try{n=JSON.parse(e)}catch(sC){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)}),n,r)},parse:function(e){return new kw(e)}});var Tw={getContext:function(){return void 0===Sw&&(Sw=new(window.AudioContext||window.webkitAudioContext)),Sw},setContext:function(e){Sw=e}};function Pw(e){kx.call(this,e)}function Aw(e,t,n){vw.call(this,void 0,n);var r=(new Uv).set(e),i=(new Uv).set(t),a=new xp(r.r,r.g,r.b),o=new xp(i.r,i.g,i.b),s=Math.sqrt(Math.PI),l=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(l)}function Cw(e,t){vw.call(this,void 0,t);var n=(new Uv).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}Pw.prototype=Object.assign(Object.create(kx.prototype),{constructor:Pw,load:function(e,t,n,r){var i=this,a=new Mx(i.manager);a.setResponseType("arraybuffer"),a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{var a=n.slice(0);Tw.getContext().decodeAudioData(a,(function(e){t(e)}))}catch(sC){r?r(sC):console.error(sC),i.manager.itemError(e)}}),n,r)}}),Aw.prototype=Object.assign(Object.create(vw.prototype),{constructor:Aw,isHemisphereLightProbe:!0,copy:function(e){return vw.prototype.copy.call(this,e),this},toJSON:function(e){return vw.prototype.toJSON.call(this,e)}}),Cw.prototype=Object.assign(Object.create(vw.prototype),{constructor:Cw,isAmbientLightProbe:!0,copy:function(e){return vw.prototype.copy.call(this,e),this},toJSON:function(e){return vw.prototype.toJSON.call(this,e)}});var Rw=new Kp,Ow=new Kp;Object.assign(function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Wm,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Wm,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}.prototype,{update:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var n,r,i=e.projectionMatrix.clone(),a=t.eyeSep/2,o=a*t.near/t.focus,s=t.near*Math.tan(dp.DEG2RAD*t.fov*.5)/t.zoom;Ow.elements[12]=-a,Rw.elements[12]=a,n=-s*t.aspect+o,r=s*t.aspect+o,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(i),n=-s*t.aspect-o,r=s*t.aspect-o,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Ow),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Rw)}});var Lw=function(e){Wl(n,e);var t=Xl(n);function n(e){var r;return Lt(this,n),(r=t.call(this)).type="Audio",r.listener=e,r.context=e.context,r.gain=r.context.createGain(),r.gain.connect(e.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return It(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(_v),Fw=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;Lt(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return It(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}();function Iw(e,t,n){var r,i,a;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(Iw.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a},accumulateAdditive:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var l=t,c=t+t;l!==c;++l)if(n[l]!==n[l+t]){o.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]},_select:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]},_slerp:function(e,t,n,r){_p.slerpFlat(e,t,e,t,e,n,r)},_slerpAdditive:function(e,t,n,r,i){var a=this._workIndex*i;_p.multiplyQuaternionsFlat(e,a,e,t,e,n),_p.slerpFlat(e,t,e,t,e,a,r)},_lerp:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}},_lerpAdditive:function(e,t,n,r,i){for(var a=0;a!==i;++a){var o=t+a;e[o]=e[o]+e[n+a]*r}}});var Nw="\\[\\]\\.:\\/",Dw=new RegExp("["+Nw+"]","g"),jw="[^"+Nw+"]",zw="[^"+Nw.replace("\\.","")+"]",Hw=/((?:WC+[\/:])*)/.source.replace("WC",jw),Bw=/(WCOD+)?/.source.replace("WCOD",zw),Uw=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",jw),Gw=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",jw),Ww=new RegExp("^"+Hw+Bw+Uw+Gw+"$"),Vw=["material","materials","bones"];function qw(e,t,n){var r=n||Xw.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function Xw(e,t,n){this.path=t,this.parsedPath=n||Xw.parseTrackName(t),this.node=Xw.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}Object.assign(qw.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(Xw,{Composite:qw,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Xw.Composite(e,t,n):new Xw(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(Dw,"")},parseTrackName:function(e){var t=Ww.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==Vw.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}),Object.assign(Xw.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=Xw.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var a=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===a){a=o;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==a){if(void 0===e[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[a]}}var s=e[r];if(void 0!==s){var l=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else{var u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Xw.prototype,{_getValue_unbound:Xw.prototype.getValue,_setValue_unbound:Xw.prototype.setValue}),Object.assign(function(){this.uuid=dp.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length,o=void 0,s=e.length,l=this.nCachedObjects_,c=0,u=arguments.length;c!==u;++c){var d=arguments[c],h=d.uuid,f=t[h];if(void 0===f){f=s++,t[h]=f,e.push(d);for(var p=0,v=a;p!==v;++p)i[p].push(new Xw(d,n[p],r[p]))}else if(f<l){o=e[f];var m=--l,g=e[m];t[g.uuid]=f,e[f]=g,t[h]=m,e[m]=d;for(var y=0,b=a;y!==b;++y){var _=i[y],x=_[m],w=_[f];_[f]=x,void 0===w&&(w=new Xw(d,n[y],r[y])),_[m]=w}}else e[f]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l},remove:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],l=s.uuid,c=t[l];if(void 0!==c&&c>=i){var u=i++,d=e[u];t[d.uuid]=c,e[c]=d,t[l]=u,e[u]=s;for(var h=0,f=r;h!==f;++h){var p=n[h],v=p[u],m=p[c];p[c]=v,p[u]=m}}}this.nCachedObjects_=i},uncache:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=e.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o].uuid,c=t[l];if(void 0!==c)if(delete t[l],c<i){var u=--i,d=e[u],h=--a,f=e[h];t[d.uuid]=c,e[c]=d,t[f.uuid]=u,e[u]=f,e.pop();for(var p=0,v=r;p!==v;++p){var m=n[p],g=m[u],y=m[h];m[c]=g,m[u]=y,m.pop()}}else{var b=--a,_=e[b];b>0&&(t[_.uuid]=c),e[c]=_,e.pop();for(var x=0,w=r;x!==w;++x){var S=n[x];S[c]=S[b],S.pop()}}}this.nCachedObjects_=i},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(u);for(var d=c,h=s.length;d!==h;++d){var f=s[d];u[d]=new Xw(f,e,t)}return u},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}});var Yw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;Lt(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=i;for(var a=n.tracks,o=a.length,s=new Array(o),l={endingStart:jf,endingEnd:jf},c=0;c!==o;++c){var u=a[c].createInterpolant(null);s[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Ff,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return It(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,o=r/i;e.warp(1,a,t),this.warp(o,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,i=r.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/a,l[1]=t/a,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;if(a<0||0===n)return;this._startTime=null,t=n*a}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var l=this._interpolants,c=this._propertyBindings;if(this.blendMode===Uf)for(var u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(s);else for(var h=0,f=l.length;h!==f;++h)l[h].evaluate(o),c[h].accumulate(r,s)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,a=2202===n;if(0===e)return-1===i?r:a&&1===(1&i)?t-r:r;if(2200===n){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){var o=Math.floor(r/t);r-=t*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var l=e<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&1===(1&i))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=zf,r.endingEnd=zf):(r.endingStart=e?this.zeroSlopeAtStart?zf:jf:Hf,r.endingEnd=t?this.zeroSlopeAtEnd?zf:jf:Hf)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}]),e}();function Kw(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}Kw.prototype=Object.assign(Object.create(op.prototype),{constructor:Kw,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,c=l[s];void 0===c&&(c={},l[s]=c);for(var u=0;u!==i;++u){var d=r[u],h=d.name,f=c[h];if(void 0!==f)a[u]=f;else{if(void 0!==(f=a[u])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,h));continue}var p=t&&t._propertyBindings[u].binding.parsedPath;++(f=new Iw(Xw.create(n,h,p),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(f,s,h),a[u]=f}o[u].resultBuffer=f.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new cx(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,n){var r=t||this._root,i=r.uuid,a="string"===typeof e?bx.findByName(r,e):e,o=null!==a?a.uuid:e,s=this._actionsByClip[o],l=null;if(void 0===n&&(n=null!==a?a.blendMode:Bf),void 0!==s){var c=s.actionByRoot[i];if(void 0!==c&&c.blendMode===n)return c;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;var u=new Yw(this,a,t,n);return this._bindAction(u,l),this._addInactiveAction(u,o,i),u},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?bx.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null},stopAllAction:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(r,e,i,a)}for(var s=this._bindings,l=this._nActiveBindings,c=0;c!==l;++c)s[c].apply(a);return this},setTime:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var c=l._cacheIndex,u=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,u._cacheIndex=c,t[c]=u,t.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}});var Jw=function(){function e(t){Lt(this,e),"string"===typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}return It(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}();function Zw(e,t,n){db.call(this,e,t),this.meshPerAttribute=n||1}function Qw(e,t,n,r,i){this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=i,this.version=0}function $w(e,t,n,r){this.ray=new Yp(e,t),this.near=n||0,this.far=r||1/0,this.camera=null,this.layers=new ov,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function eS(e,t){return e.distance-t.distance}function tS(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,a=0,o=i.length;a<o;a++)tS(i[a],t,n,!0)}Zw.prototype=Object.assign(Object.create(db.prototype),{constructor:Zw,isInstancedInterleavedBuffer:!0,copy:function(e){return db.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){var t=db.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){var t=db.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}),Object.defineProperty(Qw.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Qw.prototype,{isGLBufferAttribute:!0,setBuffer:function(e){return this.buffer=e,this},setType:function(e,t){return this.type=e,this.elementSize=t,this},setItemSize:function(e){return this.itemSize=e,this},setCount:function(e){return this.count=e,this}}),Object.assign($w.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)},intersectObject:function(e,t,n){var r=n||[];return tS(e,this,r,t),r.sort(eS),r},intersectObjects:function(e,t,n){var r=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,a=e.length;i<a;i++)tS(e[i],this,r,t);return r.sort(eS),r}});var nS=new hp,rS=function(){function e(t,n){Lt(this,e),Object.defineProperty(this,"isBox2",{value:!0}),this.min=void 0!==t?t:new hp(1/0,1/0),this.max=void 0!==n?n:new hp(-1/0,-1/0)}return It(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=nS.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new hp),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new hp),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new hp),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new hp),t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return nS.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),iS=new xp,aS=new xp,oS=function(){function e(t,n){Lt(this,e),this.start=void 0!==t?t:new xp,this.end=void 0!==n?n:new xp}return It(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new xp),e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new xp),e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new xp),this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){iS.subVectors(e,this.start),aS.subVectors(this.end,this.start);var n=aS.dot(aS),r=aS.dot(iS)/n;return t&&(r=dp.clamp(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new xp),this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}]),e}();function sS(e){_v.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}sS.prototype=Object.create(_v.prototype),sS.prototype.constructor=sS,sS.prototype.isImmediateRenderObject=!0;var lS=new xp,cS=new Kp,uS=new Kp,dS=function(e){Wl(n,e);var t=Xl(n);function n(e){var r;Lt(this,n);for(var i=hS(e),a=new mm,o=[],s=[],l=new Uv(0,0,1),c=new Uv(0,1,0),u=0;u<i.length;u++){var d=i[u];d.parent&&d.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(l.r,l.g,l.b),s.push(c.r,c.g,c.b))}a.setAttribute("position",new im(o,3)),a.setAttribute("color",new im(s,3));var h=new Yb({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,a,h)).type="SkeletonHelper",r.isSkeletonHelper=!0,r.root=e,r.bones=i,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return It(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,i=r.getAttribute("position");uS.copy(this.root.matrixWorld).invert();for(var a=0,o=0;a<t.length;a++){var s=t[a];s.parent&&s.parent.isBone&&(cS.multiplyMatrices(uS,s.matrixWorld),lS.setFromMatrixPosition(cS),i.setXYZ(o,lS.x,lS.y,lS.z),cS.multiplyMatrices(uS,s.parent.matrixWorld),lS.setFromMatrixPosition(cS),i.setXYZ(o+1,lS.x,lS.y,lS.z),o+=2)}r.getAttribute("position").needsUpdate=!0,Gl(Ul(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(r_);function hS(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,hS(e.children[n]));return t}var fS=function(e){Wl(n,e);var t=Xl(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;Lt(this,n),a=new Uv(a),o=new Uv(o);for(var s=i/2,l=r/i,c=r/2,u=[],d=[],h=0,f=0,p=-c;h<=i;h++,p+=l){u.push(-c,0,p,c,0,p),u.push(p,0,-c,p,0,c);var v=h===s?a:o;v.toArray(d,f),f+=3,v.toArray(d,f),f+=3,v.toArray(d,f),f+=3,v.toArray(d,f),f+=3}var m=new mm;m.setAttribute("position",new im(u,3)),m.setAttribute("color",new im(d,3));var g=new Yb({vertexColors:!0,toneMapped:!1});return(e=t.call(this,m,g)).type="GridHelper",e}return It(n)}(r_);var pS=new Float32Array(1),vS=(new Int32Array(pS.buffer),4),mS=8,gS=(Math.pow(2,mS),[.125,.215,.35,.446,.526,.582]),yS=mS-vS+1+gS.length,bS=(Et($u={},Gf,0),Et($u,Wf,1),Et($u,qf,2),Et($u,Yf,3),Et($u,Kf,4),Et($u,Jf,5),Et($u,Vf,6),new qv({side:_d,depthWrite:!1,depthTest:!1})),_S=(new Fm(new Nm,bS),xS());_S._lodPlanes,_S._sizeLods,_S._sigmas,Math.sqrt(5);function xS(){for(var e=[],t=[],n=[],r=mS,i=0;i<yS;i++){var a=Math.pow(2,r);t.push(a);var o=1/a;i>mS-vS?o=gS[i-mS+vS-1]:0==i&&(o=0),n.push(o);for(var s=1/(a-1),l=-s/2,c=1+s/2,u=[l,l,c,l,c,c,l,l,c,c,l,c],d=new Float32Array(108),h=new Float32Array(72),f=new Float32Array(36),p=0;p<6;p++){var v=p%3*2/3-1,m=p>2?0:-1,g=[v,m,0,v+2/3,m,0,v+2/3,m+1,0,v,m,0,v+2/3,m+1,0,v,m+1,0];d.set(g,18*p),h.set(u,12*p);var y=[p,p,p,p,p,p];f.set(y,6*p)}var b=new mm;b.setAttribute("position",new Kv(d,3)),b.setAttribute("uv",new Kv(h,2)),b.setAttribute("faceIndex",new Kv(f,1)),e.push(b),r>vS&&r--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}function wS(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Bx.call(this,e),this.type="catmullrom"}Lx.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Lx.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(ew.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Object.create(Bx.prototype),Object.create(Bx.prototype),wS.prototype=Object.create(Bx.prototype),Object.assign(wS.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),fS.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},dS.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(kx.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),gw(e)}}),kx.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(rS.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(kp.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(Hp.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),$m.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},oS.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(dp,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),dp.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),dp.ceilPowerOfTwo(e)}}),Object.assign(fp.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},getInverse:function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()}}),Object.assign(Kp.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new xp).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,a)},getInverse:function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()}}),kv.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},Object.assign(_p.prototype,{multiplyVector3:function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},inverse:function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()}}),Object.assign(Yp.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(Iv.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(Iv,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Iv.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Iv.getNormal(e,t,n,r)}}),Object.assign(tw.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new W_(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new X_(this,e)}}),Object.assign(hp.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(xp.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(yp.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(_v.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(_v.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(Fm.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(Fm.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(Ob.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Ub.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),jb.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Lx.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Wm.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(nw.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Kv.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===ip},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(ip)}}}),Object.assign(Kv.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?ip:rp),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(mm.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Kv(arguments[1],arguments[2])))},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(mm.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(yw.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}}),Object.defineProperties($w.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),Object.defineProperties(db.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===ip},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Object.assign(db.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?ip:rp),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(W_.prototype,{getArrays:function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")}}),Object.assign(ub.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}}),Object.defineProperties(Jw.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Vv.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Uv}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties($_.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Q_.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(e){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=e}}}),Object.defineProperties(Um.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(lb.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(lb.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?Wf:Gf}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties($y.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(bp.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(Lw.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new Pw).load(e,(function(e){t.setBuffer(e)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),Fw.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Xm.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},Xm.prototype.clear=function(e,t,n,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,n,r)};pp.crossOrigin=void 0,pp.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new Ox;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},pp.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Cx;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},pp.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},pp.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"125"}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="125");var SS=function(e,t){return SS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},SS(e,t)};function kS(e,t){function n(){this.constructor=e}SS(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ES=function(){return ES=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ES.apply(this,arguments)};function MS(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function TS(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}var PS=function(e,t){return function(n){return Math.max(Math.min(n,t),e)}},AS=function(e){return e%1?Number(e.toFixed(5)):e},CS=/(-)?(\d[\d\.]*)/g,RS=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,OS=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i,LS={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},FS=ES(ES({},LS),{transform:PS(0,1)}),IS=(ES(ES({},LS),{default:1}),function(e){return{test:function(t){return"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return""+t+e}}}),NS=IS("deg"),DS=IS("%"),jS=IS("px"),zS=IS("vh"),HS=IS("vw"),BS=(ES(ES({},DS),{parse:function(e){return DS.parse(e)/100},transform:function(e){return DS.transform(100*e)}}),function(e){return e.substring(e.indexOf("(")+1,e.lastIndexOf(")"))}),US=PS(0,255),GS=function(e){return void 0!==e.red},WS=function(e){return void 0!==e.hue};var VS=function(e){return function(t){if("string"!==typeof t)return t;for(var n={},r=function(e){return BS(e).replace(/(,|\/)/g," ").split(/ \s*/)}(t),i=0;i<4;i++)n[e[i]]=void 0!==r[i]?parseFloat(r[i]):1;return n}},qS=ES(ES({},LS),{transform:function(e){return Math.round(US(e))}});function XS(e,t){return e.startsWith(t)&&OS.test(e)}var YS={test:function(e){return"string"===typeof e?XS(e,"rgb"):GS(e)},parse:VS(["red","green","blue","alpha"]),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,a=void 0===i?1:i;return function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha;return"rgba("+t+", "+n+", "+r+", "+(void 0===i?1:i)+")"}({red:qS.transform(t),green:qS.transform(n),blue:qS.transform(r),alpha:AS(FS.transform(a))})}},KS={test:function(e){return"string"===typeof e?XS(e,"hsl"):WS(e)},parse:VS(["hue","saturation","lightness","alpha"]),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,a=void 0===i?1:i;return function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;return"hsla("+t+", "+n+", "+r+", "+(void 0===i?1:i)+")"}({hue:Math.round(t),saturation:DS.transform(AS(n)),lightness:DS.transform(AS(r)),alpha:AS(FS.transform(a))})}},JS=ES(ES({},YS),{test:function(e){return"string"===typeof e&&XS(e,"#")},parse:function(e){var t="",n="",r="";return e.length>4?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),t+=t,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:1}}}),ZS={test:function(e){return"string"===typeof e&&OS.test(e)||GS(e)||WS(e)},parse:function(e){return YS.test(e)?YS.parse(e):KS.test(e)?KS.parse(e):JS.test(e)?JS.parse(e):e},transform:function(e){return GS(e)?YS.transform(e):WS(e)?KS.transform(e):e}},QS="${c}",$S="${n}",ek=function(e){return"number"===typeof e?0:e},tk={test:function(e){if("string"!==typeof e||!isNaN(e))return!1;var t=0,n=e.match(CS),r=e.match(RS);return n&&(t+=n.length),r&&(t+=r.length),t>0},parse:function(e){var t=e,n=[],r=t.match(RS);r&&(t=t.replace(RS,QS),n.push.apply(n,r.map(ZS.parse)));var i=t.match(CS);return i&&n.push.apply(n,i.map(LS.parse)),n},createTransformer:function(e){var t=e,n=0,r=e.match(RS),i=r?r.length:0;if(r)for(var a=0;a<i;a++)t=t.replace(r[a],QS),n++;var o=t.match(CS),s=o?o.length:0;if(o)for(a=0;a<s;a++)t=t.replace(o[a],$S),n++;return function(e){for(var r=t,a=0;a<n;a++)r=r.replace(a<i?QS:$S,a<i?ZS.transform(e[a]):AS(e[a]));return r}},getAnimatableNone:function(e){var t=tk.parse(e);return tk.createTransformer(e)(t.map(ek))}},nk=function(){};var rk=0,ik="undefined"!==typeof window&&void 0!==window.requestAnimationFrame?function(e){return window.requestAnimationFrame(e)}:function(e){var t=Date.now(),n=Math.max(0,16.7-(t-rk));rk=t+n,setTimeout((function(){return e(rk)}),n)},ak=1/60*1e3,ok=!0,sk=!1,lk=!1,ck={delta:0,timestamp:0},uk=["read","update","preRender","render","postRender"],dk=function(e){return sk=e},hk=uk.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,i=!1,a=0,o=new WeakSet,s=new WeakSet,l={cancel:function(e){var t=n.indexOf(e);o.add(e),-1!==t&&n.splice(t,1)},process:function(c){var u,d;if(i=!0,t=(u=[n,t])[0],(n=u[1]).length=0,r=t.length)for(a=0;a<r;a++)(d=t[a])(c),!0!==s.has(d)||o.has(d)||(l.schedule(d),e(!0));i=!1},schedule:function(e,a,l){void 0===a&&(a=!1),void 0===l&&(l=!1),nk("function"===typeof e,"Argument must be a function");var c=l&&i,u=c?t:n;o.delete(e),a&&s.add(e),-1===u.indexOf(e)&&(u.push(e),c&&(r=t.length))}};return l}(dk),e}),{}),fk=uk.reduce((function(e,t){var n=hk[t];return e[t]=function(e,t,r){return void 0===t&&(t=!1),void 0===r&&(r=!1),sk||gk(),n.schedule(e,t,r),e},e}),{}),pk=uk.reduce((function(e,t){return e[t]=hk[t].cancel,e}),{}),vk=function(e){return hk[e].process(ck)},mk=function e(t){sk=!1,ck.delta=ok?ak:Math.max(Math.min(t-ck.timestamp,40),1),ok||(ak=ck.delta),ck.timestamp=t,lk=!0,uk.forEach(vk),lk=!1,sk&&(ok=!1,ik(e))},gk=function(){sk=!0,ok=!0,lk||ik(mk)},yk=function(){return ck},bk=fk;var _k=function(e){return"number"===typeof e},xk=function(e){return function(t,n,r){return void 0!==r?e(t,n,r):function(r){return e(t,n,r)}}},wk=xk((function(e,t,n){return Math.min(Math.max(n,e),t)})),Sk=function(e,t,n){return-n*e+n*t+e},kk=function(){return kk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},kk.apply(this,arguments)},Ek=function(e,t,n){var r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},Mk=[JS,YS,KS],Tk=function(e){return Mk.find((function(t){return t.test(e)}))},Pk=function(e){return"'"+e+"' is not an animatable color. Use the equivalent color code instead."},Ak=function(e,t){var n=Tk(e),r=Tk(t);nk(!!n,Pk(e)),nk(!!r,Pk(t)),nk(n.transform===r.transform,"Both colors must be hex/RGBA, OR both must be HSLA.");var i=n.parse(e),a=r.parse(t),o=kk({},i),s=n===KS?Sk:Ek;return function(e){for(var t in o)"alpha"!==t&&(o[t]=s(i[t],a[t],e));return o.alpha=Sk(i.alpha,a.alpha,e),n.transform(o)}},Ck=function(e,t){return function(n){return t(e(n))}},Rk=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(Ck)};function Ok(e,t){return _k(e)?function(n){return Sk(e,t,n)}:ZS.test(e)?Ak(e,t):Ik(e,t)}var Lk=function(e,t){var n=e.slice(),r=n.length,i=e.map((function(e,n){return Ok(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}};function Fk(e){for(var t=tk.parse(e),n=t.length,r=0,i=0,a=0,o=0;o<n;o++)r||"number"===typeof t[o]?r++:void 0!==t[o].hue?a++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:a}}var Ik=function(e,t){var n=tk.createTransformer(t),r=Fk(e),i=Fk(t);return nk(r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers,"Complex values '"+e+"' and '"+t+"' too different to mix. Ensure all colors are of the same type."),Rk(Lk(r.parsed,i.parsed),n)};var Nk=function(e){return e},Dk=function(e){return void 0===e&&(e=Nk),xk((function(t,n,r){var i=n-r,a=-(0-t+1)*(0-e(Math.abs(i)));return i<=0?n+a:n-a}))},jk=(Dk(),Dk(Math.sqrt),function(e,t){return t?e*(1e3/t):0});xk((function(e,t,n){var r=t-e;return((n-e)%r+r)%r+e})),wk(0,1);Math.round;var zk=function(){function e(e){void 0===e&&(e={}),this.props=e}return e.prototype.applyMiddleware=function(e){return this.create(ES(ES({},this.props),{middleware:this.props.middleware?TS([e],this.props.middleware):[e]}))},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=1===e.length?e[0]:Rk.apply(void 0,e);return this.applyMiddleware((function(e){return function(t){return e(n(t))}}))},e.prototype.while=function(e){return this.applyMiddleware((function(t,n){return function(r){return e(r)?t(r):n()}}))},e.prototype.filter=function(e){return this.applyMiddleware((function(t){return function(n){return e(n)&&t(n)}}))},e}(),Hk=function(){return function(e,t){var n=this,r=e.middleware,i=e.onComplete;this.isActive=!0,this.update=function(e){n.observer.update&&n.updateObserver(e)},this.complete=function(){n.observer.complete&&n.isActive&&n.observer.complete(),n.onComplete&&n.onComplete(),n.isActive=!1},this.error=function(e){n.observer.error&&n.isActive&&n.observer.error(e),n.isActive=!1},this.observer=t,this.updateObserver=function(e){return t.update(e)},this.onComplete=i,t.update&&r&&r.length&&r.forEach((function(e){return n.updateObserver=e(n.updateObserver,n.complete)}))}}(),Bk=function(e,t,n){var r=t.middleware;return new Hk({middleware:r,onComplete:n},"function"===typeof e?{update:e}:e)},Uk=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return kS(t,e),t.prototype.create=function(e){return new t(e)},t.prototype.start=function(e){void 0===e&&(e={});var t=!1,n={stop:function(){}},r=this.props,i=r.init,a=MS(r,["init"]),o=i(Bk(e,a,(function(){t=!0,n.stop()})));return n=o?ES(ES({},n),o):n,e.registerParent&&e.registerParent(n),t&&n.stop(),n},t}(zk),Gk=function(e){return new Uk({init:e})},Wk=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.subscribers=[],t}return kS(t,e),t.prototype.complete=function(){this.subscribers.forEach((function(e){return e.complete()}))},t.prototype.error=function(e){this.subscribers.forEach((function(t){return t.error(e)}))},t.prototype.update=function(e){for(var t=0;t<this.subscribers.length;t++)this.subscribers[t].update(e)},t.prototype.subscribe=function(e){var t=this,n=Bk(e,this.props);this.subscribers.push(n);var r={unsubscribe:function(){var e=t.subscribers.indexOf(n);-1!==e&&t.subscribers.splice(e,1)}};return r},t.prototype.stop=function(){this.parent&&this.parent.stop()},t.prototype.registerParent=function(e){this.stop(),this.parent=e},t}(zk),Vk=function(e){return Array.isArray(e)},qk=function(e){var t=typeof e;return"string"===t||"number"===t},Xk=function(e){function t(t){var n=e.call(this,t)||this;return n.scheduleVelocityCheck=function(){return bk.postRender(n.velocityCheck)},n.velocityCheck=function(e){e.timestamp!==n.lastUpdated&&(n.prev=n.current)},n.prev=n.current=t.value||0,qk(n.current)?(n.updateCurrent=function(e){return n.current=e},n.getVelocityOfCurrent=function(){return n.getSingleVelocity(n.current,n.prev)}):Vk(n.current)?(n.updateCurrent=function(e){return n.current=TS(e)},n.getVelocityOfCurrent=function(){return n.getListVelocity()}):(n.updateCurrent=function(e){for(var t in n.current={},e)e.hasOwnProperty(t)&&(n.current[t]=e[t])},n.getVelocityOfCurrent=function(){return n.getMapVelocity()}),t.initialSubscription&&n.subscribe(t.initialSubscription),n}return kS(t,e),t.prototype.create=function(e){return new t(e)},t.prototype.get=function(){return this.current},t.prototype.getVelocity=function(){return this.getVelocityOfCurrent()},t.prototype.update=function(t){e.prototype.update.call(this,t),this.prev=this.current,this.updateCurrent(t);var n=yk(),r=n.delta,i=n.timestamp;this.timeDelta=r,this.lastUpdated=i,bk.postRender(this.scheduleVelocityCheck)},t.prototype.subscribe=function(t){var n=e.prototype.subscribe.call(this,t);return this.subscribers[this.subscribers.length-1].update(this.current),n},t.prototype.getSingleVelocity=function(e,t){return"number"===typeof e&&"number"===typeof t?jk(e-t,this.timeDelta):jk(parseFloat(e)-parseFloat(t),this.timeDelta)||0},t.prototype.getListVelocity=function(){var e=this;return this.current.map((function(t,n){return e.getSingleVelocity(t,e.prev[n])}))},t.prototype.getMapVelocity=function(){var e={};for(var t in this.current)this.current.hasOwnProperty(t)&&(e[t]=this.getSingleVelocity(this.current[t],this.prev[t]));return e},t}(Wk),Yk=function(e){var t=e.getCount,n=e.getFirst,r=e.getOutput,i=e.mapApi,a=e.setProp,o=e.startActions;return function(e){return Gk((function(s){var l=s.update,c=s.complete,u=s.error,d=t(e),h=r(),f=function(){return l(h)},p=0,v=o(e,(function(e,t){var n=!1;return e.start({complete:function(){n||(n=!0,++p===d&&bk.update(c))},error:u,update:function(e){a(h,t,e),bk.update(f,!1,!0)}})}));return Object.keys(n(v)).reduce((function(e,t){return e[t]=i(v,t),e}),{})}))}},Kk=Yk({getOutput:function(){return{}},getCount:function(e){return Object.keys(e).length},getFirst:function(e){return e[Object.keys(e)[0]]},mapApi:function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Object.keys(e).reduce((function(r,i){var a;return e[i][t]&&(n[0]&&void 0!==n[0][i]?r[i]=e[i][t](n[0][i]):r[i]=(a=e[i])[t].apply(a,n)),r}),{})}},setProp:function(e,t,n){return e[t]=n},startActions:function(e,t){return Object.keys(e).reduce((function(n,r){return n[r]=t(e[r],r),n}),{})}}),Jk=Yk({getOutput:function(){return[]},getCount:function(e){return e.length},getFirst:function(e){return e[0]},mapApi:function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.map((function(e,r){if(e[t])return Array.isArray(n[0])?e[t](n[0][r]):e[t].apply(e,n)}))}},setProp:function(e,t,n){return e[t]=n},startActions:function(e,t){return e.map((function(e,n){return t(e,n)}))}}),Zk=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Jk(e)},Qk=[jS,DS,NS,zS,HS],$k=function(e){return Qk.find((function(t){return t.test(e)}))},eE=function(e,t){return e(t)},tE=function(e,t,n){var r=n[0],i=t[r].map((function(r,i){var a=n.reduce(function(e){return function(t,n){return t[n]=t[n][e],t}}(i),ES({},t));return lE(r)(e,a)}));return Zk.apply(void 0,i)},nE=function(e,t,n){var r=n[0],i=Object.keys(t[r]).reduce((function(i,a){var o=n.reduce(function(e){return function(t,n){return t[n]=t[n][e],t}}(a),ES({},t));return i[a]=lE(t[r][a])(e,o),i}),{});return Kk(i)},rE=function(e,t){var n=t.from,r=t.to,i=MS(t,["from","to"]),a=$k(n)||$k(r),o=a.transform,s=a.parse;return e(ES(ES({},i),{from:"string"===typeof n?s(n):n,to:"string"===typeof r?s(r):r})).pipe(o)},iE=function(e){return function(t,n){var r=n.from,i=n.to,a=MS(n,["from","to"]);return t(ES(ES({},a),{from:0,to:1})).pipe(e(r,i))}},aE=iE(Ak),oE=iE(Ik),sE=function(e,t){var n=function(e){var t=Object.keys(e),n=function(t,n){return void 0!==t&&!e[n](t)};return{getVectorKeys:function(e){return t.reduce((function(t,r){return n(e[r],r)&&t.push(r),t}),[])},testVectorProps:function(e){return e&&t.some((function(t){return n(e[t],t)}))}}}(t),r=n.testVectorProps,i=n.getVectorKeys;return function(t){if(!r(t))return e(t);var n=i(t),a=t[n[0]];return lE(a)(e,t,n)}},lE=function(e){return"number"===typeof e?eE:Array.isArray(e)?tE:function(e){return Boolean($k(e))}(e)?rE:ZS.test(e)?aE:tk.test(e)?oE:"object"===typeof e?nE:eE},cE=function(e){return void 0===e&&(e={}),Gk((function(t){var n=t.update,r=t.complete,i=e.velocity,a=void 0===i?0:i,o=e.from,s=void 0===o?0:o,l=e.to,c=void 0===l?0:l,u=e.stiffness,d=void 0===u?100:u,h=e.damping,f=void 0===h?10:h,p=e.mass,v=void 0===p?1:p,m=e.restSpeed,g=void 0===m?.01:m,y=e.restDelta,b=void 0===y?.01:y,_=a?-a/1e3:0,x=0,w=c-s,S=s,k=S,E=bk.update((function(e){var t=e.delta;x+=t;var i=f/(2*Math.sqrt(d*v)),o=Math.sqrt(d/v)/1e3;if(k=S,i<1){var s=Math.exp(-i*o*x),l=o*Math.sqrt(1-i*i);S=c-s*((_+i*o*w)/l*Math.sin(l*x)+w*Math.cos(l*x))}else{s=Math.exp(-o*x);S=c-s*(w+(_+o*w)*x)}a=jk(S-k,t);var u=Math.abs(a)<=g,h=Math.abs(c-S)<=b;u&&h?(n(S=c),pk.update(E),r()):n(S)}),!0);return{stop:function(){return pk.update(E)}}}))},uE=sE(cE,{from:LS.test,to:LS.test,stiffness:LS.test,damping:LS.test,mass:LS.test,velocity:LS.test}),dE=function(e,t,n){return Gk((function(r){var i=r.update,a=t.split(" ").map((function(t){return e.addEventListener(t,i,n),t}));return{stop:function(){return a.forEach((function(t){return e.removeEventListener(t,i,n)}))}}}))},hE=function(){return{clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}},fE=function(e,t){return void 0===t&&(t={clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}),t.clientX=t.x=e.clientX,t.clientY=t.y=e.clientY,t.pageX=e.pageX,t.pageY=e.pageY,t},pE=[hE()];if("undefined"!==typeof document){dE(document,"touchstart touchmove",{passive:!0,capture:!0}).start((function(e){var t=e.touches;!0;var n=t.length;pE.length=0;for(var r=0;r<n;r++){var i=t[r];pE.push(fE(i))}}))}var vE=hE();if("undefined"!==typeof document){dE(document,"mousedown mousemove",!0).start((function(e){!0,fE(e,vE)}))}var mE=__webpack_require__(802),gE=__webpack_require__.n(mE),yE=function(e){return e&&e.offsetHeight};function bE(e,t,r){return bE=Vl()?Reflect.construct.bind():function(e,t,r){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return r&&n(a,r.prototype),a},bE.apply(null,arguments)}for(var _E=[],xE=0;xE<256;xE++)_E[xE]=(xE<16?"0":"")+xE.toString(16);var wE=1234567,SE={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(_E[255&e]+_E[e>>8&255]+_E[e>>16&255]+_E[e>>24&255]+"-"+_E[255&t]+_E[t>>8&255]+"-"+_E[t>>16&15|64]+_E[t>>24&255]+"-"+_E[63&n|128]+_E[n>>8&255]+"-"+_E[n>>16&255]+_E[n>>24&255]+_E[255&r]+_E[r>>8&255]+_E[r>>16&255]+_E[r>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},damp:function(e,t,n,r){return SE.lerp(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(SE.euclideanModulo(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(wE=e%2147483647),((wE=16807*wE%2147483647)-1)/2147483646},degToRad:function(e){return e*SE.DEG2RAD},radToDeg:function(e){return e*SE.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),c=a((t+r)/2),u=o((t+r)/2),d=a((t-r)/2),h=o((t-r)/2),f=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*u,l*d,l*h,s*c);break;case"YZY":e.set(l*h,s*u,l*d,s*c);break;case"ZXZ":e.set(l*d,l*h,s*u,s*c);break;case"XZX":e.set(s*u,l*p,l*f,s*c);break;case"YXY":e.set(l*f,s*u,l*p,s*c);break;case"ZYZ":e.set(l*p,l*f,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}},kE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},EE={h:0,s:0,l:0},ME={h:0,s:0,l:0};function TE(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function PE(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function AE(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var CE=function(){function e(t,n,r){return Lt(this,e),Object.defineProperty(this,"isColor",{value:!0}),void 0===n&&void 0===r?this.set(t):this.setRGB(t,n,r)}return It(e,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}},{key:"setRGB",value:function(e,t,n){return this.r=e,this.g=t,this.b=n,this}},{key:"setHSL",value:function(e,t,n){if(e=SE.euclideanModulo(e,1),t=SE.clamp(t,0,1),n=SE.clamp(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=TE(i,r,e+1/3),this.g=TE(i,r,e),this.b=TE(i,r,e-1/3)}return this}},{key:"setStyle",value:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var r,i=n[1],a=n[2];switch(i){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100;return t(r[4]),this.setHSL(o,s,l)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){var c=n[1],u=c.length;if(3===u)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}},{key:"setColorName",value:function(e){var t=kE[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copyGammaToLinear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}},{key:"copyLinearToGamma",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}},{key:"convertGammaToLinear",value:function(e){return this.copyGammaToLinear(this,e),this}},{key:"convertLinearToGamma",value:function(e){return this.copyLinearToGamma(this,e),this}},{key:"copySRGBToLinear",value:function(e){return this.r=PE(e.r),this.g=PE(e.g),this.b=PE(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=AE(e.r),this.g=AE(e.g),this.b=AE(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}},{key:"getHexString",value:function(){return("000000"+this.getHex().toString(16)).slice(-6)}},{key:"getHSL",value:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,r=this.r,i=this.g,a=this.b,o=Math.max(r,i,a),s=Math.min(r,i,a),l=(s+o)/2;if(s===o)t=0,n=0;else{var c=o-s;switch(n=l<=.5?c/(o+s):c/(2-o-s),o){case r:t=(i-a)/c+(i<a?6:0);break;case i:t=(a-r)/c+2;break;case a:t=(r-i)/c+4}t/=6}return e.h=t,e.s=n,e.l=l,e}},{key:"getStyle",value:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(EE),EE.h+=e,EE.s+=t,EE.l+=n,this.setHSL(EE.h,EE.s,EE.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(EE),e.getHSL(ME);var n=SE.lerp(EE.h,ME.h,t),r=SE.lerp(EE.s,ME.s,t),i=SE.lerp(EE.l,ME.l,t);return this.setHSL(n,r,i),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),e}();CE.NAMES=kE,CE.prototype.r=1,CE.prototype.g=1,CE.prototype.b=1;var RE=1024,OE=696,LE=function(e){return bE(CE,da(e.split(" ").map((function(e){return Number(e)/255}))))},FE=function(e){e.dispose();for(var t=0,n=Object.keys(e);t<n.length;t++){var r=e[n[t]];r&&"object"===typeof r&&"minFilter"in r&&r.dispose()}},IE=function(t){var n=(0,e.useContext)(pr).theme,r="light"===n?"250 250 250":"17 17 17",i=(0,e.useRef)(window.innerWidth),a=(0,e.useRef)(window.innerHeight),o=(0,e.useRef)(Date.now()),s=(0,e.useRef)(),l=(0,e.useRef)(),c=(0,e.useRef)(),u=(0,e.useRef)(),d=(0,e.useRef)(),h=(0,e.useRef)(),f=(0,e.useRef)(),p=(0,e.useRef)(),v=(0,e.useRef)(),m=(0,e.useRef)(),g=(0,e.useRef)(),y=(0,e.useRef)(),b=Boolean(!!window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!1),_=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Gt((0,e.useState)(!1),2),a=i[0],o=i[1],s=Gt((0,e.useState)(!1),2),l=s[0],c=s[1];return(0,e.useEffect)((function(){if(null!==t&&void 0!==t&&t.current){var e=new IntersectionObserver((function(t){var r=Gt(t,1)[0],i=r.isIntersecting,a=r.target;o(i),i&&n&&(e.unobserve(a),c(!0))}),r);return l||e.observe(t.current),function(){return e.disconnect()}}}),[t,n,r,l]),a}(s);return(0,e.useEffect)((function(){return l.current=new hp(.8,.5),c.current=new lb({canvas:s.current,powerPreference:"high-performance"}),c.current.setSize(i.current,a.current),c.current.setPixelRatio(1),c.current.outputEncoding=Wf,u.current=new Wm(55,i.current/a.current,.1,200),u.current.position.z=52,d.current=new ub,p.current=new $_,p.current.onBeforeCompile=function(e){f.current=zm.merge([ig.ambient,ig.lights,e.uniforms,{time:{type:"f",value:0}}]),e.uniforms=f.current,e.vertexShader="\nvec3 mod289(vec3 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec3 fade(vec3 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise\nfloat cnoise(vec3 P)\n{\n  vec3 Pi0 = floor(P); // Integer part for indexing\n  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n\n  vec4 gx0 = ixy0 * (1.0 / 7.0);\n  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 * (1.0 / 7.0);\n  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n  return 2.2 * n_xyz;\n}\n\n// Classic Perlin noise, periodic variant\nfloat pnoise(vec3 P, vec3 rep)\n{\n  vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period\n  vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n\n  vec4 gx0 = ixy0 * (1.0 / 7.0);\n  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 * (1.0 / 7.0);\n  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n  return 2.2 * n_xyz;\n}\n\nfloat turbulence(vec3 p) {\n  float w = 100.0;\n  float t = -.5;\n  for (float f = 1.0 ; f <= 10.0 ; f++) {\n    float power = pow(2.0, f);\n    t += abs(pnoise(vec3(power * p), vec3(10.0, 10.0, 10.0)) / power);\n  }\n  return t;\n}\n\n// START\nuniform float time;\nvarying vec2 vUv;\nvarying vec3 vNormal;\nvarying float noise;\n\nvarying vec3 vViewPosition;\n\nvoid main() {\n  #include <beginnormal_vertex>\n  #include <defaultnormal_vertex>\n  #include <begin_vertex>\n  #include <project_vertex>\n  #ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n    vNormal = normalize(transformedNormal);\n  #endif\n\n  vViewPosition = - mvPosition.xyz;\n\n  vUv = uv;\n\n  noise = turbulence(0.01 * position + normal + time * 0.8);\n  vec3 displacement = vec3((position.x) * noise, position.y * noise, position.z * noise);\n  gl_Position = projectionMatrix * modelViewMatrix * vec4((position + normal) + displacement, 1.0);\n}\n",e.fragmentShader="\n#define PHONG\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\nuniform float time;\nvarying vec2 vUv;\nvarying vec3 newPosition;\nvarying float noise;\n\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <envmap_physical_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n  #include <clipping_planes_fragment>\n\n  vec3 color = vec3(vUv * (0.2 - 2.0 * noise), 1.0);\n  vec3 finalColors = vec3(color.b * 1.5, color.r, color.r);\n  vec4 diffuseColor = vec4(cos(finalColors * noise * 3.0), 1.0);\n  ReflectedLight reflectedLight = ReflectedLight(vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));\n  vec3 totalEmissiveRadiance = emissive;\n\n  #include <logdepthbuf_fragment>\n  #include <map_fragment>\n  #include <color_fragment>\n  #include <alphamap_fragment>\n  #include <alphatest_fragment>\n  #include <specularmap_fragment>\n  #include <normal_fragment_begin>\n  #include <normal_fragment_maps>\n  #include <emissivemap_fragment>\n  #include <lights_phong_fragment>\n  #include <lights_fragment_begin>\n  #include <lights_fragment_maps>\n  #include <lights_fragment_end>\n  #include <aomap_fragment>\n\n  vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\n  #include <envmap_fragment>\n  #include <premultiplied_alpha_fragment>\n  #include <tonemapping_fragment>\n  #include <encodings_fragment>\n  #include <fog_fragment>\n\n  gl_FragColor = vec4(outgoingLight, diffuseColor.a);\n}\n",e.lights=!0},v.current=new Y_(32,228,128),m.current=new Fm(v.current,p.current),m.current.position.z=0,m.current.modifier=Math.random(),d.current.add(m.current),function(){!function(e){e.traverse((function(e){if(e.isMesh)if(e.geometry.dispose(),e.material.isMaterial)FE(e.material);else{var t,n=hd(e.material);try{for(n.s();!(t=n.n()).done;){var r=t.value;FE(r)}}catch(i){n.e(i)}finally{n.f()}}})),e.dispose()}(d.current),function(e){e.dispose(),e.forceContextLoss(),e=null}(c.current)}}),[]),(0,e.useEffect)((function(){var e=new dw(LE("250 250 250"),.6),t=new hw(LE("250 250 250"),"light"===n?.8:.1);return e.position.z=200,e.position.x=100,e.position.y=100,h.current=[e,t],d.current.background=LE(r),h.current.forEach((function(e){return d.current.add(e)})),function(){!function(e){var t,n=hd(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.parent.remove(r)}}catch(i){n.e(i)}finally{n.f()}}(h.current)}}),[r,n]),(0,e.useEffect)((function(){var e=function(){var e=gE()(),t=window.innerWidth,n=e+.3*e;s.current.style.height=n,c.current.setSize(t,n),u.current.aspect=t/n,u.current.updateProjectionMatrix(),b&&c.current.render(d.current,u.current),t<=OE?(m.current.position.x=14,m.current.position.y=10):t<=RE?(m.current.position.x=18,m.current.position.y=14):(m.current.position.x=22,m.current.position.y=16)};return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}),[b]),(0,e.useEffect)((function(){var e=function(e){var t,n,r=m.current.rotation,i=e.clientX/window.innerWidth,a=e.clientY/window.innerHeight;y.current||(y.current=(t=r.toArray(),n=function(e){return r.set(e[0],e[1],m.current.rotation.z)},new Xk({value:t,initialSubscription:n}))),g.current=uE({from:y.current.get(),to:[a/2,i/2],stiffness:30,damping:20,velocity:y.current.getVelocity(),mass:2,restSpeed:1e-4}).start(y.current)};return!b&&_&&window.addEventListener("mousemove",e),function(){window.removeEventListener("mousemove",e),g.current&&g.current.stop()}}),[_,b]),(0,e.useEffect)((function(){var e;return!b&&_?function t(){e=requestAnimationFrame(t),void 0!==f.current&&(f.current.time.value=5e-5*(Date.now()-o.current)),m.current.rotation.z+=.001,c.current.render(d.current,u.current)}():c.current.render(d.current,u.current),function(){cancelAnimationFrame(e)}}),[_,b]),(0,qt.jsx)(ls,{appear:!0,in:!0,onEnter:yE,timeout:3e3,children:function(e){return(0,qt.jsx)("canvas",Tt({"aria-hidden":!0,className:So()("displacement-sphere","displacement-sphere--".concat(e)),ref:s},t))}})},NE=function(){var e=Vt().t,t=new Date,n=t.getHours(),r="".concat(n<4&&e("Home.goodNight")||n<12&&e("Home.goodMorning")||n<19&&e("Home.goodAfternoon")||n<22&&e("Home.goodEvening")||e("Home.goodNight")),i=["weekend","Monday","Tuesday","Wednesday","Thursday","Friday","weekend"][t.getDay()];return(0,qt.jsxs)(Ju,{variant:"h5",component:"h2",style:{margin:"0 0 20px 30px"},children:["weekend"===i?e("Home.goodWeekend"):r,"."]})},DE=Zu((function(){return{root:{display:"flex",flexDirection:"column",minHeight:"100vh",width:"100vw",overflow:"hidden"}}})),jE=function(){var e=DE();return(0,qt.jsx)(qt.Fragment,{children:(0,qt.jsxs)("div",{id:"Home",className:e.root,children:[(0,qt.jsx)(cd,{}),(0,qt.jsx)(IE,{}),(0,qt.jsx)(NE,{})]})})},zE=["bsPrefix","className","as"],HE=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"div":i,o=en(e,zE),s=No(n,"row"),l=Do(),c=jo(),u="".concat(s,"-cols"),d=[];return l.forEach((function(e){var t,n=o[e];delete o[e],t=null!=n&&"object"===typeof n?n.cols:n;var r=e!==c?"-".concat(e):"";null!=t&&d.push("".concat(u).concat(r,"-").concat(t))})),(0,qt.jsx)(a,Tt(Tt({ref:t},o),{},{className:So().apply(void 0,[r,s].concat(d))}))}));HE.displayName="Row";var BE=HE,UE=["as","bsPrefix","className"],GE=["className"];var WE=e.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=en(e,UE);n=No(n,"col");var a=Do(),o=jo(),s=[],l=[];return a.forEach((function(e){var t,r,a,c=i[e];delete i[e],"object"===typeof c&&null!=c?(t=c.span,r=c.offset,a=c.order):t=c;var u=e!==o?"-".concat(e):"";t&&s.push(!0===t?"".concat(n).concat(u):"".concat(n).concat(u,"-").concat(t)),null!=a&&l.push("order".concat(u,"-").concat(a)),null!=r&&l.push("offset".concat(u,"-").concat(r))})),[Tt(Tt({},i),{},{className:So().apply(void 0,[r].concat(s,l))}),{as:t,bsPrefix:n,spans:s}]}(e),r=Gt(n,2),i=r[0],a=i.className,o=en(i,GE),s=r[1],l=s.as,c=void 0===l?"div":l,u=s.bsPrefix,d=s.spans;return(0,qt.jsx)(c,Tt(Tt({},o),{},{ref:t,className:So()(a,!d.length&&u)}))}));WE.displayName="Col";var VE=WE,qE=["bsPrefix","className","variant","as"],XE=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,s=en(e,qE),l=No(n,"card-img");return(0,qt.jsx)(o,Tt({ref:t,className:So()(i?"".concat(l,"-").concat(i):l,r)},s))}));XE.displayName="CardImg";var YE=XE,KE=["bsPrefix","className","as"],JE=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,a=t.as,o=void 0===a?"div":a,s=en(t,KE),l=No(r,"card-header"),c=(0,e.useMemo)((function(){return{cardHeaderBsPrefix:l}}),[l]);return(0,qt.jsx)(Rc.Provider,{value:c,children:(0,qt.jsx)(o,Tt(Tt({ref:n},s),{},{className:So()(i,l)}))})}));JE.displayName="CardHeader";var ZE=JE,QE=["bsPrefix","className","bg","text","border","body","children","as"],$E=Hl("h5"),eM=Hl("h6"),tM=Bo("card-body"),nM=Bo("card-title",{Component:$E}),rM=Bo("card-subtitle",{Component:eM}),iM=Bo("card-link",{Component:"a"}),aM=Bo("card-text",{Component:"p"}),oM=Bo("card-footer"),sM=Bo("card-img-overlay"),lM=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,o=e.border,s=e.body,l=e.children,c=e.as,u=void 0===c?"div":c,d=en(e,QE),h=No(n,"card");return(0,qt.jsx)(u,Tt(Tt({ref:t},d),{},{className:So()(r,h,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:s?(0,qt.jsx)(tM,{children:l}):l}))}));lM.displayName="Card",lM.defaultProps={body:!1};var cM=Object.assign(lM,{Img:YE,Title:nM,Subtitle:rM,Body:tM,Link:iM,Text:aM,Header:ZE,Footer:oM,ImgOverlay:sM}),uM=["as","bsPrefix","variant","size","active","className"],dM=e.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,o=e.active,s=e.className,l=en(e,uM),c=No(r,"btn"),u=Gt(yc(Tt({tagName:n},l)),2),d=u[0],h=u[1].tagName;return(0,qt.jsx)(h,Tt(Tt(Tt({},d),l),{},{ref:t,className:So()(s,c,o&&"active",i&&"".concat(c,"-").concat(i),a&&"".concat(c,"-").concat(a),l.href&&l.disabled&&"disabled")}))}));dM.displayName="Button",dM.defaultProps={variant:"primary",active:!1,disabled:!1};var hM=dM;var fM=function(e){var t=nu();return(0,qt.jsxs)(cM,{className:"project-card-view",style:{color:t.palette.foreground.default},children:[(0,qt.jsx)(cM.Img,{variant:"top",src:e.imgPath,alt:"card-img",style:{}}),(0,qt.jsxs)(cM.Body,{style:{},children:[(0,qt.jsx)(cM.Title,{children:e.title}),(0,qt.jsx)(cM.Text,{style:{textAlign:"justify"},children:e.description}),(0,qt.jsx)(hM,{variant:"primary",href:e.ghLink,target:"_blank",children:e.isBlog?"Blog":"GitHub"}),"\n","\n",!e.isBlog&&e.demoLink&&(0,qt.jsx)(hM,{variant:"primary",href:e.demoLink,target:"_blank",style:{marginLeft:"10px"},children:"Demo"})]})]})},pM=(__webpack_require__.p,__webpack_require__.p,__webpack_require__.p,__webpack_require__.p+"static/media/chatify.7206044e0b5cdad44726.png"),vM=(__webpack_require__.p,__webpack_require__.p+"static/media/blog.fb8ab7f271a937d5fc01.png");var mM=function(){var e=nu();return(0,qt.jsx)(Wc,{fluid:!0,className:"project-section",id:"Project",style:{background:e.info.background},children:(0,qt.jsxs)(Wc,{children:[(0,qt.jsxs)("h1",{className:"project-heading",style:{color:e.palette.foreground.default},children:["My Recent ",(0,qt.jsx)("strong",{className:"purple",children:"Works "})]}),(0,qt.jsx)("p",{style:{color:e.palette.foreground.default},children:"Here are a few projects I've worked on recently."}),(0,qt.jsxs)(BE,{style:{justifyContent:"center",paddingBottom:"10px"},children:[(0,qt.jsx)(VE,{md:4,className:"project-card",children:(0,qt.jsx)(fM,{imgPath:pM,isBlog:!1,title:"Chatify",description:"Personal Chat Room or Workspace to share resources and hangout with friends build with react.js, Material-UI, and Firebase. Have features which allows user for realtime messaging, image sharing as well as supports reactions on messages.",ghLink:"https://github.com/soumyajit4419/Chatify",demoLink:"https://chatify-49.web.app/"})}),(0,qt.jsx)(VE,{md:4,className:"project-card",children:(0,qt.jsx)(fM,{imgPath:vM,isBlog:!1,title:"Bits-0f-C0de",description:"My personal blog page build with Next.js and Tailwind Css which takes the content from makdown files and renders it using Next.js. Supports dark mode and easy to write blogs using markdown.",ghLink:"https://github.com/soumyajit4419/Bits-0f-C0de",demoLink:"https://blogs.soumya-jit.tech/"})})]})]})})},gM=__webpack_require__.p+"static/media/avatar.a19cbd8e6c70fba7bfb5.png";var yM=__webpack_require__.p+"static/media/vue.c18c731b049f16264df2b092a8ff69ac.svg";var bM=__webpack_require__.p+"static/media/react.56271c01999568ebfff47b53ffab3914.svg";var _M=__webpack_require__.p+"static/media/html.7ec30f4031548a1a5b80c599802cd222.svg";var xM=__webpack_require__.p+"static/media/material-ui.e7af68879fe32f3089d2532cb0dfa68f.svg";var wM=__webpack_require__.p+"static/media/css3.f078c911d06e57f47888ea3a1ef99d29.svg";var SM=__webpack_require__.p+"static/media/javascript.0a2df2d98816314be4ef84e99b736992.svg";var kM=__webpack_require__.p+"static/media/typescript.befa3e9106de6d2fc2291cfbf0741d79.svg";var EM=__webpack_require__.p+"static/media/tailwindcss.58a6507687653862be657d2774a1aa14.svg",MM=__webpack_require__(7945),TM=__webpack_require__.n(MM),PM=Zu((function(e){return{skillIcons:{padding:"0.25rem 0.75rem",borderRadius:"1.5rem",backgroundColor:e.palette.iconBackground.default,margin:"0.2rem",display:"inline-block",color:e.palette.iconColor.default,verticalAlign:"middle"}}}));var AM=function(){TM().init({duration:1e3,easing:"ease-out-back",delay:0});var e=nu(),t=Vt().t,n=PM();return(0,qt.jsx)(Wc,{fluid:!0,className:"home-about-section",id:"About",style:{background:e.info.background},children:(0,qt.jsxs)(Wc,{children:[(0,qt.jsxs)(BE,{children:[(0,qt.jsx)(VE,{md:12,className:"my-avatar","data-aos":"zoom-in-down",children:(0,qt.jsx)("img",{src:gM,className:"img-fluid",alt:"avatar"})}),(0,qt.jsxs)(VE,{md:12,className:"home-about-description",children:[(0,qt.jsxs)("h2",{"data-aos":"zoom-in-up",style:{fontSize:"2.6em",color:e.palette.foreground.default},children:[t("About.title")," ",(0,qt.jsx)("span",{className:"purple",children:"  "})]}),(0,qt.jsxs)("div",{className:"home-about-body",style:{color:e.palette.foreground.default},children:[(0,qt.jsxs)("p",{"data-aos":"zoom-in-left",children:["\xa0\xa0\xa0\xa0",t("About.introduction_job")]}),(0,qt.jsx)("br",{}),(0,qt.jsxs)("p",{"data-aos":"zoom-in-up",children:[" \xa0\xa0\xa0\xa0",t("About.introduction_skill"),(0,qt.jsxs)("span",{className:n.skillIcons,children:["  ",(0,qt.jsx)("img",{src:_M,style:{width:"20px"},alt:"html"})," html"]}),(0,qt.jsxs)("span",{className:n.skillIcons,children:["  ",(0,qt.jsx)("img",{src:SM,style:{width:"20px"},alt:"Javascript"})," javascript"]}),(0,qt.jsxs)("span",{className:n.skillIcons,children:["  ",(0,qt.jsx)("img",{src:wM,style:{width:"20px"},alt:"css"})," css"]}),(0,qt.jsxs)("span",{className:n.skillIcons,children:["  ",(0,qt.jsx)("img",{src:yM,style:{width:"20px"},alt:"vue"})," vue"]}),(0,qt.jsxs)("span",{className:n.skillIcons,children:["  ",(0,qt.jsx)("img",{src:kM,style:{width:"20px"},alt:"typescript"})," typescript"]}),t("About.introduction_build")]}),(0,qt.jsx)("br",{}),(0,qt.jsxs)("p",{"data-aos":"zoom-in-right",children:["\xa0\xa0\xa0\xa0",t("About.introduction_spare"),(0,qt.jsxs)("span",{className:n.skillIcons,children:["  ",(0,qt.jsx)("img",{src:xM,style:{width:"20px"},alt:"material"})," material-ui"]}),(0,qt.jsxs)("span",{className:n.skillIcons,children:["  ",(0,qt.jsx)("img",{src:EM,style:{width:"20px"},alt:"tailwindcss"})," tailwindcss"]}),(0,qt.jsxs)("span",{className:n.skillIcons,children:["  ",(0,qt.jsx)("img",{src:bM,style:{width:"20px"},alt:"react"})," react"]}),t("About.introduction_F_project")]}),(0,qt.jsx)("br",{}),(0,qt.jsxs)("p",{"data-aos":"zoom-in-down",children:["\xa0\xa0\xa0\xa0",t("About.introduction_contact")]})]})]})]}),(0,qt.jsx)(BE,{})]})})},CM=__webpack_require__(3661),RM=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},OM=["onKeyDown","onKeyPress","onKeyUp"],LM=["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],FM=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],IM=RM(RM(RM(RM(RM(RM(RM(RM(RM(RM(RM(RM(RM(RM(RM(RM(RM([],["onCopy","onCut","onPaste"],!0),["onCompositionEnd","onCompositionStart","onCompositionUpdate"],!0),OM,!0),["onFocus","onBlur"],!0),["onChange","onInput","onInvalid","onReset","onSubmit"],!0),["onError","onLoad"],!0),LM,!0),["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],!0),["onSelect"],!0),FM,!0),["onScroll"],!0),["onWheel"],!0),["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],!0),["onLoad","onError"],!0),["onAnimationStart","onAnimationEnd","onAnimationIteration"],!0),["onTransitionEnd"],!0),["onToggle"],!0);function NM(e,t){var n={};return IM.forEach((function(r){var i=e[r];i&&(n[r]=t?function(e){return i(e,t(r))}:i)})),n}function DM(e){var t=!1,n=new Promise((function(n,r){e.then((function(e){return!t&&n(e)})).catch((function(e){return!t&&r(e)}))}));return{promise:n,cancel:function(){t=!0}}}var jM=!0;var zM=function(e,t){if(!jM){if(e)return;var n="Warning: "+t;"undefined"!==typeof console&&console.warn(n);try{throw Error(n)}catch(r){}}},HM=(0,e.createContext)(null);function BM(t){var n=t.children,r=t.type;return e.createElement("div",{className:"react-pdf__message react-pdf__message--".concat(r)},n)}BM.propTypes={children:a().node,type:a().oneOf(["error","loading","no-data"]).isRequired};var UM=function(){function e(){Lt(this,e),this.externalLinkTarget=null,this.externalLinkRel=null}return It(e,[{key:"setDocument",value:function(e){this.pdfDocument=e}},{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setExternalLinkRel",value:function(e){this.externalLinkRel=e}},{key:"setExternalLinkTarget",value:function(e){this.externalLinkTarget=e}},{key:"setHistory",value:function(){}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(e){this.pdfViewer.currentPageNumber=e}},{key:"rotation",get:function(){return 0},set:function(e){}},{key:"goToDestination",value:function(e){var t=this;new Promise((function(n){"string"===typeof e?t.pdfDocument.getDestination(e).then(n):Array.isArray(e)?n(e):e.then(n)})).then((function(n){h(Array.isArray(n),'"'.concat(n,'" is not a valid destination array.'));var r=n[0];new Promise((function(e){r instanceof Object?t.pdfDocument.getPageIndex(r).then((function(t){e(t)})).catch((function(){h(!1,'"'.concat(r,'" is not a valid page reference.'))})):"number"===typeof r?e(r):h(!1,'"'.concat(r,'" is not a valid destination reference.'))})).then((function(n){var r=n+1;h(r>=1&&r<=t.pagesCount,'"'.concat(r,'" is not a valid page number.')),t.pdfViewer.scrollPageIntoView({dest:e,pageIndex:n,pageNumber:r})}))}))}},{key:"navigateTo",value:function(e){this.goToDestination(e)}},{key:"goToPage",value:function(){}},{key:"addLinkAttributes",value:function(e,t,n){e.href=t,e.rel=this.externalLinkRel||"noopener noreferrer nofollow",e.target=n?"_blank":this.externalLinkTarget||""}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"isPageVisible",value:function(){return!0}},{key:"isPageCached",value:function(){return!0}}]),e}(),GM={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},WM="undefined"!==typeof document,VM=WM&&"file:"===window.location.protocol;function qM(e){return"undefined"!==typeof e}function XM(e){return qM(e)&&null!==e}function YM(e){return"string"===typeof e&&/^data:/.test(e)}function KM(e){h(YM(e),"Invalid data URI.");var t=Gt(e.split(","),2),n=t[0],r=t[1];return-1!==n.split(";").indexOf("base64")?atob(r):unescape(r)}var JM="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function ZM(){zM(!VM,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(JM))}function QM(e){e&&e.cancel&&e.cancel()}function $M(e,t){return Object.defineProperty(e,"width",{get:function(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get:function(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get:function(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get:function(){return this.view[3]},configurable:!0}),e}function eT(e){return"RenderingCancelledException"===e.name}var tT=function(){var e={};return[].concat(da(LM),da(FM),da(OM)).forEach((function(t){e[t]=a().func})),e}(),nT=[a().string,a().instanceOf(ArrayBuffer),a().shape({data:a().oneOfType([a().object,a().string]),httpHeaders:a().object,range:a().object,url:a().string,withCredentials:a().bool})];"undefined"!==typeof File&&nT.push(a().instanceOf(File)),"undefined"!==typeof Blob&&nT.push(a().instanceOf(Blob));var rT=a().oneOfType([a().string,a().arrayOf(a().string)]),iT=a().oneOfType(nT),aT=a().instanceOf(UM),oT=(a().oneOf(["_self","_blank","_parent","_top"]),a().shape({commonObjs:a().shape({}).isRequired,getAnnotations:a().func.isRequired,getTextContent:a().func.isRequired,getViewport:a().func.isRequired,render:a().func.isRequired})),sT=a().oneOfType([a().shape({getDestination:a().func.isRequired,getOutline:a().func.isRequired,getPage:a().func.isRequired,numPages:a().number.isRequired}),a().bool]),lT=a().oneOfType([a().func,a().shape({current:a().any})]),cT=a().oneOf(["canvas","none","svg"]),uT=a().oneOf([0,90,180,270]),dT=["url"];function hT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hT(Object(n),!0).forEach((function(t){Et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pT(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(sC){return!1}}();return function(){var n,r=Ul(e);if(t){var i=Ul(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ql(this,n)}}var vT=CM.PDFDataRangeTransport,mT=function(t){Wl(r,t);var n=pT(r);function r(){var e;Lt(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return Et(yr(e=n.call.apply(n,[this].concat(i))),"state",{pdf:null}),Et(yr(e),"viewer",{scrollPageIntoView:function(t){var n=t.dest,r=t.pageIndex,i=t.pageNumber,a=e.props.onItemClick;if(a)a({dest:n,pageIndex:r,pageNumber:i});else{var o=e.pages[r];o?o.scrollIntoView():zM(!1,"An internal link leading to page ".concat(i," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}}}),Et(yr(e),"linkService",new UM),Et(yr(e),"loadDocument",(function(){QM(e.runningTask),e.loadingTask&&e.loadingTask.destroy();var t=DM(e.findDocumentSource());e.runningTask=t,t.promise.then((function(t){if(e.onSourceSuccess(),t){e.setState((function(e){return e.pdf?{pdf:null}:null}));var n=e.props,r=n.options,i=n.onLoadProgress,a=n.onPassword,o=CM.getDocument(fT(fT({},t),r));o.onPassword=a,i&&(o.onProgress=i),e.loadingTask=o,o.promise.then((function(t){e.setState((function(e){return e.pdf&&e.pdf.fingerprint===t.fingerprint?null:{pdf:t}}),e.onLoadSuccess)})).catch((function(t){e.onLoadError(t)}))}})).catch((function(t){e.onSourceError(t)}))})),Et(yr(e),"setupLinkService",(function(){var t=e.props,n=t.externalLinkRel,r=t.externalLinkTarget;e.linkService.setViewer(e.viewer),e.linkService.setExternalLinkRel(n),e.linkService.setExternalLinkTarget(r)})),Et(yr(e),"onSourceSuccess",(function(){var t=e.props.onSourceSuccess;t&&t()})),Et(yr(e),"onSourceError",(function(t){zM(t);var n=e.props.onSourceError;n&&n(t)})),Et(yr(e),"onLoadSuccess",(function(){var t=e.props.onLoadSuccess,n=e.state.pdf;t&&t(n),e.pages=new Array(n.numPages),e.linkService.setDocument(n)})),Et(yr(e),"onLoadError",(function(t){e.setState({pdf:!1}),zM(t);var n=e.props.onLoadError;n&&n(t)})),Et(yr(e),"findDocumentSource",(function(){return new Promise((function(t){var n=e.props.file;if(n||t(null),"string"===typeof n){if(YM(n)){var r=KM(n);t({data:r})}ZM(),t({url:n})}if(n instanceof vT&&t({range:n}),n instanceof ArrayBuffer&&t({data:n}),WM&&(function(e){return h(WM,"isBlob can only be used in a browser environment"),e instanceof Blob}(n)||function(e){return h(WM,"isFile can only be used in a browser environment"),e instanceof File}(n)))(function(e){return new Promise((function(t,n){var r=new FileReader;return r.onload=function(){return t(new Uint8Array(r.result))},r.onerror=function(e){switch(e.target.error.code){case e.target.error.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case e.target.error.NOT_READABLE_ERR:return n(new Error("Error while reading a file: File not readable."));case e.target.error.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case e.target.error.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},r.readAsArrayBuffer(e),null}))})(n).then((function(e){t({data:e})}));else{if(h("object"===St(n),"Invalid parameter in file, need either Uint8Array, string or a parameter object"),h(n.url||n.data||n.range,"Invalid parameter object: need either .data, .range or .url"),"string"===typeof n.url){if(YM(n.url)){var i=n.url,a=en(n,dT),o=KM(i);t(fT({data:o},a))}ZM()}t(n)}}))})),Et(yr(e),"registerPage",(function(t,n){e.pages[t]=n})),Et(yr(e),"unregisterPage",(function(t){delete e.pages[t]})),e}return It(r,[{key:"componentDidMount",value:function(){this.loadDocument(),this.setupLinkService()}},{key:"componentDidUpdate",value:function(e){this.props.file!==e.file&&this.loadDocument()}},{key:"componentWillUnmount",value:function(){QM(this.runningTask),this.loadingTask&&this.loadingTask.destroy()}},{key:"childContext",get:function(){var e=this.linkService,t=this.registerPage,n=this.unregisterPage,r=this.props,i=r.imageResourcesPath,a=r.renderMode,o=r.rotate;return{imageResourcesPath:i,linkService:e,pdf:this.state.pdf,registerPage:t,renderMode:a,rotate:o,unregisterPage:n}}},{key:"eventProps",get:function(){var e=this;return NM(this.props,(function(){return e.state.pdf}))}},{key:"renderChildren",value:function(){var t=this.props.children;return e.createElement(HM.Provider,{value:this.childContext},t)}},{key:"renderContent",value:function(){var t=this.props.file,n=this.state.pdf;if(!t){var r=this.props.noData;return e.createElement(BM,{type:"no-data"},"function"===typeof r?r():r)}if(null===n){var i=this.props.loading;return e.createElement(BM,{type:"loading"},"function"===typeof i?i():i)}if(!1===n){var a=this.props.error;return e.createElement(BM,{type:"error"},"function"===typeof a?a():a)}return this.renderChildren()}},{key:"render",value:function(){var t=this.props,n=t.className,r=t.inputRef;return e.createElement("div",o({className:Xc("react-pdf__Document",n),ref:r},this.eventProps),this.renderContent())}}]),r}(e.PureComponent);mT.defaultProps={error:"Failed to load PDF file.",loading:"Loading PDF\u2026",noData:"No PDF file specified.",onPassword:function(e,t){switch(t){case GM.NEED_PASSWORD:e(prompt("Enter the password to open this PDF file."));break;case GM.INCORRECT_PASSWORD:e(prompt("Invalid password. Please try again."))}}};var gT=a().oneOfType([a().func,a().node]);mT.propTypes=fT(fT({},tT),{},{children:a().node,className:rT,error:gT,externalLinkRel:a().string,externalLinkTarget:a().string,file:iT,imageResourcesPath:a().string,inputRef:lT,loading:gT,noData:gT,onItemClick:a().func,onLoadError:a().func,onLoadProgress:a().func,onLoadSuccess:a().func,onPassword:a().func,onSourceError:a().func,onSourceSuccess:a().func,rotate:a().number});var yT=(0,e.createContext)(null),bT=function(){function e(t){var n=t.num,r=t.gen;Lt(this,e),this.num=n,this.gen=r}return It(e,[{key:"toString",value:function(){var e="".concat(this.num,"R");return 0!==this.gen&&(e+=this.gen),e}}]),e}(),_T=["item"];function xT(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(sC){return!1}}();return function(){var n,r=Ul(e);if(t){var i=Ul(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ql(this,n)}}var wT=function(t){Wl(r,t);var n=xT(r);function r(){var e;Lt(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return Et(yr(e=n.call.apply(n,[this].concat(i))),"getDestination",(function(){return new Promise((function(t,n){if(qM(e.destination))t(e.destination);else{var r=e.props,i=r.item,a=r.pdf;"string"===typeof i.dest?a.getDestination(i.dest).then(t).catch(n):t(i.dest)}})).then((function(t){return e.destination=t,t}))})),Et(yr(e),"getPageIndex",(function(){return new Promise((function(t,n){var r=e.props.pdf;qM(e.pageIndex)?t(e.pageIndex):e.getDestination().then((function(e){if(e){var i=Gt(e,1)[0];r.getPageIndex(new bT(i)).then(t).catch(n)}}))})).then((function(t){return e.pageIndex=t,e.pageIndex}))})),Et(yr(e),"getPageNumber",(function(){return new Promise((function(t,n){qM(e.pageNumber)?t(e.pageNumber):e.getPageIndex().then((function(e){t(e+1)})).catch(n)})).then((function(t){return e.pageNumber=t,t}))})),Et(yr(e),"onClick",(function(t){var n=e.props.onClick;return t.preventDefault(),!!n&&Promise.all([e.getDestination(),e.getPageIndex(),e.getPageNumber()]).then((function(e){var t=Gt(e,3),r=t[0],i=t[1],a=t[2];n({dest:r,pageIndex:i,pageNumber:a})}))})),e}return It(r,[{key:"renderSubitems",value:function(){var t=this.props,n=t.item,i=en(t,_T);if(!n.items||!n.items.length)return null;var a=n.items;return e.createElement("ul",null,a.map((function(t,n){return e.createElement(r,o({key:"string"===typeof t.destination?t.destination:n,item:t},i))})))}},{key:"render",value:function(){var t=this.props.item;return e.createElement("li",null,e.createElement("a",{href:"#",onClick:this.onClick},t.title),this.renderSubitems())}}]),r}(e.PureComponent),ST=a().oneOfType([a().string,a().arrayOf(a().any)]);wT.propTypes={item:a().shape({dest:ST,items:a().arrayOf(a().shape({dest:ST,title:a().string})),title:a().string}).isRequired,onClick:a().func,pdf:sT.isRequired};var kT=function(t){return e.createElement(HM.Consumer,null,(function(n){return e.createElement(yT.Consumer,null,(function(r){return e.createElement(wT,o({},n,r,t))}))}))};function ET(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function MT(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(sC){return!1}}();return function(){var n,r=Ul(e);if(t){var i=Ul(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ql(this,n)}}var TT=function(t){Wl(r,t);var n=MT(r);function r(){var e;Lt(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return Et(yr(e=n.call.apply(n,[this].concat(i))),"state",{outline:null}),Et(yr(e),"loadOutline",(function(){var t=e.props.pdf;e.setState((function(e){return e.outline?{outline:null}:null}));var n=DM(t.getOutline());e.runningTask=n,n.promise.then((function(t){e.setState({outline:t},e.onLoadSuccess)})).catch((function(t){e.onLoadError(t)}))})),Et(yr(e),"onLoadSuccess",(function(){var t=e.props.onLoadSuccess,n=e.state.outline;t&&t(n)})),Et(yr(e),"onLoadError",(function(t){e.setState({outline:!1}),zM(t);var n=e.props.onLoadError;n&&n(t)})),Et(yr(e),"onItemClick",(function(t){var n=t.dest,r=t.pageIndex,i=t.pageNumber,a=e.props.onItemClick;a&&a({dest:n,pageIndex:r,pageNumber:i})})),e}return It(r,[{key:"componentDidMount",value:function(){h(this.props.pdf,"Attempted to load an outline, but no document was specified."),this.loadOutline()}},{key:"componentDidUpdate",value:function(e){var t=this.props.pdf;e.pdf&&t!==e.pdf&&this.loadOutline()}},{key:"componentWillUnmount",value:function(){QM(this.runningTask)}},{key:"childContext",get:function(){return{onClick:this.onItemClick}}},{key:"eventProps",get:function(){var e=this;return NM(this.props,(function(){return e.state.outline}))}},{key:"renderOutline",value:function(){var t=this.state.outline;return e.createElement("ul",null,t.map((function(t,n){return e.createElement(kT,{key:"string"===typeof t.destination?t.destination:n,item:t})})))}},{key:"render",value:function(){var t=this.props.pdf,n=this.state.outline;if(!t||!n)return null;var r=this.props,i=r.className,a=r.inputRef;return e.createElement("div",o({className:Xc("react-pdf__Outline",i),ref:a},this.eventProps),e.createElement(yT.Provider,{value:this.childContext},this.renderOutline()))}}]),r}(e.PureComponent);TT.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ET(Object(n),!0).forEach((function(t){Et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:rT,inputRef:lT,onItemClick:a().func,onLoadError:a().func,onLoadSuccess:a().func,pdf:sT},tT);function PT(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(Boolean);return n.length<=1?n[0]||null:function(e){n.forEach((function(t){"function"===typeof t?t(e):t&&(t.current=e)}))}}var AT=(0,e.createContext)(null);function CT(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(sC){return!1}}();return function(){var n,r=Ul(e);if(t){var i=Ul(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ql(this,n)}}var RT=CM.AnnotationMode,OT=function(t){Wl(r,t);var n=CT(r);function r(){var t;Lt(this,r);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return Et(yr(t=n.call.apply(n,[this].concat(a))),"canvasElement",(0,e.createRef)()),Et(yr(t),"onRenderSuccess",(function(){t.renderer=null;var e=t.props,n=e.onRenderSuccess,r=e.page,i=e.scale;n&&n($M(r,i))})),Et(yr(t),"onRenderError",(function(e){if(!eT(e)){zM(e);var n=t.props.onRenderError;n&&n(e)}})),Et(yr(t),"drawPageOnCanvas",(function(){var e=t.canvasElement.current;if(!e)return null;var n=yr(t),r=n.renderViewport,i=n.viewport,a=t.props,o=a.canvasBackground,s=a.page,l=a.renderForms;e.width=r.width,e.height=r.height,e.style.width="".concat(Math.floor(i.width),"px"),e.style.height="".concat(Math.floor(i.height),"px");var c={annotationMode:l?RT.ENABLE_FORMS:RT.ENABLE,get canvasContext(){return e.getContext("2d",{alpha:!1})},viewport:r};o&&(c.background=o),t.cancelRenderingTask();var u=s.render(c);return t.renderer=u,u.promise.then(t.onRenderSuccess).catch(t.onRenderError)})),t}return It(r,[{key:"componentDidMount",value:function(){this.drawPageOnCanvas()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.canvasBackground,r=t.devicePixelRatio,i=t.page,a=t.renderForms;n===e.canvasBackground&&r===e.devicePixelRatio&&a===e.renderForms||(i.cleanup(),this.drawPageOnCanvas())}},{key:"componentWillUnmount",value:function(){this.cancelRenderingTask();var e=this.canvasElement.current;e&&(e.width=0,e.height=0)}},{key:"cancelRenderingTask",value:function(){this.renderer&&(this.renderer.cancel(),this.renderer=null)}},{key:"devicePixelRatio",get:function(){return this.props.devicePixelRatio||WM&&window.devicePixelRatio||1}},{key:"renderViewport",get:function(){var e=this.devicePixelRatio,t=this.props,n=t.page,r=t.rotate,i=t.scale;return n.getViewport({scale:i*e,rotation:r})}},{key:"viewport",get:function(){var e=this.props,t=e.page,n=e.rotate,r=e.scale;return t.getViewport({scale:r,rotation:n})}},{key:"render",value:function(){var t=this.props.canvasRef;return e.createElement("canvas",{className:"react-pdf__Page__canvas",dir:"ltr",ref:PT(t,this.canvasElement),style:{display:"block",userSelect:"none"}})}}]),r}(e.PureComponent);function LT(t){return e.createElement(AT.Consumer,null,(function(n){return e.createElement(OT,o({},n,t))}))}function FT(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(sC){return!1}}();return function(){var n,r=Ul(e);if(t){var i=Ul(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ql(this,n)}}OT.propTypes={canvasBackground:a().string,canvasRef:lT,devicePixelRatio:a().number,onRenderError:a().func,onRenderSuccess:a().func,page:oT.isRequired,renderForms:a().bool,rotate:uT,scale:a().number.isRequired};var IT=function(t){Wl(r,t);var n=FT(r);function r(){var e;Lt(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return Et(yr(e=n.call.apply(n,[this].concat(i))),"state",{svg:null}),Et(yr(e),"onRenderSuccess",(function(){e.renderer=null;var t=e.props,n=t.onRenderSuccess,r=t.page,i=t.scale;n&&n($M(r,i))})),Et(yr(e),"onRenderError",(function(t){if(!eT(t)){zM(t);var n=e.props.onRenderError;n&&n(t)}})),Et(yr(e),"renderSVG",(function(){var t=e.props.page;return e.renderer=t.getOperatorList(),e.renderer.then((function(n){var r=new CM.SVGGraphics(t.commonObjs,t.objs);e.renderer=r.getSVG(n,e.viewport).then((function(t){e.setState({svg:t},e.onRenderSuccess)})).catch(e.onRenderError)})).catch(e.onRenderError)})),Et(yr(e),"drawPageOnContainer",(function(t){var n=e.state.svg;if(t&&n){t.firstElementChild||t.appendChild(n);var r=e.viewport,i=r.width,a=r.height;n.setAttribute("width",i),n.setAttribute("height",a)}})),e}return It(r,[{key:"componentDidMount",value:function(){this.renderSVG()}},{key:"viewport",get:function(){var e=this.props,t=e.page,n=e.rotate,r=e.scale;return t.getViewport({scale:r,rotation:n})}},{key:"render",value:function(){var t=this,n=this.viewport,r=n.width,i=n.height;return e.createElement("div",{className:"react-pdf__Page__svg",ref:function(e){return t.drawPageOnContainer(e)},style:{display:"block",backgroundColor:"white",overflow:"hidden",width:r,height:i,userSelect:"none"}})}}]),r}(e.PureComponent);function NT(t){return e.createElement(AT.Consumer,null,(function(n){return e.createElement(IT,o({},n,t))}))}function DT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jT(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(sC){return!1}}();return function(){var n,r=Ul(e);if(t){var i=Ul(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ql(this,n)}}IT.propTypes={onRenderError:a().func,onRenderSuccess:a().func,page:oT.isRequired,rotate:uT,scale:a().number.isRequired};var zT=function(t){Wl(r,t);var n=jT(r);function r(){var t;Lt(this,r);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return Et(yr(t=n.call.apply(n,[this].concat(a))),"state",{textContent:null}),Et(yr(t),"layerElement",(0,e.createRef)()),Et(yr(t),"endElement",(0,e.createRef)()),Et(yr(t),"loadTextContent",(function(){var e=DM(t.props.page.getTextContent());t.runningTask=e,e.promise.then((function(e){t.setState({textContent:e},t.onLoadSuccess)})).catch((function(e){t.onLoadError(e)}))})),Et(yr(t),"onLoadSuccess",(function(){var e=t.props.onGetTextSuccess,n=t.state.textContent;e&&e(n)})),Et(yr(t),"onLoadError",(function(e){t.setState({textItems:!1}),zM(e);var n=t.props.onGetTextError;n&&n(e)})),Et(yr(t),"onRenderSuccess",(function(){var e=t.props.onRenderTextLayerSuccess;e&&e()})),Et(yr(t),"onRenderError",(function(e){zM(e);var n=t.props.onRenderTextLayerError;n&&n(e)})),Et(yr(t),"onMouseDown",(function(){var e=t.endElement.current;e&&e.classList.add("active")})),Et(yr(t),"onMouseUp",(function(){var e=t.endElement.current;e&&e.classList.remove("active")})),t}return It(r,[{key:"componentDidMount",value:function(){h(this.props.page,"Attempted to load page text content, but no page was specified."),zM(1===parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),this.loadTextContent()}},{key:"componentDidUpdate",value:function(e){var t=this.props.page;e.page&&t!==e.page&&this.loadTextContent()}},{key:"componentWillUnmount",value:function(){QM(this.runningTask)}},{key:"viewport",get:function(){var e=this.props,t=e.page,n=e.rotate,r=e.scale;return t.getViewport({scale:r,rotation:n})}},{key:"unrotatedViewport",get:function(){var e=this.props,t=e.page,n=e.scale;return t.getViewport({scale:n})}},{key:"rotate",get:function(){var e=this.props,t=e.page;return e.rotate-t.rotate}},{key:"renderTextLayer",value:function(){var e=this,t=this.state.textContent;if(!t)return null;var n=this.layerElement.current,r=this.viewport,i=this.props,a=i.customTextRenderer,o=i.pageIndex,s=i.pageNumber;QM(this.runningTask),n.innerHTML="";var l={container:n,textContent:t,viewport:r},c=CM.renderTextLayer(l);this.runningTask=c,c.promise.then((function(){var r=document.createElement("div");if(r.className="endOfContent",n.append(r),e.endElement.current=r,a){var i=0;t.items.forEach((function(t,n){var r=e.layerElement.current.children[i],l=a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DT(Object(n),!0).forEach((function(t){Et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({pageIndex:o,pageNumber:s,itemIndex:n},t));r.innerHTML=l,i+=t.str&&t.hasEOL?2:1}))}e.onRenderSuccess()})).catch((function(t){e.onRenderError(t)}))}},{key:"render",value:function(){return e.createElement("div",{className:"react-pdf__Page__textContent textLayer",onMouseUp:this.onMouseUp,onMouseDown:this.onMouseDown,ref:this.layerElement},this.renderTextLayer())}}]),r}(e.PureComponent);function HT(t){return e.createElement(AT.Consumer,null,(function(n){return e.createElement(zT,o({},n,t))}))}function BT(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(sC){return!1}}();return function(){var n,r=Ul(e);if(t){var i=Ul(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ql(this,n)}}zT.propTypes={customTextRenderer:a().func,onGetTextError:a().func,onGetTextSuccess:a().func,onRenderTextLayerError:a().func,onRenderTextLayerSuccess:a().func,page:oT.isRequired,pageIndex:a().number.isRequired,pageNumber:a().number.isRequired,rotate:uT,scale:a().number};var UT=function(t){Wl(r,t);var n=BT(r);function r(){var t;Lt(this,r);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return Et(yr(t=n.call.apply(n,[this].concat(a))),"state",{annotations:null}),Et(yr(t),"layerElement",(0,e.createRef)()),Et(yr(t),"loadAnnotations",(function(){var e=DM(t.props.page.getAnnotations());t.runningTask=e,e.promise.then((function(e){t.setState({annotations:e},t.onLoadSuccess)})).catch((function(e){t.onLoadError(e)}))})),Et(yr(t),"onLoadSuccess",(function(){var e=t.props.onGetAnnotationsSuccess,n=t.state.annotations;e&&e(n)})),Et(yr(t),"onLoadError",(function(e){t.setState({annotations:!1}),zM(e);var n=t.props.onGetAnnotationsError;n&&n(e)})),Et(yr(t),"onRenderSuccess",(function(){var e=t.props.onRenderAnnotationLayerSuccess;e&&e()})),Et(yr(t),"onRenderError",(function(e){zM(e);var n=t.props.onRenderAnnotationLayerError;n&&n(e)})),t}return It(r,[{key:"componentDidMount",value:function(){h(this.props.page,"Attempted to load page annotations, but no page was specified."),zM(1===parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),this.loadAnnotations()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.page,r=t.renderForms;(e.page&&n!==e.page||r!==e.renderForms)&&this.loadAnnotations()}},{key:"componentWillUnmount",value:function(){QM(this.runningTask)}},{key:"viewport",get:function(){var e=this.props,t=e.page,n=e.rotate,r=e.scale;return t.getViewport({scale:r,rotation:n})}},{key:"renderAnnotationLayer",value:function(){var e=this.state.annotations;if(e){var t=this.props,n=t.imageResourcesPath,r=t.linkService,i=t.page,a=t.renderForms,o=this.viewport.clone({dontFlip:!0}),s={annotations:e,div:this.layerElement.current,imageResourcesPath:n,linkService:r,page:i,renderForms:a,viewport:o};this.layerElement.current.innerHTML="";try{CM.AnnotationLayer.render(s),this.onRenderSuccess()}catch(l){this.onRenderError(l)}}}},{key:"render",value:function(){return e.createElement("div",{className:"react-pdf__Page__annotations annotationLayer",ref:this.layerElement},this.renderAnnotationLayer())}}]),r}(e.PureComponent);UT.propTypes={imageResourcesPath:a().string,linkService:aT.isRequired,onGetAnnotationsError:a().func,onGetAnnotationsSuccess:a().func,onRenderAnnotationLayerError:a().func,onRenderAnnotationLayerSuccess:a().func,page:oT,renderForms:a().bool,rotate:uT,scale:a().number};var GT=function(t){return e.createElement(HM.Consumer,null,(function(n){return e.createElement(AT.Consumer,null,(function(r){return e.createElement(UT,o({},n,r,t))}))}))};function WT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WT(Object(n),!0).forEach((function(t){Et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qT(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(sC){return!1}}();return function(){var n,r=Ul(e);if(t){var i=Ul(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ql(this,n)}}var XT=function(t){Wl(r,t);var n=qT(r);function r(){var t;Lt(this,r);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return Et(yr(t=n.call.apply(n,[this].concat(a))),"state",{page:null}),Et(yr(t),"pageElement",(0,e.createRef)()),Et(yr(t),"onLoadSuccess",(function(){var e=t.props,n=e.onLoadSuccess,r=e.registerPage,i=t.state.page;n&&n($M(i,t.scale)),r&&r(t.pageIndex,t.pageElement.current)})),Et(yr(t),"onLoadError",(function(e){t.setState({page:!1}),zM(e);var n=t.props.onLoadError;n&&n(e)})),Et(yr(t),"loadPage",(function(){var e=t.props.pdf,n=t.getPageNumber();if(n){t.setState((function(e){return e.page?{page:null}:null}));var r=DM(e.getPage(n));t.runningTask=r,r.promise.then((function(e){t.setState({page:e},t.onLoadSuccess)})).catch((function(e){t.onLoadError(e)}))}})),t}return It(r,[{key:"componentDidMount",value:function(){h(this.props.pdf,"Attempted to load a page, but no document was specified."),this.loadPage()}},{key:"componentDidUpdate",value:function(e){var t=this.props.pdf;if(e.pdf&&t!==e.pdf||this.getPageNumber()!==this.getPageNumber(e)){var n=this.props.unregisterPage;n&&n(this.getPageIndex(e)),this.loadPage()}}},{key:"componentWillUnmount",value:function(){var e=this.props.unregisterPage;e&&e(this.pageIndex),QM(this.runningTask)}},{key:"childContext",get:function(){var e=this.pageIndex,t=this.pageNumber,n=this.state.page;if(!n)return{};var r=this.props,i=r.canvasBackground,a=r.customTextRenderer,o=r.devicePixelRatio,s=r.onGetAnnotationsError,l=r.onGetAnnotationsSuccess,c=r.onGetTextError,u=r.onGetTextSuccess,d=r.onRenderAnnotationLayerError,h=r.onRenderAnnotationLayerSuccess,f=r.onRenderError,p=r.onRenderSuccess,v=r.onRenderTextLayerError,m=r.onRenderTextLayerSuccess,g=r.renderForms,y=r.renderInteractiveForms;return{canvasBackground:i,customTextRenderer:a,devicePixelRatio:o,onGetAnnotationsError:s,onGetAnnotationsSuccess:l,onGetTextError:c,onGetTextSuccess:u,onRenderAnnotationLayerError:d,onRenderAnnotationLayerSuccess:h,onRenderError:f,onRenderSuccess:p,onRenderTextLayerError:v,onRenderTextLayerSuccess:m,page:n,pageIndex:e,pageNumber:t,renderForms:null!==g&&void 0!==g?g:y,rotate:this.rotate,scale:this.scale}}},{key:"getPageIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return XM(e.pageNumber)?e.pageNumber-1:XM(e.pageIndex)?e.pageIndex:null}},{key:"getPageNumber",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return XM(e.pageNumber)?e.pageNumber:XM(e.pageIndex)?e.pageIndex+1:null}},{key:"pageIndex",get:function(){return this.getPageIndex()}},{key:"pageNumber",get:function(){return this.getPageNumber()}},{key:"rotate",get:function(){var e=this.props.rotate;if(XM(e))return e;var t=this.state.page;return t?t.rotate:null}},{key:"scale",get:function(){var e=this.state.page;if(!e)return null;var t=this.props,n=t.scale,r=t.width,i=t.height,a=this.rotate,o=1,s=null===n?1:n;if(r||i){var l=e.getViewport({scale:1,rotation:a});o=r?r/l.width:i/l.height}return s*o}},{key:"eventProps",get:function(){var e=this;return NM(this.props,(function(){var t=e.state.page;return t?$M(t,e.scale):t}))}},{key:"pageKey",get:function(){return"".concat(this.pageIndex,"@").concat(this.scale,"/").concat(this.rotate)}},{key:"pageKeyNoScale",get:function(){return"".concat(this.pageIndex,"/").concat(this.rotate)}},{key:"renderMainLayer",value:function(){var t=this.props,n=t.canvasRef;switch(t.renderMode){case"none":return null;case"svg":return e.createElement(NT,{key:"".concat(this.pageKeyNoScale,"_svg")});default:return e.createElement(LT,{key:"".concat(this.pageKey,"_canvas"),canvasRef:n})}}},{key:"renderTextLayer",value:function(){var t=this.props.renderTextLayer;return t?e.createElement(HT,{key:"".concat(this.pageKey,"_text")}):null}},{key:"renderAnnotationLayer",value:function(){var t=this.props.renderAnnotationLayer;return t?e.createElement(GT,{key:"".concat(this.pageKey,"_annotations")}):null}},{key:"renderChildren",value:function(){var t=this.props.children;return e.createElement(AT.Provider,{value:this.childContext},this.renderMainLayer(),this.renderTextLayer(),this.renderAnnotationLayer(),t)}},{key:"renderContent",value:function(){var t=this.pageNumber,n=this.props.pdf,r=this.state.page;if(!t){var i=this.props.noData;return e.createElement(BM,{type:"no-data"},"function"===typeof i?i():i)}if(null===n||null===r){var a=this.props.loading;return e.createElement(BM,{type:"loading"},"function"===typeof a?a():a)}if(!1===n||!1===r){var o=this.props.error;return e.createElement(BM,{type:"error"},"function"===typeof o?o():o)}return this.renderChildren()}},{key:"render",value:function(){var t=this.pageNumber,n=this.props,r=n.className,i=n.inputRef;return e.createElement("div",o({className:Xc("react-pdf__Page",r),"data-page-number":t,ref:PT(i,this.pageElement),style:{position:"relative",minWidth:"min-content",minHeight:"min-content"}},this.eventProps),this.renderContent())}}]),r}(e.PureComponent);XT.defaultProps={error:"Failed to load the page.",loading:"Loading page\u2026",noData:"No page specified.",renderAnnotationLayer:!0,renderMode:"canvas",renderTextLayer:!0,scale:1};var YT=a().oneOfType([a().func,a().node]);XT.propTypes=VT(VT({},tT),{},{canvasBackground:a().string,children:a().node,className:rT,customTextRenderer:a().func,devicePixelRatio:a().number,error:YT,height:a().number,imageResourcesPath:a().string,inputRef:lT,loading:YT,noData:YT,onGetTextError:a().func,onGetTextSuccess:a().func,onLoadError:a().func,onLoadSuccess:a().func,onRenderError:a().func,onRenderSuccess:a().func,onRenderTextLayerError:a().func,onRenderTextLayerSuccess:a().func,pageIndex:function(e,t,n){var r=e[t],i=e.pageNumber,a=e.pdf;if(!qM(a))return null;if(qM(r)){if("number"!==typeof r)return new Error("`".concat(t,"` of type `").concat(St(r),"` supplied to `").concat(n,"`, expected `number`."));if(r<0)return new Error("Expected `".concat(t,"` to be greater or equal to 0."));var o=a.numPages;if(r+1>o)return new Error("Expected `".concat(t,"` to be less or equal to ").concat(o-1,"."))}else if(!qM(i))return new Error("`".concat(t,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},pageNumber:function(e,t,n){var r=e[t],i=e.pageIndex,a=e.pdf;if(!qM(a))return null;if(qM(r)){if("number"!==typeof r)return new Error("`".concat(t,"` of type `").concat(St(r),"` supplied to `").concat(n,"`, expected `number`."));if(r<1)return new Error("Expected `".concat(t,"` to be greater or equal to 1."));var o=a.numPages;if(r>o)return new Error("Expected `".concat(t,"` to be less or equal to ").concat(o,"."))}else if(!qM(i))return new Error("`".concat(t,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},pdf:sT,registerPage:a().func,renderAnnotationLayer:a().bool,renderForms:a().bool,renderInteractiveForms:a().bool,renderMode:cT,renderTextLayer:a().bool,rotate:uT,scale:a().number,unregisterPage:a().func,width:a().number});zM(!VM,"Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ".concat(JM)),CM.GlobalWorkerOptions.workerSrc="pdf.worker.js",CM.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(CM.version,"/pdf.worker.min.js");var KT=function(){var t=Gt((0,e.useState)(1200),2),n=(t[0],t[1]);return(0,e.useEffect)((function(){n(window.innerWidth)}),[]),(0,qt.jsx)("div",{})},JT=function(e){return e.scrollTop};function ZT(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}function QT(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function $T(t,n){return e.useMemo((function(){return null==t&&null==n?null:function(e){QT(t,e),QT(n,e)}}),[t,n])}function eP(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var tP={entering:{opacity:1,transform:eP(1)},entered:{opacity:1,transform:"none"}},nP=e.forwardRef((function(t,n){var r=t.children,i=t.disableStrictModeCompat,a=void 0!==i&&i,s=t.in,l=t.onEnter,c=t.onEntered,u=t.onEntering,d=t.onExit,h=t.onExited,f=t.onExiting,p=t.style,v=t.timeout,m=void 0===v?"auto":v,g=t.TransitionComponent,y=void 0===g?ls:g,b=en(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),_=e.useRef(),x=e.useRef(),w=nu(),S=w.unstable_strictMode&&!a,k=e.useRef(null),E=$T(r.ref,n),M=$T(S?k:void 0,E),T=function(e){return function(t,n){if(e){var r=Gt(S?[k.current,t]:[t,n],2),i=r[0],a=r[1];void 0===a?e(i):e(i,a)}}},P=T(u),A=T((function(e,t){JT(e);var n,r=ZT({style:p,timeout:m},{mode:"enter"}),i=r.duration,a=r.delay;"auto"===m?(n=w.transitions.getAutoHeightDuration(e.clientHeight),x.current=n):n=i,e.style.transition=[w.transitions.create("opacity",{duration:n,delay:a}),w.transitions.create("transform",{duration:.666*n,delay:a})].join(","),l&&l(e,t)})),C=T(c),R=T(f),O=T((function(e){var t,n=ZT({style:p,timeout:m},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===m?(t=w.transitions.getAutoHeightDuration(e.clientHeight),x.current=t):t=r,e.style.transition=[w.transitions.create("opacity",{duration:t,delay:i}),w.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=eP(.75),d&&d(e)})),L=T(h);return e.useEffect((function(){return function(){clearTimeout(_.current)}}),[]),e.createElement(y,o({appear:!0,in:s,nodeRef:S?k:void 0,onEnter:A,onEntered:C,onEntering:P,onExit:O,onExited:L,onExiting:R,addEndListener:function(e,t){var n=S?e:t;"auto"===m&&(_.current=setTimeout(n,x.current||0))},timeout:"auto"===m?null:m},b),(function(t,n){return e.cloneElement(r,o({style:o({opacity:0,transform:eP(.75),visibility:"exited"!==t||s?void 0:"hidden"},tP[t],p,r.props.style),ref:M},n))}))}));nP.muiSupportAuto=!0;var rP=nP,iP="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,aP=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(iP&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var oP=iP&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),aP))}};function sP(e){return e&&"[object Function]"==={}.toString.call(e)}function lP(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function cP(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function uP(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=lP(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:uP(cP(e))}function dP(e){return e&&e.referenceNode?e.referenceNode:e}var hP=iP&&!(!window.MSInputMethodContext||!document.documentMode),fP=iP&&/MSIE 10/.test(navigator.userAgent);function pP(e){return 11===e?hP:10===e?fP:hP||fP}function vP(e){if(!e)return document.documentElement;for(var t=pP(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===lP(n,"position")?vP(n):n:e?e.ownerDocument.documentElement:document.documentElement}function mP(e){return null!==e.parentNode?mP(e.parentNode):e}function gP(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,a=document.createRange();a.setStart(r,0),a.setEnd(i,0);var o=a.commonAncestorContainer;if(e!==o&&t!==o||r.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||vP(e.firstElementChild)===e)}(o)?o:vP(o);var s=mP(e);return s.host?gP(s.host,t):gP(e,mP(t).host)}function yP(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function bP(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function _P(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],pP(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function xP(e){var t=e.body,n=e.documentElement,r=pP(10)&&getComputedStyle(n);return{height:_P("Height",t,n,r),width:_P("Width",t,n,r)}}var wP=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},SP=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),kP=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},EP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function MP(e){return EP({},e,{right:e.left+e.width,bottom:e.top+e.height})}function TP(e){var t={};try{if(pP(10)){t=e.getBoundingClientRect();var n=yP(e,"top"),r=yP(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(sC){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?xP(e.ownerDocument):{},o=a.width||e.clientWidth||i.width,s=a.height||e.clientHeight||i.height,l=e.offsetWidth-o,c=e.offsetHeight-s;if(l||c){var u=lP(e);l-=bP(u,"x"),c-=bP(u,"y"),i.width-=l,i.height-=c}return MP(i)}function PP(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=pP(10),i="HTML"===t.nodeName,a=TP(e),o=TP(t),s=uP(e),l=lP(t),c=parseFloat(l.borderTopWidth),u=parseFloat(l.borderLeftWidth);n&&i&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var d=MP({top:a.top-o.top-c,left:a.left-o.left-u,width:a.width,height:a.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var h=parseFloat(l.marginTop),f=parseFloat(l.marginLeft);d.top-=c-h,d.bottom-=c-h,d.left-=u-f,d.right-=u-f,d.marginTop=h,d.marginLeft=f}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=yP(t,"top"),i=yP(t,"left"),a=n?-1:1;return e.top+=r*a,e.bottom+=r*a,e.left+=i*a,e.right+=i*a,e}(d,t)),d}function AP(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===lP(e,"position"))return!0;var n=cP(e);return!!n&&AP(n)}function CP(e){if(!e||!e.parentElement||pP())return document.documentElement;for(var t=e.parentElement;t&&"none"===lP(t,"transform");)t=t.parentElement;return t||document.documentElement}function RP(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},o=i?CP(e):gP(e,dP(t));if("viewport"===r)a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=PP(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),a=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:yP(n),s=t?0:yP(n,"left");return MP({top:o-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:a})}(o,i);else{var s=void 0;"scrollParent"===r?"BODY"===(s=uP(cP(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var l=PP(s,o,i);if("HTML"!==s.nodeName||AP(o))a=l;else{var c=xP(e.ownerDocument),u=c.height,d=c.width;a.top+=l.top-l.marginTop,a.bottom=u+l.top,a.left+=l.left-l.marginLeft,a.right=d+l.left}}var h="number"===typeof(n=n||0);return a.left+=h?n:n.left||0,a.top+=h?n:n.top||0,a.right-=h?n:n.right||0,a.bottom-=h?n:n.bottom||0,a}function OP(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=RP(n,r,a,i),s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},l=Object.keys(s).map((function(e){return EP({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),u=c.length>0?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function LP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return PP(n,r?CP(t):gP(t,dP(n)),r)}function FP(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function IP(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function NP(e,t,n){n=n.split("-")[0];var r=FP(e),i={width:r.width,height:r.height},a=-1!==["right","left"].indexOf(n),o=a?"top":"left",s=a?"left":"top",l=a?"height":"width",c=a?"width":"height";return i[o]=t[o]+t[l]/2-r[l]/2,i[s]=n===s?t[s]-r[c]:t[IP(s)],i}function DP(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function jP(e,t,n){var r=void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=DP(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n));return r.forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&sP(n)&&(t.offsets.popper=MP(t.offsets.popper),t.offsets.reference=MP(t.offsets.reference),t=n(t,e))})),t}function zP(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=LP(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=OP(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=NP(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=jP(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function HP(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function BP(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],a=i?""+i+n:e;if("undefined"!==typeof document.body.style[a])return a}return null}function UP(){return this.state.isDestroyed=!0,HP(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[BP("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function GP(e){var t=e.ownerDocument;return t?t.defaultView:window}function WP(e,t,n,r){var i="BODY"===e.nodeName,a=i?e.ownerDocument.defaultView:e;a.addEventListener(t,n,{passive:!0}),i||WP(uP(a.parentNode),t,n,r),r.push(a)}function VP(e,t,n,r){n.updateBound=r,GP(e).addEventListener("resize",n.updateBound,{passive:!0});var i=uP(e);return WP(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function qP(){this.state.eventsEnabled||(this.state=VP(this.reference,this.options,this.state,this.scheduleUpdate))}function XP(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,GP(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function YP(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function KP(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&YP(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var JP=iP&&/Firefox/i.test(navigator.userAgent);function ZP(e,t,n){var r=DP(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var a="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}var QP=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],$P=QP.slice(3);function eA(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=$P.indexOf(e),r=$P.slice(n+1).concat($P.slice(0,n));return t?r.reverse():r}var tA={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function nA(e,t,n,r){var i=[0,0],a=-1!==["right","left"].indexOf(r),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=o.indexOf(DP(o,(function(e){return-1!==e.search(/,|\s/)})));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[o.slice(0,s).concat([o[s].split(l)[0]]),[o[s].split(l)[1]].concat(o.slice(s+1))]:[o];return c=c.map((function(e,r){var i=(1===r?!a:a)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],o=i[2];if(!a)return e;if(0===o.indexOf("%")){return MP("%p"===o?n:r)[t]/100*a}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a;return a}(e,i,t,n)}))})),c.forEach((function(e,t){e.forEach((function(n,r){YP(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}var rA={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,a=i.reference,o=i.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:kP({},l,a[l]),end:kP({},l,a[l]+a[c]-o[c])};e.offsets.popper=EP({},o,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,a=i.popper,o=i.reference,s=r.split("-")[0],l=void 0;return l=YP(+n)?[+n,0]:nA(n,a,o,s),"left"===s?(a.top+=l[0],a.left-=l[1]):"right"===s?(a.top+=l[0],a.left+=l[1]):"top"===s?(a.left+=l[0],a.top-=l[1]):"bottom"===s&&(a.left+=l[0],a.top+=l[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||vP(e.instance.popper);e.instance.reference===n&&(n=vP(n));var r=BP("transform"),i=e.instance.popper.style,a=i.top,o=i.left,s=i[r];i.top="",i.left="",i[r]="";var l=RP(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=a,i.left=o,i[r]=s,t.boundaries=l;var c=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),kP({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),kP({},n,r)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=EP({},u,d[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],a=Math.floor,o=-1!==["top","bottom"].indexOf(i),s=o?"right":"bottom",l=o?"left":"top",c=o?"width":"height";return n[s]<a(r[l])&&(e.offsets.popper[l]=a(r[l])-n[c]),n[l]>a(r[s])&&(e.offsets.popper[l]=a(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!ZP(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,o=a.popper,s=a.reference,l=-1!==["left","right"].indexOf(i),c=l?"height":"width",u=l?"Top":"Left",d=u.toLowerCase(),h=l?"left":"top",f=l?"bottom":"right",p=FP(r)[c];s[f]-p<o[d]&&(e.offsets.popper[d]-=o[d]-(s[f]-p)),s[d]+p>o[f]&&(e.offsets.popper[d]+=s[d]+p-o[f]),e.offsets.popper=MP(e.offsets.popper);var v=s[d]+s[c]/2-p/2,m=lP(e.instance.popper),g=parseFloat(m["margin"+u]),y=parseFloat(m["border"+u+"Width"]),b=v-e.offsets.popper[d]-g-y;return b=Math.max(Math.min(o[c]-p,b),0),e.arrowElement=r,e.offsets.arrow=(kP(n={},d,Math.round(b)),kP(n,h,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(HP(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=RP(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=IP(r),a=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case tA.FLIP:o=[r,i];break;case tA.CLOCKWISE:o=eA(r);break;case tA.COUNTERCLOCKWISE:o=eA(r,!0);break;default:o=t.behavior}return o.forEach((function(s,l){if(r!==s||o.length===l+1)return e;r=e.placement.split("-")[0],i=IP(r);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,h="left"===r&&d(c.right)>d(u.left)||"right"===r&&d(c.left)<d(u.right)||"top"===r&&d(c.bottom)>d(u.top)||"bottom"===r&&d(c.top)<d(u.bottom),f=d(c.left)<d(n.left),p=d(c.right)>d(n.right),v=d(c.top)<d(n.top),m=d(c.bottom)>d(n.bottom),g="left"===r&&f||"right"===r&&p||"top"===r&&v||"bottom"===r&&m,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===a&&f||y&&"end"===a&&p||!y&&"start"===a&&v||!y&&"end"===a&&m),_=!!t.flipVariationsByContent&&(y&&"start"===a&&p||y&&"end"===a&&f||!y&&"start"===a&&m||!y&&"end"===a&&v),x=b||_;(h||g||x)&&(e.flipped=!0,(h||g)&&(r=o[l+1]),x&&(a=function(e){return"end"===e?"start":"start"===e?"end":e}(a)),e.placement=r+(a?"-"+a:""),e.offsets.popper=EP({},e.offsets.popper,NP(e.instance.popper,e.offsets.reference,e.placement)),e=jP(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,a=r.reference,o=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[o?"left":"top"]=a[n]-(s?i[o?"width":"height"]:0),e.placement=IP(t),e.offsets.popper=MP(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!ZP(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=DP(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,a=DP(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==a?a:t.gpuAcceleration,s=vP(e.instance.popper),l=TP(s),c={position:i.position},u=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,a=Math.round,o=Math.floor,s=function(e){return e},l=a(i.width),c=a(r.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),h=t?u||d||l%2===c%2?a:o:s,f=t?a:s;return{left:h(l%2===1&&c%2===1&&!d&&t?r.left-1:r.left),top:f(r.top),bottom:f(r.bottom),right:h(r.right)}}(e,window.devicePixelRatio<2||!JP),d="bottom"===n?"top":"bottom",h="right"===r?"left":"right",f=BP("transform"),p=void 0,v=void 0;if(v="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-l.height+u.bottom:u.top,p="right"===h?"HTML"===s.nodeName?-s.clientWidth+u.right:-l.width+u.right:u.left,o&&f)c[f]="translate3d("+p+"px, "+v+"px, 0)",c[d]=0,c[h]=0,c.willChange="transform";else{var m="bottom"===d?-1:1,g="right"===h?-1:1;c[d]=v*m,c[h]=p*g,c.willChange=d+", "+h}var y={"x-placement":e.placement};return e.attributes=EP({},y,e.attributes),e.styles=EP({},c,e.styles),e.arrowStyles=EP({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return KP(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&KP(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var a=LP(i,t,e,n.positionFixed),o=OP(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),KP(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},iA={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:rA},aA=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};wP(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=oP(this.update.bind(this)),this.options=EP({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(EP({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){r.options.modifiers[t]=EP({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return EP({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&sP(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return SP(e,[{key:"update",value:function(){return zP.call(this)}},{key:"destroy",value:function(){return UP.call(this)}},{key:"enableEventListeners",value:function(){return qP.call(this)}},{key:"disableEventListeners",value:function(){return XP.call(this)}}]),e}();aA.Utils=("undefined"!==typeof window?window:__webpack_require__.g).PopperUtils,aA.placements=QP,aA.Defaults=iA;var oA=aA;var sA="undefined"!==typeof window?e.useLayoutEffect:e.useEffect;var lA=e.forwardRef((function(t,n){var r=t.children,i=t.container,a=t.disablePortal,o=void 0!==a&&a,s=t.onRendered,l=e.useState(null),c=l[0],u=l[1],d=$T(e.isValidElement(r)?r.ref:null,n);return sA((function(){o||u(function(e){return e="function"===typeof e?e():e,Qo.findDOMNode(e)}(i)||document.body)}),[i,o]),sA((function(){if(c&&!o)return QT(n,c),function(){QT(n,null)}}),[n,c,o]),sA((function(){s&&(c||o)&&s()}),[s,c,o]),o?e.isValidElement(r)?e.cloneElement(r,{ref:d}):r:c?Qo.createPortal(r,c):c}));function cA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}function uA(e){return"function"===typeof e?e():e}var dA="undefined"!==typeof window?e.useLayoutEffect:e.useEffect,hA={},fA=e.forwardRef((function(t,n){var r=t.anchorEl,i=t.children,a=t.container,s=t.disablePortal,l=void 0!==s&&s,c=t.keepMounted,u=void 0!==c&&c,d=t.modifiers,h=t.open,f=t.placement,p=void 0===f?"bottom":f,v=t.popperOptions,m=void 0===v?hA:v,g=t.popperRef,y=t.style,b=t.transition,_=void 0!==b&&b,x=en(t,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),w=e.useRef(null),S=$T(w,n),k=e.useRef(null),E=$T(k,g),M=e.useRef(E);dA((function(){M.current=E}),[E]),e.useImperativeHandle(g,(function(){return k.current}),[]);var T=e.useState(!0),P=T[0],A=T[1],C=function(e,t){if("ltr"===(t&&t.direction||"ltr"))return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(p,dr()),R=e.useState(C),O=R[0],L=R[1];e.useEffect((function(){k.current&&k.current.update()}));var F=e.useCallback((function(){if(w.current&&r&&h){k.current&&(k.current.destroy(),M.current(null));var e=function(e){L(e.placement)},t=(uA(r),new oA(uA(r),w.current,o({placement:C},m,{modifiers:o({},l?{}:{preventOverflow:{boundariesElement:"window"}},d,m.modifiers),onCreate:cA(e,m.onCreate),onUpdate:cA(e,m.onUpdate)})));M.current(t)}}),[r,l,d,h,C,m]),I=e.useCallback((function(e){QT(S,e),F()}),[S,F]),N=function(){k.current&&(k.current.destroy(),M.current(null))};if(e.useEffect((function(){return function(){N()}}),[]),e.useEffect((function(){h||_||N()}),[h,_]),!u&&!h&&(!_||P))return null;var D={placement:O};return _&&(D.TransitionProps={in:h,onEnter:function(){A(!1)},onExited:function(){A(!0),N()}}),e.createElement(lA,{disablePortal:l,container:a},e.createElement("div",o({ref:I,role:"tooltip"},x,{style:o({position:"fixed",top:0,left:0,display:h||!u||_?null:"none"},y)}),"function"===typeof i?i(D):i))})),pA=fA;var vA=!0,mA=!1,gA=null,yA={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function bA(e){e.metaKey||e.altKey||e.ctrlKey||(vA=!0)}function _A(){vA=!1}function xA(){"hidden"===this.visibilityState&&mA&&(vA=!0)}function wA(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return vA||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!yA[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function SA(){mA=!0,window.clearTimeout(gA),gA=window.setTimeout((function(){mA=!1}),100)}function kA(){var t=e.useCallback((function(e){var t,n=Qo.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",bA,!0),t.addEventListener("mousedown",_A,!0),t.addEventListener("pointerdown",_A,!0),t.addEventListener("touchstart",_A,!0),t.addEventListener("visibilitychange",xA,!0))}),[]);return{isFocusVisible:wA,onBlurVisible:SA,ref:t}}function EA(e){return Math.round(1e5*e)/1e5}var MA=!1,TA=null;var PA=e.forwardRef((function(t,n){var r=t.arrow,i=void 0!==r&&r,a=t.children,s=t.classes,l=t.disableFocusListener,c=void 0!==l&&l,u=t.disableHoverListener,d=void 0!==u&&u,h=t.disableTouchListener,f=void 0!==h&&h,p=t.enterDelay,v=void 0===p?100:p,m=t.enterNextDelay,g=void 0===m?0:m,y=t.enterTouchDelay,b=void 0===y?700:y,_=t.id,x=t.interactive,w=void 0!==x&&x,S=t.leaveDelay,k=void 0===S?0:S,E=t.leaveTouchDelay,M=void 0===E?1500:E,T=t.onClose,P=t.onOpen,A=t.open,C=t.placement,R=void 0===C?"bottom":C,O=t.PopperComponent,L=void 0===O?pA:O,F=t.PopperProps,I=t.title,N=t.TransitionComponent,D=void 0===N?rP:N,j=t.TransitionProps,z=en(t,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),H=nu(),B=e.useState(),U=B[0],G=B[1],W=e.useState(null),V=W[0],q=W[1],X=e.useRef(!1),Y=e.useRef(),K=e.useRef(),J=e.useRef(),Z=e.useRef(),Q=function(t){var n=t.controlled,r=t.default,i=(t.name,t.state,e.useRef(void 0!==n).current),a=e.useState(r),o=a[0],s=a[1];return[i?n:o,e.useCallback((function(e){i||s(e)}),[])]}({controlled:A,default:!1,name:"Tooltip",state:"open"}),$=Gt(Q,2),ee=$[0],te=$[1],ne=ee,re=function(t){var n=e.useState(t),r=n[0],i=n[1],a=t||r;return e.useEffect((function(){null==r&&i("mui-".concat(Math.round(1e5*Math.random())))}),[r]),a}(_);e.useEffect((function(){return function(){clearTimeout(Y.current),clearTimeout(K.current),clearTimeout(J.current),clearTimeout(Z.current)}}),[]);var ie=function(e){clearTimeout(TA),MA=!0,te(!0),P&&P(e)},ae=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=a.props;"mouseover"===t.type&&n.onMouseOver&&e&&n.onMouseOver(t),X.current&&"touchstart"!==t.type||(U&&U.removeAttribute("title"),clearTimeout(K.current),clearTimeout(J.current),v||MA&&g?(t.persist(),K.current=setTimeout((function(){ie(t)}),MA?g:v)):ie(t))}},oe=kA(),se=oe.isFocusVisible,le=oe.onBlurVisible,ce=oe.ref,ue=e.useState(!1),de=ue[0],he=ue[1],fe=function(){de&&(he(!1),le())},pe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){U||G(t.currentTarget),se(t)&&(he(!0),ae()(t));var n=a.props;n.onFocus&&e&&n.onFocus(t)}},ve=function(e){clearTimeout(TA),TA=setTimeout((function(){MA=!1}),800+k),te(!1),T&&T(e),clearTimeout(Y.current),Y.current=setTimeout((function(){X.current=!1}),H.transitions.duration.shortest)},me=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=a.props;"blur"===t.type&&(n.onBlur&&e&&n.onBlur(t),fe()),"mouseleave"===t.type&&n.onMouseLeave&&t.currentTarget===U&&n.onMouseLeave(t),clearTimeout(K.current),clearTimeout(J.current),t.persist(),J.current=setTimeout((function(){ve(t)}),k)}},ge=function(e){X.current=!0;var t=a.props;t.onTouchStart&&t.onTouchStart(e)},ye=$T(G,n),be=$T(ce,ye),_e=e.useCallback((function(e){QT(be,Qo.findDOMNode(e))}),[be]),xe=$T(a.ref,_e);""===I&&(ne=!1);var we=o({"aria-describedby":ne?re:null,title:!ne&&!d&&"string"===typeof I?I:null},z,a.props,{className:Xc(z.className,a.props.className),onTouchStart:ge,ref:xe}),Se={};f||(we.onTouchStart=function(e){ge(e),clearTimeout(J.current),clearTimeout(Y.current),clearTimeout(Z.current),e.persist(),Z.current=setTimeout((function(){ae()(e)}),b)},we.onTouchEnd=function(e){a.props.onTouchEnd&&a.props.onTouchEnd(e),clearTimeout(Z.current),clearTimeout(J.current),e.persist(),J.current=setTimeout((function(){ve(e)}),M)}),d||(we.onMouseOver=ae(),we.onMouseLeave=me(),w&&(Se.onMouseOver=ae(!1),Se.onMouseLeave=me(!1))),c||(we.onFocus=pe(),we.onBlur=me(),w&&(Se.onFocus=pe(!1),Se.onBlur=me(!1)));var ke=e.useMemo((function(){return nn({popperOptions:{modifiers:{arrow:{enabled:Boolean(V),element:V}}}},F)}),[V,F]);return e.createElement(e.Fragment,null,e.cloneElement(a,we),e.createElement(L,o({className:Xc(s.popper,w&&s.popperInteractive,i&&s.popperArrow),placement:R,anchorEl:U,open:!!U&&ne,id:we["aria-describedby"],transition:!0},Se,ke),(function(t){var n=t.placement,r=t.TransitionProps;return e.createElement(D,o({timeout:H.transitions.duration.shorter},r,j),e.createElement("div",{className:Xc(s.tooltip,s["tooltipPlacement".concat(Yc(n.split("-")[0]))],X.current&&s.touch,i&&s.tooltipArrow)},I,i?e.createElement("span",{className:s.arrow,ref:q}):null))})))})),AA=yo((function(e){return{popper:{zIndex:e.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}},tooltip:{backgroundColor:yn(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat(EA(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:yn(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat(EA(16/14),"em"),fontWeight:e.typography.fontWeightRegular},tooltipPlacementLeft:Et({transformOrigin:"right center",margin:"0 24px "},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:Et({transformOrigin:"left center",margin:"0 24px"},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:Et({transformOrigin:"center bottom",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:Et({transformOrigin:"center top",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"})}}),{name:"MuiTooltip",flip:!1})(PA),CA={entering:{transform:"none"},entered:{transform:"none"}},RA={enter:Yn.enteringScreen,exit:Yn.leavingScreen},OA=e.forwardRef((function(t,n){var r=t.children,i=t.disableStrictModeCompat,a=void 0!==i&&i,s=t.in,l=t.onEnter,c=t.onEntered,u=t.onEntering,d=t.onExit,h=t.onExited,f=t.onExiting,p=t.style,v=t.timeout,m=void 0===v?RA:v,g=t.TransitionComponent,y=void 0===g?ls:g,b=en(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),_=nu(),x=_.unstable_strictMode&&!a,w=e.useRef(null),S=$T(r.ref,n),k=$T(x?w:void 0,S),E=function(e){return function(t,n){if(e){var r=Gt(x?[w.current,t]:[t,n],2),i=r[0],a=r[1];void 0===a?e(i):e(i,a)}}},M=E(u),T=E((function(e,t){JT(e);var n=ZT({style:p,timeout:m},{mode:"enter"});e.style.webkitTransition=_.transitions.create("transform",n),e.style.transition=_.transitions.create("transform",n),l&&l(e,t)})),P=E(c),A=E(f),C=E((function(e){var t=ZT({style:p,timeout:m},{mode:"exit"});e.style.webkitTransition=_.transitions.create("transform",t),e.style.transition=_.transitions.create("transform",t),d&&d(e)})),R=E(h);return e.createElement(y,o({appear:!0,in:s,nodeRef:x?w:void 0,onEnter:T,onEntered:P,onEntering:M,onExit:C,onExited:R,onExiting:A,timeout:m},b),(function(t,n){return e.cloneElement(r,o({style:o({transform:"scale(0)",visibility:"exited"!==t||s?void 0:"hidden"},CA[t],p,r.props.style),ref:k},n))}))})),LA=OA,FA="undefined"!==typeof window?e.useLayoutEffect:e.useEffect;function IA(t){var n=e.useRef(t);return FA((function(){n.current=t})),e.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}function NA(t,n){var r=Object.create(null);return t&&e.Children.map(t,(function(e){return e})).forEach((function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)})),r}function DA(e,t,n){return null!=n[t]?n[t]:e.props[t]}function jA(t,n,r){var i=NA(t.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];s[i[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(n,i);return Object.keys(a).forEach((function(o){var s=a[o];if((0,e.isValidElement)(s)){var l=o in n,c=o in i,u=n[o],d=(0,e.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,e.isValidElement)(u)&&(a[o]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:u.props.in,exit:DA(s,"exit",t),enter:DA(s,"enter",t)})):a[o]=(0,e.cloneElement)(s,{in:!1}):a[o]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:DA(s,"exit",t),enter:DA(s,"enter",t)})}})),a}var zA=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},HA=function(t){function n(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(yr(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}r(n,t);var i=n.prototype;return i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},i.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=t,i=o,NA(r.children,(function(t){return(0,e.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:DA(t,"appear",r),enter:DA(t,"enter",r),exit:DA(t,"exit",r)})}))):jA(t,a,o),firstRender:!1}},i.handleExited=function(e,t){var n=NA(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=o({},t.children);return delete n[e.key],{children:n}})))},i.render=function(){var t=this.props,n=t.component,r=t.childFactory,i=I(t,["component","childFactory"]),a=this.state.contextValue,o=zA(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?e.createElement(es.Provider,{value:a},o):e.createElement(es.Provider,{value:a},e.createElement(n,i,o))},n}(e.Component);HA.propTypes={},HA.defaultProps={component:"div",childFactory:function(e){return e}};var BA=HA,UA="undefined"===typeof window?e.useEffect:e.useLayoutEffect;var GA=function(t){var n=t.classes,r=t.pulsate,i=void 0!==r&&r,a=t.rippleX,o=t.rippleY,s=t.rippleSize,l=t.in,c=t.onExited,u=void 0===c?function(){}:c,d=t.timeout,h=e.useState(!1),f=h[0],p=h[1],v=Xc(n.ripple,n.rippleVisible,i&&n.ripplePulsate),m={width:s,height:s,top:-s/2+o,left:-s/2+a},g=Xc(n.child,f&&n.childLeaving,i&&n.childPulsate),y=IA(u);return UA((function(){if(!l){p(!0);var e=setTimeout(y,d);return function(){clearTimeout(e)}}}),[y,l,d]),e.createElement("span",{className:v,style:m},e.createElement("span",{className:g}))},WA=80,VA=e.forwardRef((function(t,n){var r=t.center,i=void 0!==r&&r,a=t.classes,s=t.className,l=en(t,["center","classes","className"]),c=e.useState([]),u=c[0],d=c[1],h=e.useRef(0),f=e.useRef(null);e.useEffect((function(){f.current&&(f.current(),f.current=null)}),[u]);var p=e.useRef(!1),v=e.useRef(null),m=e.useRef(null),g=e.useRef(null);e.useEffect((function(){return function(){clearTimeout(v.current)}}),[]);var y=e.useCallback((function(t){var n=t.pulsate,r=t.rippleX,i=t.rippleY,o=t.rippleSize,s=t.cb;d((function(t){return[].concat(da(t),[e.createElement(GA,{key:h.current,classes:a,timeout:550,pulsate:n,rippleX:r,rippleY:i,rippleSize:o})])})),h.current+=1,f.current=s}),[a]),b=e.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,a=void 0!==r&&r,o=t.center,s=void 0===o?i||t.pulsate:o,l=t.fakeElement,c=void 0!==l&&l;if("mousedown"===e.type&&p.current)p.current=!1;else{"touchstart"===e.type&&(p.current=!0);var u,d,h,f=c?null:g.current,b=f?f.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(b.width/2),d=Math.round(b.height/2);else{var _=e.touches?e.touches[0]:e,x=_.clientX,w=_.clientY;u=Math.round(x-b.left),d=Math.round(w-b.top)}if(s)(h=Math.sqrt((2*Math.pow(b.width,2)+Math.pow(b.height,2))/3))%2===0&&(h+=1);else{var S=2*Math.max(Math.abs((f?f.clientWidth:0)-u),u)+2,k=2*Math.max(Math.abs((f?f.clientHeight:0)-d),d)+2;h=Math.sqrt(Math.pow(S,2)+Math.pow(k,2))}e.touches?null===m.current&&(m.current=function(){y({pulsate:a,rippleX:u,rippleY:d,rippleSize:h,cb:n})},v.current=setTimeout((function(){m.current&&(m.current(),m.current=null)}),WA)):y({pulsate:a,rippleX:u,rippleY:d,rippleSize:h,cb:n})}}),[i,y]),_=e.useCallback((function(){b({},{pulsate:!0})}),[b]),x=e.useCallback((function(e,t){if(clearTimeout(v.current),"touchend"===e.type&&m.current)return e.persist(),m.current(),m.current=null,void(v.current=setTimeout((function(){x(e,t)})));m.current=null,d((function(e){return e.length>0?e.slice(1):e})),f.current=t}),[]);return e.useImperativeHandle(n,(function(){return{pulsate:_,start:b,stop:x}}),[_,b,x]),e.createElement("span",o({className:Xc(a.root,s),ref:g},l),e.createElement(BA,{component:null,exit:!0},u))})),qA=yo((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(e.memo(VA)),XA=e.forwardRef((function(t,n){var r=t.action,i=t.buttonRef,a=t.centerRipple,s=void 0!==a&&a,l=t.children,c=t.classes,u=t.className,d=t.component,h=void 0===d?"button":d,f=t.disabled,p=void 0!==f&&f,v=t.disableRipple,m=void 0!==v&&v,g=t.disableTouchRipple,y=void 0!==g&&g,b=t.focusRipple,_=void 0!==b&&b,x=t.focusVisibleClassName,w=t.onBlur,S=t.onClick,k=t.onFocus,E=t.onFocusVisible,M=t.onKeyDown,T=t.onKeyUp,P=t.onMouseDown,A=t.onMouseLeave,C=t.onMouseUp,R=t.onTouchEnd,O=t.onTouchMove,L=t.onTouchStart,F=t.onDragLeave,I=t.tabIndex,N=void 0===I?0:I,D=t.TouchRippleProps,j=t.type,z=void 0===j?"button":j,H=en(t,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),B=e.useRef(null);var U=e.useRef(null),G=e.useState(!1),W=G[0],V=G[1];p&&W&&V(!1);var q=kA(),X=q.isFocusVisible,Y=q.onBlurVisible,K=q.ref;function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return IA((function(r){return t&&t(r),!n&&U.current&&U.current[e](r),!0}))}e.useImperativeHandle(r,(function(){return{focusVisible:function(){V(!0),B.current.focus()}}}),[]),e.useEffect((function(){W&&_&&!m&&U.current.pulsate()}),[m,_,W]);var Z=J("start",P),Q=J("stop",F),$=J("stop",C),ee=J("stop",(function(e){W&&e.preventDefault(),A&&A(e)})),te=J("start",L),ne=J("stop",R),re=J("stop",O),ie=J("stop",(function(e){W&&(Y(e),V(!1)),w&&w(e)}),!1),ae=IA((function(e){B.current||(B.current=e.currentTarget),X(e)&&(V(!0),E&&E(e)),k&&k(e)})),oe=function(){var e=Qo.findDOMNode(B.current);return h&&"button"!==h&&!("A"===e.tagName&&e.href)},se=e.useRef(!1),le=IA((function(e){_&&!se.current&&W&&U.current&&" "===e.key&&(se.current=!0,e.persist(),U.current.stop(e,(function(){U.current.start(e)}))),e.target===e.currentTarget&&oe()&&" "===e.key&&e.preventDefault(),M&&M(e),e.target===e.currentTarget&&oe()&&"Enter"===e.key&&!p&&(e.preventDefault(),S&&S(e))})),ce=IA((function(e){_&&" "===e.key&&U.current&&W&&!e.defaultPrevented&&(se.current=!1,e.persist(),U.current.stop(e,(function(){U.current.pulsate(e)}))),T&&T(e),S&&e.target===e.currentTarget&&oe()&&" "===e.key&&!e.defaultPrevented&&S(e)})),ue=h;"button"===ue&&H.href&&(ue="a");var de={};"button"===ue?(de.type=z,de.disabled=p):("a"===ue&&H.href||(de.role="button"),de["aria-disabled"]=p);var he=$T(i,n),fe=$T(K,B),pe=$T(he,fe),ve=e.useState(!1),me=ve[0],ge=ve[1];e.useEffect((function(){ge(!0)}),[]);var ye=me&&!m&&!p;return e.createElement(ue,o({className:Xc(c.root,u,W&&[c.focusVisible,x],p&&c.disabled),onBlur:ie,onClick:S,onFocus:ae,onKeyDown:le,onKeyUp:ce,onMouseDown:Z,onMouseLeave:ee,onMouseUp:$,onDragLeave:Q,onTouchEnd:ne,onTouchMove:re,onTouchStart:te,ref:pe,tabIndex:p?-1:N},de,H),l,ye?e.createElement(qA,o({ref:U,center:s},D)):null)})),YA=yo({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(XA),KA=e.forwardRef((function(t,n){var r=t.edge,i=void 0!==r&&r,a=t.children,s=t.classes,l=t.className,c=t.color,u=void 0===c?"default":c,d=t.disabled,h=void 0!==d&&d,f=t.disableFocusRipple,p=void 0!==f&&f,v=t.size,m=void 0===v?"medium":v,g=en(t,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return e.createElement(YA,o({className:Xc(s.root,l,"default"!==u&&s["color".concat(Yc(u))],h&&s.disabled,"small"===m&&s["size".concat(Yc(m))],{start:s.edgeStart,end:s.edgeEnd}[i]),centerRipple:!0,focusRipple:!p,disabled:h,ref:n},g),e.createElement("span",{className:s.label},a))})),JA=yo((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:yn(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:yn(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:yn(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(KA),ZA=Zc(e.createElement("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6z"})),QA=Zc(e.createElement("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z"})),$A=Zu((function(e){return{iconButton:{position:"fixed",top:e.spacing(2),right:e.spacing(6),height:"2.5rem",width:"2.5rem",zIndex:2e3},icon:{fontSize:"1.25rem"}}})),eC=function(){var t=(0,e.useContext)(pr),n=t.theme,r=t.toggleTheme,i=$A(),a=Vt().t;return(0,qt.jsx)(AA,{title:a("Home.ToggleTheme"),placement:"bottom",TransitionComponent:LA,children:(0,qt.jsx)(JA,{color:"inherit",onClick:r,"aria-label":"Toggle",className:i.iconButton,children:"light"===n?(0,qt.jsx)(ZA,{className:i.icon}):(0,qt.jsx)(QA,{className:i.icon})})})},tC=Zc(e.createElement("path",{d:"M20 5h-9.12L10 2H4c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h7l1 3h8c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zM7.17 14.59c-2.25 0-4.09-1.83-4.09-4.09s1.83-4.09 4.09-4.09c1.04 0 1.99.37 2.74 1.07l.07.06-1.23 1.18-.06-.05c-.29-.27-.78-.59-1.52-.59-1.31 0-2.38 1.09-2.38 2.42s1.07 2.42 2.38 2.42c1.37 0 1.96-.87 2.12-1.46H7.08V9.91h3.95l.01.07c.04.21.05.4.05.61 0 2.35-1.61 4-3.92 4zm6.03-1.71c.33.6.74 1.18 1.19 1.7l-.54.53-.65-2.23zm.77-.76h-.99l-.31-1.04h3.99s-.34 1.31-1.56 2.74c-.52-.62-.89-1.23-1.13-1.7zM21 20c0 .55-.45 1-1 1h-7l2-2-.81-2.77.92-.92L17.79 18l.73-.73-2.71-2.68c.9-1.03 1.6-2.25 1.92-3.51H19v-1.04h-3.64V9h-1.04v1.04h-1.96L11.18 6H20c.55 0 1 .45 1 1v13z"})),nC=Zu((function(e){return{iconButton:{position:"fixed",top:e.spacing(2),right:e.spacing(14),height:"2.5rem",width:"2.5rem",zIndex:2e3},icon:{fontSize:"1.25rem"}}})),rC=function(){(0,e.useContext)(pr).theme;var t=nC(),n=Vt(),r=n.i18n,i=n.t;return(0,qt.jsx)(AA,{title:i("Home.ToggleLang"),placement:"bottom",TransitionComponent:LA,children:(0,qt.jsx)(JA,{color:"inherit",onClick:function(){return r.changeLanguage("en-US"===r.language?"zh-CN":"en-US")},"aria-label":"Toggle",className:t.iconButton,children:(0,qt.jsx)(tC,{className:t.icon})})})};function iC(){var t=Gt((0,e.useState)(!0),2),n=t[0],r=t[1],i=nu();(0,e.useEffect)((function(){return document.addEventListener("scroll",a,!0),function(){return document.removeEventListener("scroll",a)}}),[n]);var a=function(){var e=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop||0;r(!(e>=300))};return n&&(0,qt.jsx)("div",{className:"scrollIndicator",style:{"--color":i.palette.foreground.default}})}function aC(){return(0,qt.jsxs)("div",{className:"main",children:[(0,qt.jsx)(eC,{}),(0,qt.jsx)(rC,{}),(0,qt.jsx)(jE,{}),(0,qt.jsx)(AM,{"data-aos":"fade-up"}),(0,qt.jsx)(mM,{}),(0,qt.jsx)(KT,{}),(0,qt.jsx)(iC,{})]})}var oC=function(){String.fromCodePoint(9996),["color: ".concat(er),"font-size: 3em","font-weight: 300","padding: 100px 0px 100px 0px"].join(";");var t=function(){navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)&&window.location.reload()};return(0,e.useEffect)((function(){return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}})),(0,qt.jsxs)(vr,{children:[(0,qt.jsx)(xo,{}),(0,qt.jsx)(e.Suspense,{fallback:(0,qt.jsx)("h2",{children:"Loading.."}),children:(0,qt.jsxs)(ee,{children:[(0,qt.jsx)(Xt,{}),(0,qt.jsx)(ru,{}),(0,qt.jsx)(aC,{})]})})]})};(0,t.s)((0,qt.jsx)(oC,{}),document.getElementById("root"))}()})();
//# sourceMappingURL=main.bbaef5a7.js.map